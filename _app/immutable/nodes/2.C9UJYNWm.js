var Ab=Object.defineProperty;var Cb=Object.getPrototypeOf;var Nb=Reflect.get;var kf=t=>{throw TypeError(t)};var Eb=(t,e,n)=>e in t?Ab(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ja=(t,e,n)=>Eb(t,typeof e!="symbol"?e+"":e,n),jo=(t,e,n)=>e.has(t)||kf("Cannot "+n);var vt=(t,e,n)=>(jo(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?kf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Jr=(t,e,n,r)=>(jo(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$n=(t,e,n)=>(jo(t,e,"access private method"),n);var Mf=(t,e,n)=>Nb(Cb(t),n,e);import{b as Sf,d as Pb,f as ct,a as z,c as St,e as dt,t as Rb}from"../chunks/DrQpLrpX.js";import{i as oo}from"../chunks/A1msq-6S.js";import{z as ks,ar as Ou,as as Lb,at as qu,h as Bt,H as ya,au as Du,av as Fb,x as ju,b as Ua,P as Ms,a as zn,c as Qe,U as zb,k as s,a1 as Tr,J as Ob,L as qb,M as Rc,I as Nr,N as ua,ai as Db,O as Iu,aw as Io,al as Bu,F as _a,ax as Tf,Y as On,ay as Ke,az as Ss,aA as jb,ab as Ib,aB as Bb,d as xa,aC as Ts,aD as Ub,ag as Uu,C as ia,B as Yb,S as Yu,aE as Wu,aF as Wb,t as et,aG as Hb,aj as Xb,ah as Gb,Q as co,i as Se,R as so,l as ki,aH as Vb,aI as Zb,aJ as Kb,aK as Qb,aL as Jb,m as $b,aM as t2,E as e2,aN as n2,aO as fo,aP as Bo,ad as Af,ac as Cf,aQ as Nf,ae as r2,e as a2,aR as i2,Z as rt,aS as o2,ap as Hu,p as Ct,aT as rr,f as at,aq as T,w as V,q as Nt,ao as jt,a4 as ve,g as oe,s as X,v as H,aU as Xu,aV as Gu,aW as yi,n as Ye,aX as Rt,u as c2,aY as Vu,aZ as s2,a_ as Ef}from"../chunks/D9CTvQJU.js";import{a as f2,i as l2,c as u2,d as Ya,b as d2,n as h2,e as b2,l as Zu,f as g2,w as m2,g as Le,s as Ht,o as Ku,r as v2}from"../chunks/-IIl_EeI.js";import{c as p2,w as $a}from"../chunks/cPoaZnxi.js";import{p as B,b as Bn,i as $,c as kr,s as As,r as Ce,a as _n,d as on}from"../chunks/DRq266rh.js";import{s as le}from"../chunks/DTH3Evr-.js";const y2=[];function tr(t,e=!1){return _i(t,new Map,"",y2)}function _i(t,e,n,r,a=null){if(typeof t=="object"&&t!==null){var i=e.get(t);if(i!==void 0)return i;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(ks(t)){var o=Array(t.length);e.set(t,o),a!==null&&e.set(a,o);for(var c=0;c<t.length;c+=1){var f=t[c];c in t&&(o[c]=_i(f,e,n,r))}return o}if(Ou(t)===Lb){o={},e.set(t,o),a!==null&&e.set(a,o);for(var l in t)o[l]=_i(t[l],e,n,r);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return _i(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function Qu(){return Symbol(qu)}function _2(t,e,n){Bt&&ya();var r=t,a=zb,i,o=Du()?Fb:ju;Ua(()=>{o(a,a=e())&&(i&&Ms(i),i=zn(()=>n(r)))}),Bt&&(r=Qe)}function Qt(t,e){return e}function x2(t,e,n,r){for(var a=[],i=e.length,o=0;o<i;o++)jb(e[o].e,a,!0);var c=i>0&&a.length===0&&n!==null;if(c){var f=n.parentNode;Ib(f),f.append(n),r.clear(),Rn(t,e[0].prev,e[i-1].next)}Bb(a,()=>{for(var l=0;l<i;l++){var u=e[l];c||(r.delete(u.k),Rn(t,u.prev,u.next)),xa(u.e,!c)}})}function Ut(t,e,n,r,a,i=null){var o=t,c={flags:e,items:new Map,first:null},f=(e&Wu)!==0;if(f){var l=t;o=Bt?Nr(ia(l)):l.appendChild(Yb())}Bt&&ya();var u=null,d=!1,h=Tr(()=>{var b=n();return ks(b)?b:b==null?[]:Bu(b)});Ua(()=>{var b=s(h),g=b.length;if(d&&g===0)return;d=g===0;let m=!1;if(Bt){var v=Ob(o)===qb;v!==(g===0)&&(o=Rc(),Nr(o),ua(!1),m=!0)}if(Bt){for(var p=null,S,A=0;A<g;A++){if(Qe.nodeType===8&&Qe.data===Db){o=Qe,m=!0,ua(!1);break}var x=b[A],k=r(x,A);S=Ju(Qe,c,p,null,x,k,A,a,e,n),c.items.set(k,S),p=S}g>0&&Nr(Rc())}Bt||w2(b,c,o,a,e,r,n),i!==null&&(g===0?u?Iu(u):u=zn(()=>i(o)):u!==null&&Ms(u,()=>{u=null})),m&&ua(!0),s(h)}),Bt&&(o=Qe)}function w2(t,e,n,r,a,i,o){var P,E,F,j;var c=(a&Wb)!==0,f=(a&(Ts|Ss))!==0,l=t.length,u=e.items,d=e.first,h=d,b,g=null,m,v=[],p=[],S,A,x,k;if(c)for(k=0;k<l;k+=1)S=t[k],A=i(S,k),x=u.get(A),x!==void 0&&((P=x.a)==null||P.measure(),(m??(m=new Set)).add(x));for(k=0;k<l;k+=1){if(S=t[k],A=i(S,k),x=u.get(A),x===void 0){var _=h?h.e.nodes_start:n;g=Ju(_,e,g,g===null?e.first:g.next,S,A,k,r,a,o),u.set(A,g),v=[],p=[],h=g.next;continue}if(f&&k2(x,S,k,a),(x.e.f&Io)!==0&&(Iu(x.e),c&&((E=x.a)==null||E.unfix(),(m??(m=new Set)).delete(x))),x!==h){if(b!==void 0&&b.has(x)){if(v.length<p.length){var y=p[0],M;g=y.prev;var w=v[0],N=v[v.length-1];for(M=0;M<v.length;M+=1)Pf(v[M],y,n);for(M=0;M<p.length;M+=1)b.delete(p[M]);Rn(e,w.prev,N.next),Rn(e,g,w),Rn(e,N,y),h=y,g=N,k-=1,v=[],p=[]}else b.delete(x),Pf(x,h,n),Rn(e,x.prev,x.next),Rn(e,x,g===null?e.first:g.next),Rn(e,g,x),g=x;continue}for(v=[],p=[];h!==null&&h.k!==A;)(h.e.f&Io)===0&&(b??(b=new Set)).add(h),p.push(h),h=h.next;if(h===null)continue;x=h}v.push(x),g=x,h=x.next}if(h!==null||b!==void 0){for(var C=b===void 0?[]:Bu(b);h!==null;)(h.e.f&Io)===0&&C.push(h),h=h.next;var R=C.length;if(R>0){var L=(a&Wu)!==0&&l===0?n:null;if(c){for(k=0;k<R;k+=1)(F=C[k].a)==null||F.measure();for(k=0;k<R;k+=1)(j=C[k].a)==null||j.fix()}x2(e,C,L,u)}}c&&Yu(()=>{var D;if(m!==void 0)for(x of m)(D=x.a)==null||D.apply()}),_a.first=e.first&&e.first.e,_a.last=g&&g.e}function k2(t,e,n,r){(r&Ts)!==0&&Tf(t.v,e),(r&Ss)!==0?Tf(t.i,n):t.i=n}function Ju(t,e,n,r,a,i,o,c,f,l){var u=(f&Ts)!==0,d=(f&Ub)===0,h=u?d?On(a):Ke(a):a,b=(f&Ss)===0?o:Ke(o),g={i:b,v:h,k:i,a:null,e:null,prev:n,next:r};try{return g.e=zn(()=>c(t,h,b,l),Bt),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?e.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Pf(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var o=Uu(i);a.before(i),i=o}}function Rn(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function M2(t,e,n=!1,r=!1,a=!1){var i=t,o="";et(()=>{var c=_a;if(o===(o=e()??"")){Bt&&ya();return}if(c.nodes_start!==null&&(Hb(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),o!==""){if(Bt){Qe.data;for(var f=ya(),l=f;f!==null&&(f.nodeType!==8||f.data!=="");)l=f,f=Uu(f);if(f===null)throw Xb(),Gb;Sf(Qe,l),i=Nr(f);return}var u=o+"";n?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var d=Pb(u);if((n||r)&&(d=ia(d)),Sf(ia(d),d.lastChild),n||r)for(;ia(d);)i.before(ia(d));else i.before(d)}})}function wa(t,e,n){co(()=>{var r=Se(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1,i={};so(()=>{var o=n();ki(o),a&&ju(i,o)&&(i=o,r.update(o))}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function $u(t,e){var n=void 0,r;Ua(()=>{n!==(n=e())&&(r&&(xa(r),r=null),n&&(r=zn(()=>{co(()=>n(t))})))})}function t0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=t0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function S2(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=t0(t))&&(r&&(r+=" "),r+=e);return r}function ye(t){return typeof t=="object"?S2(t):t??""}const Rf=[...` 	
\r\fÂ \v\uFEFF`];function T2(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,o=0;(o=r.indexOf(a,o))>=0;){var c=o+i;(o===0||Rf.includes(r[o-1]))&&(c===r.length||Rf.includes(r[c]))?r=(o===0?"":r.substring(0,o))+r.substring(c+1):o=c}}return r===""?null:r}function Lf(t,e=!1){var n=e?" !important;":";",r="";for(var a in t){var i=t[a];i!=null&&i!==""&&(r+=" "+a+": "+i+n)}return r}function Uo(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function A2(t,e){if(e){var n="",r,a;if(Array.isArray(e)?(r=e[0],a=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,c=!1,f=[];r&&f.push(...Object.keys(r).map(Uo)),a&&f.push(...Object.keys(a).map(Uo));var l=0,u=-1;const m=t.length;for(var d=0;d<m;d++){var h=t[d];if(c?h==="/"&&t[d-1]==="*"&&(c=!1):i?i===h&&(i=!1):h==="/"&&t[d+1]==="*"?c=!0:h==='"'||h==="'"?i=h:h==="("?o++:h===")"&&o--,!c&&i===!1&&o===0){if(h===":"&&u===-1)u=d;else if(h===";"||d===m-1){if(u!==-1){var b=Uo(t.substring(l,u).trim());if(!f.includes(b)){h!==";"&&d++;var g=t.substring(l,d).trim();n+=" "+g+";"}}l=d+1,u=-1}}}}return r&&(n+=Lf(r)),a&&(n+=Lf(a,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function It(t,e,n,r,a,i){var o=t.__className;if(Bt||o!==n||o===void 0){var c=T2(n,r,i);(!Bt||c!==t.getAttribute("class"))&&(c==null?t.removeAttribute("class"):e?t.className=c:t.setAttribute("class",c)),t.__className=n}else if(i&&a!==i)for(var f in i){var l=!!i[f];(a==null||l!==!!a[f])&&t.classList.toggle(f,l)}return i}function Yo(t,e={},n,r){for(var a in n){var i=n[a];e[a]!==i&&(n[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,r))}}function At(t,e,n,r){var a=t.__style;if(Bt||a!==e){var i=A2(e,r);(!Bt||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=e}else r&&(Array.isArray(r)?(Yo(t,n==null?void 0:n[0],r[0]),Yo(t,n==null?void 0:n[1],r[1],"important")):Yo(t,n,r));return r}function Lc(t,e,n){if(t.multiple){if(e==null)return;if(!ks(e))return Vb();for(var r of t.options)r.selected=e.includes(Ff(r));return}for(r of t.options){var a=Ff(r);if(Zb(a,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function C2(t,e){let n=!0;co(()=>{e&&Lc(t,Se(e),n),n=!1;var r=new MutationObserver(()=>{var a=t.__value;Lc(t,a)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ff(t){return"__value"in t?t.__value:t.value}const $r=Symbol("class"),ta=Symbol("style"),e0=Symbol("is custom element"),n0=Symbol("is html");function Me(t){if(Bt){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;Y(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var a=t.checked;Y(t,"checked",null),t.checked=a}}};t.__on_r=n,Qb(n),f2()}}function Ue(t,e){var n=Ns(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function N2(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Y(t,e,n,r){var a=Ns(t);Bt&&(a[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||a[e]!==(a[e]=n)&&(e==="loading"&&(t[Kb]=n),n==null?t.removeAttribute(e):typeof n!="string"&&r0(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function E2(t,e,n,r,a=!1){var i=Ns(t),o=i[e0],c=!i[n0];let f=Bt&&o;f&&ua(!1);var l=e||{},u=t.tagName==="OPTION";for(var d in e)d in n||(n[d]=null);n.class?n.class=ye(n.class):(r||n[$r])&&(n.class=null),n[ta]&&(n.style??(n.style=null));var h=r0(t);for(const A in n){let x=n[A];if(u&&A==="value"&&x==null){t.value=t.__value="",l[A]=x;continue}if(A==="class"){var b=t.namespaceURI==="http://www.w3.org/1999/xhtml";It(t,b,x,r,e==null?void 0:e[$r],n[$r]),l[A]=x,l[$r]=n[$r];continue}if(A==="style"){At(t,x,e==null?void 0:e[ta],n[ta]),l[A]=x,l[ta]=n[ta];continue}var g=l[A];if(x!==g){l[A]=x;var m=A[0]+A[1];if(m!=="$$")if(m==="on"){const k={},_="$$"+A;let y=A.slice(2);var v=b2(y);if(l2(y)&&(y=y.slice(0,-7),k.capture=!0),!v&&g){if(x!=null)continue;t.removeEventListener(y,l[_],k),l[_]=null}if(x!=null)if(v)t[`__${y}`]=x,Ya([y]);else{let M=function(w){l[A].call(this,w)};l[_]=u2(y,t,M,k)}else v&&(t[`__${y}`]=void 0)}else if(A==="style")Y(t,A,x);else if(A==="autofocus")d2(t,!!x);else if(!o&&(A==="__value"||A==="value"&&x!=null))t.value=t.__value=x;else if(A==="selected"&&u)N2(t,x);else{var p=A;c||(p=h2(p));var S=p==="defaultValue"||p==="defaultChecked";if(x==null&&!o&&!S)if(i[A]=null,p==="value"||p==="checked"){let k=t;const _=e===void 0;if(p==="value"){let y=k.defaultValue;k.removeAttribute(p),k.defaultValue=y,k.value=k.__value=_?y:null}else{let y=k.defaultChecked;k.removeAttribute(p),k.defaultChecked=y,k.checked=_?y:!1}}else t.removeAttribute(A);else S||h.includes(p)&&(o||typeof x!="string")?t[p]=x:typeof x!="function"&&Y(t,p,x)}}}return f&&ua(!0),l}function Cs(t,e,n=[],r,a=!1,i=$b){const o=n.map(i);var c=void 0,f={},l=t.nodeName==="SELECT",u=!1;Ua(()=>{var d=e(...o.map(s));E2(t,c,d,r,a),u&&l&&Lc(t,d.value,!1);for(let b of Object.getOwnPropertySymbols(f))d[b]||xa(f[b]);for(let b of Object.getOwnPropertySymbols(d)){var h=d[b];b.description===qu&&(!c||h!==c[b])&&(f[b]&&xa(f[b]),f[b]=zn(()=>$u(t,()=>h)))}c=d}),l&&C2(t,()=>c.value),u=!0}function Ns(t){return t.__attributes??(t.__attributes={[e0]:t.nodeName.includes("-"),[n0]:t.namespaceURI===Jb})}var zf=new Map;function r0(t){var e=zf.get(t.nodeName);if(e)return e;zf.set(t.nodeName,e=[]);for(var n,r=t,a=Element.prototype;a!==r;){n=t2(r);for(var i in n)n[i].set&&e.push(i);r=Ou(r)}return e}function a0(t,e,n=e){var r=Du();Zu(t,"input",a=>{var i=a?t.defaultValue:t.value;if(i=Wo(t)?Ho(i):i,n(i),r&&i!==(i=e())){var o=t.selectionStart,c=t.selectionEnd;t.value=i??"",c!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(c,t.value.length))}}),(Bt&&t.defaultValue!==t.value||Se(e)==null&&t.value)&&n(Wo(t)?Ho(t.value):t.value),so(()=>{var a=e();Wo(t)&&a===Ho(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function P2(t,e,n=e){Zu(t,"change",r=>{var a=r?t.defaultChecked:t.checked;n(a)}),(Bt&&t.defaultChecked!==t.checked||Se(e)==null)&&n(t.checked),so(()=>{var r=e();t.checked=!!r})}function Wo(t){var e=t.type;return e==="number"||e==="range"}function Ho(t){return t===""?null:+t}var Ln,Rr,qa,ao,i0;const io=class io{constructor(e){ie(this,ao);ie(this,Ln,new WeakMap);ie(this,Rr);ie(this,qa);Jr(this,qa,e)}observe(e,n){var r=vt(this,Ln).get(e)||new Set;return r.add(n),vt(this,Ln).set(e,r),$n(this,ao,i0).call(this).observe(e,vt(this,qa)),()=>{var a=vt(this,Ln).get(e);a.delete(n),a.size===0&&(vt(this,Ln).delete(e),vt(this,Rr).unobserve(e))}}};Ln=new WeakMap,Rr=new WeakMap,qa=new WeakMap,ao=new WeakSet,i0=function(){return vt(this,Rr)??Jr(this,Rr,new ResizeObserver(e=>{for(var n of e){io.entries.set(n.target,n);for(var r of vt(this,Ln).get(n.target)||[])r(n)}}))},Ja(io,"entries",new WeakMap);let Fc=io;var R2=new Fc({box:"border-box"});function L2(t,e,n){var r=R2.observe(t,()=>n(t[e]));co(()=>(Se(()=>n(t[e])),r))}function Of(t,e){g2(window,["resize"],()=>m2(()=>e(window[t])))}function qf(t,e){var n=_a,r=r2,a=a2;Af(t),Cf(t),Nf(t.ctx);try{e()}finally{Af(n),Cf(r),Nf(a)}}function Df(t,e,n){var r=t,a;Ua(()=>{var i=_a,o=Qe,c=!1;i.fn=f=>{var l=e.onerror;let u=e.failed;if(!l&&!u||c)throw f;var d=()=>{Ms(a),qf(i,()=>{c=!1,a=zn(()=>n(r)),Bo()})};l==null||l(f,d),a?xa(a):Bt&&(Nr(o),fo(),Nr(Rc())),u&&Yu(()=>{qf(i,()=>{c=!0;try{a=zn(()=>{u(r,()=>f,()=>d)})}catch(h){i2(h,i,null,i.ctx)}Bo(),c=!1})})},Bt&&ya(),a=zn(()=>n(r)),Bo()},e2|n2),Bt&&(r=Qe)}function Mr(t){rt(t,t.v+1)}function F2(t){let e=0,n=Ke(0),r;return()=>{o2()&&(s(n),so(()=>(e===0&&(r=Se(()=>t(()=>Mr(n)))),e+=1,()=>{Hu().then(()=>{e-=1,e===0&&(r==null||r(),r=void 0)})})))}}var z2={grad:.9,turn:360,rad:360/(2*Math.PI)},un=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},ee=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Fe=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},o0=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},jf=function(t){return{r:Fe(t.r,0,255),g:Fe(t.g,0,255),b:Fe(t.b,0,255),a:Fe(t.a)}},Xo=function(t){return{r:ee(t.r),g:ee(t.g),b:ee(t.b),a:ee(t.a,3)}},O2=/^#([0-9a-f]{3,8})$/i,ti=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},c0=function(t){var e=t.r,n=t.g,r=t.b,a=t.a,i=Math.max(e,n,r),o=i-Math.min(e,n,r),c=o?i===e?(n-r)/o:i===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(c<0?c+6:c),s:i?o/i*100:0,v:i/255*100,a}},s0=function(t){var e=t.h,n=t.s,r=t.v,a=t.a;e=e/360*6,n/=100,r/=100;var i=Math.floor(e),o=r*(1-n),c=r*(1-(e-i)*n),f=r*(1-(1-e+i)*n),l=i%6;return{r:255*[r,c,o,o,f,r][l],g:255*[f,r,r,c,o,o][l],b:255*[o,o,f,r,r,c][l],a}},If=function(t){return{h:o0(t.h),s:Fe(t.s,0,100),l:Fe(t.l,0,100),a:Fe(t.a)}},Bf=function(t){return{h:ee(t.h),s:ee(t.s),l:ee(t.l),a:ee(t.a,3)}},Uf=function(t){return s0((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},da=function(t){return{h:(e=c0(t)).h,s:(a=(200-(n=e.s))*(r=e.v)/100)>0&&a<200?n*r/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var e,n,r,a},q2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,D2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,j2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Yf={string:[[function(t){var e=O2.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ee(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?ee(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=j2.exec(t)||I2.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:jf({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=q2.exec(t)||D2.exec(t);if(!e)return null;var n,r,a=If({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(z2[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Uf(a)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,a=t.a,i=a===void 0?1:a;return un(e)&&un(n)&&un(r)?jf({r:Number(e),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,a=t.a,i=a===void 0?1:a;if(!un(e)||!un(n)||!un(r))return null;var o=If({h:Number(e),s:Number(n),l:Number(r),a:Number(i)});return Uf(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,a=t.a,i=a===void 0?1:a;if(!un(e)||!un(n)||!un(r))return null;var o=function(c){return{h:o0(c.h),s:Fe(c.s,0,100),v:Fe(c.v,0,100),a:Fe(c.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(i)});return s0(o)},"hsv"]]},Wf=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},B2=function(t){return typeof t=="string"?Wf(t.trim(),Yf.string):typeof t=="object"&&t!==null?Wf(t,Yf.object):[null,void 0]},Go=function(t,e){var n=da(t);return{h:n.h,s:Fe(n.s+100*e,0,100),l:n.l,a:n.a}},Vo=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Hf=function(t,e){var n=da(t);return{h:n.h,s:n.s,l:Fe(n.l+100*e,0,100),a:n.a}},Xf=function(){function t(e){this.parsed=B2(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return ee(Vo(this.rgba),2)},t.prototype.isDark=function(){return Vo(this.rgba)<.5},t.prototype.isLight=function(){return Vo(this.rgba)>=.5},t.prototype.toHex=function(){return e=Xo(this.rgba),n=e.r,r=e.g,a=e.b,o=(i=e.a)<1?ti(ee(255*i)):"","#"+ti(n)+ti(r)+ti(a)+o;var e,n,r,a,i,o},t.prototype.toRgb=function(){return Xo(this.rgba)},t.prototype.toRgbString=function(){return e=Xo(this.rgba),n=e.r,r=e.g,a=e.b,(i=e.a)<1?"rgba("+n+", "+r+", "+a+", "+i+")":"rgb("+n+", "+r+", "+a+")";var e,n,r,a,i},t.prototype.toHsl=function(){return Bf(da(this.rgba))},t.prototype.toHslString=function(){return e=Bf(da(this.rgba)),n=e.h,r=e.s,a=e.l,(i=e.a)<1?"hsla("+n+", "+r+"%, "+a+"%, "+i+")":"hsl("+n+", "+r+"%, "+a+"%)";var e,n,r,a,i},t.prototype.toHsv=function(){return e=c0(this.rgba),{h:ee(e.h),s:ee(e.s),v:ee(e.v),a:ee(e.a,3)};var e},t.prototype.invert=function(){return ke({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ke(Go(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ke(Go(this.rgba,-e))},t.prototype.grayscale=function(){return ke(Go(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ke(Hf(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ke(Hf(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ke({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):ee(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=da(this.rgba);return typeof e=="number"?ke({h:e,s:n.s,l:n.l,a:n.a}):ee(n.h)},t.prototype.isEqual=function(e){return this.toHex()===ke(e).toHex()},t}(),ke=function(t){return t instanceof Xf?t:new Xf(t)};function U2(t,e,n,r,a,i,o){var f;const c=t.shiftKey?s(e)*10:s(e);t.key==="ArrowUp"||t.key==="ArrowRight"?(n(n()+c),t.preventDefault()):t.key==="ArrowDown"||t.key==="ArrowLeft"?(n(n()-c),t.preventDefault()):t.key==="Home"?(n(s(r)),t.preventDefault()):t.key==="End"?(n(s(a)),t.preventDefault()):t.key==="PageUp"?(n(n()+s(e)*10),t.preventDefault()):t.key==="PageDown"&&(n(n()-s(e)*10),t.preventDefault()),n(i(n())),(f=o.onInput)==null||f.call(o,n())}var Y2=ct('<input type="hidden"/>'),W2=ct('<div role="slider" tabindex="0"><div class="track svelte-lo47zs"></div> <div class="thumb svelte-lo47zs"></div></div> <!>',1);function Mi(t,e){Ct(e,!0);let n=B(e,"min",3,0),r=B(e,"max",3,100),a=B(e,"step",3,1),i=B(e,"value",15,50),o=B(e,"ariaValueText",3,L=>L.toString()),c=B(e,"direction",3,"horizontal"),f=B(e,"reverse",3,!1),l=B(e,"keyboardOnly",3,!1),u=B(e,"slider",7),d=B(e,"isDragging",7,!1);const h=T(()=>typeof n()=="string"?parseFloat(n()):n()),b=T(()=>typeof r()=="string"?parseFloat(r()):r()),g=T(()=>typeof a()=="string"?parseFloat(a()):a());function m(L){const P=1/s(g),E=Math.round(L*P)/P;return Math.max(s(h),Math.min(s(b),E))}const v={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function p(L){var j,D,q;const P=((j=u())==null?void 0:j[v[c()].clientSize])||120,E=((D=u())==null?void 0:D.getBoundingClientRect()[v[c()].offset])||0;let F=L[v[c()].client]-E;c()==="vertical"&&(F=-1*F+P),f()?i(s(b)-F/P*(s(b)-s(h))):i(F/P*(s(b)-s(h))+s(h)),i(m(i())),(q=e.onInput)==null||q.call(e,i())}function S(L){p(L),d(!0)}function A(L){d()&&p(L)}function x(){d(!1)}function k(L){L.preventDefault(),p({clientX:L.changedTouches[0].clientX,clientY:L.changedTouches[0].clientY})}const _=T(()=>((i()-s(h))/(s(b)-s(h))*1).toFixed(4));var y=W2();Le("mousemove",rr,A),Le("mouseup",rr,x);var M=at(y);let w;M.__keydown=[U2,g,i,h,b,m,e],M.__mousedown=function(...L){var P;(P=l()?void 0:S)==null||P.apply(this,L)},M.__touchstart=function(...L){var P;(P=l()?void 0:k)==null||P.apply(this,L)},M.__touchmove=function(...L){var P;(P=l()?void 0:k)==null||P.apply(this,L)},M.__touchend=function(...L){var P;(P=l()?void 0:k)==null||P.apply(this,L)};let N;Bn(M,L=>u(L),()=>u());var C=V(M,2);{var R=L=>{var P=Y2();Me(P),et(()=>{Y(P,"name",e.name),Ue(P,i())}),z(L,P)};$(C,L=>{e.name&&L(R)})}et((L,P)=>{w=It(M,1,"slider svelte-lo47zs",null,w,L),Y(M,"aria-orientation",c()),Y(M,"aria-valuemax",s(b)),Y(M,"aria-valuemin",s(h)),Y(M,"aria-valuenow",i()),Y(M,"aria-valuetext",P),Y(M,"aria-label",e.ariaLabel),Y(M,"aria-labelledby",e.ariaLabelledBy),Y(M,"aria-controls",e.ariaControls),N=At(M,"",N,{"--position":s(_)})},[()=>({reverse:f()}),()=>o()(i())]),z(t,y),Nt()}Ya(["keydown","mousedown","touchstart","touchmove","touchend"]);function Zo(t,e){t.preventDefault(),e(t.changedTouches[0])}var H2=ct('<div class="picker svelte-ckxa16"><!> <div class="s svelte-ckxa16"><!></div> <div class="v svelte-ckxa16"><!></div></div>');function X2(t,e){Ct(e,!0);let n=B(e,"s",15),r=B(e,"v",15),a=jt(void 0),i=!1,o=jt(ve({x:100,y:0})),c=T(()=>ke({h:e.h,s:100,v:100,a:1}).toHex());function f(y,M,w){return Math.min(Math.max(M,y),w)}function l(y){if(!s(a))return;const{width:M,left:w,height:N,top:C}=s(a).getBoundingClientRect(),R={x:f(y.clientX-w,0,M),y:f(y.clientY-C,0,N)};n(f(R.x/M,0,1)*100),r(f((N-R.y)/N,0,1)*100),b()}function u(y){y.preventDefault(),y.button===0&&(i=!0,l(y))}function d(){i=!1}function h(y){i&&l(y)}oe(()=>{typeof n()=="number"&&typeof r()=="number"&&s(a)&&rt(o,{x:n(),y:100-r()},!0)});function b(y={}){e.onInput({s:n(),v:r(),...y})}var g=H2();Le("mouseup",rr,d),Le("mousemove",rr,h),g.__mousedown=u,g.__touchstart=[Zo,l],g.__touchmove=[Zo,l],g.__touchend=[Zo,l];let m;var v=X(g);kr(v,()=>e.components.pickerIndicator,(y,M)=>{M(y,{get pos(){return s(o)},get isDark(){return e.isDark}})});var p=V(v,2);let S;var A=X(p);Mi(A,{get value(){return n()},onInput:y=>b({s:y}),keyboardOnly:!0,ariaValueText:y=>`${y}%`,get ariaLabel(){return e.texts.label.s}}),H(p);var x=V(p,2);let k;var _=X(x);Mi(_,{get value(){return r()},onInput:y=>b({v:y}),keyboardOnly:!0,ariaValueText:y=>`${y}%`,direction:"vertical",get ariaLabel(){return e.texts.label.v}}),H(x),H(g),Bn(g,y=>rt(a,y),()=>s(a)),et(()=>{m=At(g,"",m,{"--picker-color-bg":s(c)}),S=At(p,"",S,{"--pos-y":s(o).y}),k=At(x,"",k,{"--pos-x":s(o).x})}),z(t,g),Nt()}Ya(["mousedown","touchstart","touchmove","touchend"]);var G2=ct('<div class="picker-indicator svelte-1h8ycw8"></div>');function V2(t,e){Ct(e,!0);var n=G2();let r;et(()=>r=At(n,"",r,{"--pos-x":e.pos.x,"--pos-y":e.pos.y})),z(t,n),Nt()}function Z2(t,e,n,r){const a=t.target;e.test(a.value)&&(n(a.value),r.onInput({hex:n()}))}var K2=ct('<input class="svelte-qtukzs"/>'),Q2=ct('<input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/>',1),J2=ct('<input type="number" min="0" max="360" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/>',1),$2=ct('<input type="number" min="0" max="1" step="0.01" class="svelte-qtukzs"/>'),tg=(t,e,n)=>rt(e,s(n),!0),eg=ct('<button type="button" class="svelte-qtukzs"><span class="disappear svelte-qtukzs" aria-hidden="true"> </span> <span class="appear svelte-qtukzs"> </span></button>'),ng=ct('<div class="button-like svelte-qtukzs"> </div>'),rg=ct('<div class="text-input svelte-qtukzs"><div class="input-container svelte-qtukzs"><!> <!></div> <!></div>');function ag(t,e){Ct(e,!0);let n=B(e,"rgb",15),r=B(e,"hsv",15),a=B(e,"hex",15);const i=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let o=jt(ve(e.textInputModes[0]||"hex")),c=T(()=>e.textInputModes[(e.textInputModes.indexOf(s(o))+1)%e.textInputModes.length]),f=T(()=>Math.round(r().h)),l=T(()=>Math.round(r().s)),u=T(()=>Math.round(r().v)),d=T(()=>r().a===void 0?1:Math.round(r().a*100)/100);function h(M){return function(w){n({...n(),[M]:parseFloat(w.target.value)}),e.onInput({rgb:n()})}}function b(M){return function(w){r({...r(),[M]:parseFloat(w.target.value)}),e.onInput({hsv:r()})}}var g=rg(),m=X(g),v=X(m);{var p=M=>{var w=K2();Me(w),w.__input=[Z2,i,a,e],At(w,"",{},{flex:3}),et(()=>{Y(w,"aria-label",e.texts.label.hex),Ue(w,a())}),z(M,w)},S=(M,w)=>{{var N=R=>{var L=Q2(),P=at(L);Me(P);var E=T(()=>h("r"));P.__input=function(...K){var Q;(Q=s(E))==null||Q.apply(this,K)};var F=V(P,2);Me(F);var j=T(()=>h("g"));F.__input=function(...K){var Q;(Q=s(j))==null||Q.apply(this,K)};var D=V(F,2);Me(D);var q=T(()=>h("b"));D.__input=function(...K){var Q;(Q=s(q))==null||Q.apply(this,K)},et(()=>{Y(P,"aria-label",e.texts.label.r),Ue(P,n().r),Y(F,"aria-label",e.texts.label.g),Ue(F,n().g),Y(D,"aria-label",e.texts.label.b),Ue(D,n().b)}),z(R,L)},C=R=>{var L=J2(),P=at(L);Me(P);var E=T(()=>b("h"));P.__input=function(...K){var Q;(Q=s(E))==null||Q.apply(this,K)};var F=V(P,2);Me(F);var j=T(()=>b("s"));F.__input=function(...K){var Q;(Q=s(j))==null||Q.apply(this,K)};var D=V(F,2);Me(D);var q=T(()=>b("v"));D.__input=function(...K){var Q;(Q=s(q))==null||Q.apply(this,K)},et(()=>{Y(P,"aria-label",e.texts.label.h),Ue(P,s(f)),Y(F,"aria-label",e.texts.label.s),Ue(F,s(l)),Y(D,"aria-label",e.texts.label.v),Ue(D,s(u))}),z(R,L)};$(M,R=>{s(o)==="rgb"?R(N):R(C,!1)},w)}};$(v,M=>{s(o)==="hex"?M(p):M(S,!1)})}var A=V(v,2);{var x=M=>{var w=$2();Me(w);var N=T(()=>s(o)==="hsv"?b("a"):h("a"));w.__input=function(...C){var R;(R=s(N))==null||R.apply(this,C)},et(()=>{Y(w,"aria-label",e.texts.label.a),Ue(w,s(d))}),z(M,w)};$(A,M=>{e.isAlpha&&M(x)})}H(m);var k=V(m,2);{var _=M=>{var w=eg();w.__click=[tg,o,c];var N=X(w),C=X(N,!0);H(N);var R=V(N,2),L=X(R);H(R),H(w),et(()=>{Ht(C,e.texts.color[s(o)]),Ht(L,`${e.texts.changeTo??""} ${e.texts.color[s(c)]??""}`)}),z(M,w)},y=M=>{var w=ng(),N=X(w,!0);H(w),et(()=>Ht(N,e.texts.color[s(o)])),z(M,w)};$(k,M=>{e.textInputModes.length>1?M(_):M(y,!1)})}H(g),z(t,g),Nt()}Ya(["input","click"]);function ei(t){t.preventDefault()}var ig=ct('<label class="svelte-lemcb1"><div class="container svelte-lemcb1"><input type="color" aria-haspopup="dialog" class="svelte-lemcb1"/> <div class="alpha svelte-lemcb1"></div> <div class="color svelte-lemcb1"></div></div> </label>');function og(t,e){Ct(e,!0);let n=B(e,"labelElement",15),r=B(e,"name",3,void 0);var a=ig();a.__click=[ei],a.__mousedown=[ei];var i=X(a),o=X(i);Me(o),o.__click=[ei],o.__mousedown=[ei];var c=V(o,4);let f;H(i);var l=V(i);H(a),Bn(a,u=>n(u),()=>n()),et(()=>{Y(a,"dir",e.dir),Y(o,"name",r()),Ue(o,e.hex),f=At(c,"",f,{background:e.hex}),Ht(l,` ${e.label??""}`),a.dir=a.dir}),z(t,a),Nt()}Ya(["click","mousedown"]);var cg=ct('<div aria-label="color picker"><!></div>');function sg(t,e){Ct(e,!0);let n=B(e,"wrapper",15);var r=cg();let a;var i=X(r);le(i,()=>e.children),H(r),Bn(r,o=>n(o),()=>n()),et(o=>{a=It(r,1,"wrapper svelte-h9ar9",null,a,o),Y(r,"role",e.isDialog?"dialog":void 0)},[()=>({"is-open":e.isOpen})]),z(t,r),Nt()}const Ko={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},f0="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function fg(t){return function(e){if(e.target===window)return;const n=e.target;if(!t.contains(n))return;const r=t.querySelectorAll(f0),a=r[0],i=r[r.length-1];function o(f){return f.code==="Tab"&&!f.shiftKey}function c(f){return f.code==="Tab"&&f.shiftKey}o(e)&&e.target===i?(e.preventDefault(),a.focus()):c(e)&&e.target===a&&(e.preventDefault(),i.focus())}}const lg=t=>{const e=t.querySelector(f0);e&&e.focus();const n=fg(t);return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}};var ug=ct('<label class="nullability-checkbox svelte-oskb5b"><div class="svelte-oskb5b"><input type="checkbox" class="svelte-oskb5b"/> <span class="svelte-oskb5b"></span></div> </label>');function dg(t,e){Ct(e,!0);let n=B(e,"isUndefined",15);var r=ug(),a=X(r),i=X(a);Me(i),fo(2),H(a);var o=V(a);H(r),et(()=>Ht(o,` ${e.texts.label.withoutColor??""}`)),P2(i,n),z(t,r),Nt()}var hg=ct('<input type="hidden"/>'),bg=ct('<div class="a svelte-1y2jcbx"><!></div>'),gg=ct('<!> <!> <div class="h svelte-1y2jcbx"><!></div> <!> <!> <!>',1),mg=ct("<span><!> <!></span>");function vg(t,e){Ct(e,!0);let n=B(e,"components",19,()=>({})),r=B(e,"label",3,"Choose a color"),a=B(e,"name",3,void 0),i=B(e,"nullable",3,!1),o=B(e,"rgb",31,()=>ve(i()?null:{r:255,g:0,b:0,a:1})),c=B(e,"hsv",31,()=>ve(i()?null:{h:0,s:100,v:100,a:1})),f=B(e,"hex",31,()=>ve(i()?null:"#ff0000")),l=B(e,"color",15,null),u=B(e,"isDark",15,!1),d=B(e,"isAlpha",3,!0),h=B(e,"isDialog",3,!0),b=B(e,"isOpen",31,()=>!h()),g=B(e,"position",3,"responsive"),m=B(e,"dir",3,"ltr"),v=B(e,"isTextInput",3,!0),p=B(e,"textInputModes",19,()=>["hex","rgb","hsv"]),S=B(e,"sliderDirection",3,"vertical"),A=B(e,"disableCloseClickOutside",3,!1),x=B(e,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),k=B(e,"a11yLevel",3,"AA"),_=B(e,"texts",3,void 0),y=B(e,"a11yTexts",3,void 0),M=jt(ve({r:255,g:0,b:0,a:1})),w=jt(ve({h:0,s:100,v:100,a:1})),N=jt("#ff0000"),C=jt(!1),R=jt(ve(s(C))),L=jt(void 0),P=jt(void 0),E=jt(void 0),F,j=jt(1080),D=jt(720);const q=12,K={pickerIndicator:V2,textInput:ag,input:og,nullabilityCheckbox:dg,wrapper:sg};function Q(){return{...K,...n()}}function it(){var nt,ot,ut;return{label:{...Ko.label,...(nt=_())==null?void 0:nt.label},color:{...Ko.color,...(ot=_())==null?void 0:ot.color},changeTo:((ut=_())==null?void 0:ut.changeTo)??Ko.changeTo}}function st({target:nt}){var ot,ut,te;h()&&((ot=s(P))!=null&&ot.contains(nt)||(ut=s(P))!=null&&ut.isSameNode(nt)?b(!b()):b()&&!((te=s(E))!=null&&te.contains(nt))&&!A()&&b(!1))}function ft({key:nt,target:ot}){var ut;!h()||!s(P)||!s(L)||(nt==="Enter"&&s(P).contains(ot)?(b(!b()),setTimeout(()=>{s(E)&&(F=lg(s(E)))})):nt==="Escape"&&b()&&(b(!1),s(L).contains(ot)&&((ut=s(P))==null||ut.focus(),F==null||F.destroy())))}function bt(){return!(c()&&o()&&c().h===s(w).h&&c().s===s(w).s&&c().v===s(w).v&&c().a===s(w).a&&o().r===s(M).r&&o().g===s(M).g&&o().b===s(M).b&&o().a===s(M).a&&f()===s(N))}function W(){var nt,ot,ut,te,se,fe;if(s(C)&&!s(R)){rt(R,!0),c(null),o(null),f(null),(nt=e.onInput)==null||nt.call(e,{color:l(),hsv:c(),rgb:o(),hex:f()});return}else if(s(R)&&!s(C)){rt(R,!1),c(tr(s(w))),o(tr(s(M))),f(tr(s(N))),(ot=e.onInput)==null||ot.call(e,{color:l(),hsv:c(),rgb:o(),hex:f()});return}else if(!c()&&!o()&&!f()){rt(C,rt(R,!0),!0),(ut=e.onInput)==null||ut.call(e,{color:null,hsv:c(),rgb:o(),hex:f()});return}else if(!bt())return;rt(C,!1),c()&&c().a===void 0&&c({...c(),a:1}),s(w).a===void 0&&rt(w,{...s(w),a:1},!0),o()&&o().a===void 0&&o({...o(),a:1}),s(M).a===void 0&&rt(M,{...s(M),a:1},!0),((te=f())==null?void 0:te.substring(7))==="ff"&&f(f().substring(0,7)),((se=s(N))==null?void 0:se.substring(7))==="ff"&&rt(N,s(N).substring(0,7),!0),c()&&(c().h!==s(w).h||c().s!==s(w).s||c().v!==s(w).v||c().a!==s(w).a||!o()&&!f())?(l(ke(c())),o(l().toRgb()),f(l().toHex())):o()&&(o().r!==s(M).r||o().g!==s(M).g||o().b!==s(M).b||o().a!==s(M).a||!c()&&!f())?(l(ke(o())),f(l().toHex()),c(l().toHsv())):f()&&(f()!==s(N)||!c()&&!o())&&(l(ke(f())),o(l().toRgb()),c(l().toHsv())),l()&&u(l().isDark()),!(!f()||!c()||!o())&&(rt(w,tr(c()),!0),rt(M,tr(o()),!0),rt(N,f(),!0),rt(R,s(C),!0),(fe=e.onInput)==null||fe.call(e,{color:l(),hsv:c(),rgb:o(),hex:f()}))}oe(()=>{(c()||o()||f())&&W()}),oe(()=>{s(C),W()});function G(nt){return ot=>{c()||(rt(C,!1),rt(R,!1),c(tr(s(w)))),c({...c(),[nt]:ot})}}function _t(nt){return ot=>{c()||(rt(C,!1),rt(R,!1),c(tr(s(w)))),c({...c(),...Object.fromEntries(nt.map(ut=>[ut,ot[ut]]))})}}async function I(){if(await Hu(),g()==="fixed"||!b()||!h()||!s(P)||!s(E))return;const nt=s(E).getBoundingClientRect(),ot=s(P).getBoundingClientRect();if((g()==="responsive"||g()==="responsive-y")&&(ot.top+nt.height+q>s(D)?s(E).style.top=`-${nt.height+q}px`:s(E).style.top=`${ot.height+q}px`),g()==="responsive"||g()==="responsive-x")if(m()==="rtl"){const ut=ot.left+ot.width-nt.width<0;console.log(ut,ot.left-nt.width,ot.left,nt.width),ut?s(E).style.left="0px":s(E).style.left=`${ot.width-nt.width}px`}else ot.left+nt.width>s(j)?s(E).style.left=`${ot.width-nt.width}px`:s(E).style.left="0px"}oe(()=>{s(j)&&s(D)&&b()&&I()});const Z=T(Q);var tt=mg();Le("mousedown",rr,st),Le("keyup",rr,ft),Le("scroll",rr,I);var O=X(tt);{var Ft=nt=>{var ot=St(),ut=at(ot);kr(ut,()=>s(Z).input,(te,se)=>{se(te,{get hex(){return f()},get label(){return r()},get name(){return a()},get dir(){return m()},get labelElement(){return s(P)},set labelElement(fe){rt(P,fe,!0)}})}),z(nt,ot)},wt=(nt,ot)=>{{var ut=te=>{var se=hg();Me(se),et(()=>{Ue(se,f()),Y(se,"name",a())}),z(te,se)};$(nt,te=>{a()&&te(ut)},ot)}};$(O,nt=>{h()?nt(Ft):nt(wt,!1)})}var Xt=V(O,2);kr(Xt,()=>s(Z).wrapper,(nt,ot)=>{ot(nt,{get isOpen(){return b()},get isDialog(){return h()},get wrapper(){return s(E)},set wrapper(ut){rt(E,ut,!0)},children:(ut,te)=>{var se=gg(),fe=at(se);{var Za=zt=>{var we=St(),En=at(we);const Zn=T(it);kr(En,()=>s(Z).nullabilityCheckbox,(Kn,Qn)=>{Qn(Kn,{get texts(){return s(Zn)},get isUndefined(){return s(C)},set isUndefined(Jn){rt(C,Jn,!0)}})}),z(zt,we)};$(fe,zt=>{i()&&zt(Za)})}var Ka=V(fe,2);const Fo=T(Q),zo=T(()=>{var zt;return((zt=c())==null?void 0:zt.h)??s(w).h}),Oo=T(()=>{var zt;return((zt=c())==null?void 0:zt.s)??s(w).s}),qo=T(()=>{var zt;return((zt=c())==null?void 0:zt.v)??s(w).v}),Do=T(()=>_t(["s","v"])),J=T(it);X2(Ka,{get components(){return s(Fo)},get h(){return s(zo)},get s(){return s(Oo)},get v(){return s(qo)},get onInput(){return s(Do)},get isDark(){return u()},get texts(){return s(J)}});var lt=V(Ka,2),qt=X(lt);const Dt=T(()=>{var zt;return((zt=c())==null?void 0:zt.h)??s(w).h}),xe=T(()=>G("h")),de=T(()=>S()==="vertical");Mi(qt,{min:0,max:360,step:1,get value(){return s(Dt)},get onInput(){return s(xe)},get direction(){return S()},get reverse(){return s(de)},get ariaLabel(){return it().label.h}}),H(lt);var ln=V(lt,2);{var Vn=zt=>{var we=bg();let En;var Zn=X(we);const Kn=T(()=>{var mr;return((mr=c())==null?void 0:mr.a)??s(w).a}),Qn=T(()=>G("a")),Jn=T(()=>S()==="vertical");Mi(Zn,{min:0,max:1,step:.01,get value(){return s(Kn)},get onInput(){return s(Qn)},get direction(){return S()},get reverse(){return s(Jn)},get ariaLabel(){return it().label.a}}),H(we),et(mr=>En=At(we,"",En,{"--alphaless-color":mr}),[()=>(f()?f():s(N)).substring(0,7)]),z(zt,we)};$(ln,zt=>{d()&&zt(Vn)})}var Qa=V(ln,2);{var kb=zt=>{var we=St(),En=at(we);const Zn=T(()=>f()??s(N)),Kn=T(()=>o()??s(M)),Qn=T(()=>c()??s(w)),Jn=T(it);kr(En,()=>s(Z).textInput,(mr,Tb)=>{Tb(mr,{get hex(){return s(Zn)},get rgb(){return s(Kn)},get hsv(){return s(Qn)},onInput:vr=>{vr.hsv?c(vr.hsv):vr.rgb?o(vr.rgb):vr.hex&&f(vr.hex)},get isAlpha(){return d()},get textInputModes(){return p()},get texts(){return s(Jn)}})}),z(zt,we)};$(Qa,zt=>{v()&&zt(kb)})}var Mb=V(Qa,2);{var Sb=zt=>{var we=St(),En=at(we);const Zn=T(Q),Kn=T(()=>f()||"#00000000");kr(En,()=>s(Z).a11yNotice,(Qn,Jn)=>{Jn(Qn,{get components(){return s(Zn)},get a11yColors(){return x()},get hex(){return s(Kn)},get a11yTexts(){return y()},get a11yLevel(){return k()}})}),z(zt,we)};$(Mb,zt=>{Q().a11yNotice&&zt(Sb)})}z(ut,se)},$$slots:{default:!0}})}),H(tt),Bn(tt,nt=>rt(L,nt),()=>s(L)),et(()=>It(tt,1,`color-picker ${S()??""}`,"svelte-1y2jcbx")),Of("innerWidth",nt=>rt(j,nt,!0)),Of("innerHeight",nt=>rt(D,nt,!0)),z(t,tt),Nt()}var pg=ct('<div class="color-input svelte-1gnfut"><input type="text"/> <!></div>');function Gf(t,e){Ct(e,!1);let n=B(e,"color",12,"#ff0000");const r=p2();function a(f){n(f.detail.hex),r("change",n())}oo();var i=pg(),o=X(i);Me(o);var c=V(o,2);vg(c,{get hex(){return n()},set hex(f){n(f)},$$events:{change:a},$$legacy:!0}),H(i),a0(o,n),Le("change",o,()=>r("change",n())),z(t,i),Nt()}/** @preserve
/////    CoLoR PaRsLeY  a simple set of color parsing thingies!
/////           Beta 0.1.8   Revision date: June 04, 2022
/////
/////    Functions to parse color values and return array
/////    Copyright (c) 2019-2022 by Andrew Somers. All Rights Reserved.
/////    LICENSE: AGPL 3
/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
/////    https://github.com/Myndex/colorparsley/
/////
///////////////////////////////////////////////////////////////////////////////
/////
/////    IMPORT:
/////    import { colorParsley } from 'colorparsley';
/////
/////    let rgbaArray = colorParsley('#abcdef');
/////
/////    Output as array:  [r,g,b,a,isValid,colorspace]
/////    Example: [123,123,123,1.0,true,'sRGB']
// */function Vf(t){if(typeof t=="string")return yg(t);if(typeof t=="number")return[(t&16711680)>>16,(t&65280)>>8,t&255,1,!0,"unknown"];if(typeof t=="object"){if(Array.isArray(t))return t;if(!isNaN(t.r)||!isNaN(t.red)){let e=[0,0,0,0,!1,"unknown"];return e[0]=t.r?t.r:t.red?t.red:!1,e[1]=t.g?t.g:t.green?t.green:!1,e[2]=t.b?t.b:t.blue?t.blue:!1,e[3]=t.a?t.a:t.alpha?t.alpha:1,e[4]=!!(e[0]&&e[1]&&e[2]),e[5]=t.space?t.space:t.colorSpace?t.colorSpace:t.colorspace?t.colorspace:"unknown",e}}return console.log("colorParsley error: invalid input"),[0,0,0,0,!1,"inputError"]}function yg(t="#abcdef"){t=t.replace(/[^\w,.#%()\/ -]/g,""),t=t.toLowerCase();let e=!1,r=[0,0,0,0,e,"sRGB"];if(t.match(/^(?:(?!rgb|l.h|hs|col|\d|#).{0,4})(?=[g-z])/)){let o={gray0:"000000",gray1:"111111",gray2:"222222",gray3:"333333",gray4:"444444",gray5:"555555",gray6:"666666",gray7:"777777",gray8:"888888",gray9:"999999",graya:"aaaaaa",grayb:"bbbbbb",grayc:"cccccc",grayd:"dddddd",graye:"eeeeee",grayf:"ffffff",midgray:"a0a0a0",grey0:"000000",grey1:"111111",grey2:"222222",grey3:"333333",grey4:"444444",grey5:"555555",grey6:"666666",grey7:"777777",grey8:"888888",grey9:"999999",greya:"aaaaaa",greyb:"bbbbbb",greyc:"cccccc",greyd:"dddddd",greye:"eeeeee",greyf:"ffffff",midgrey:"a0a0a0",aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(let c in o)if(t==c){let f={rex:/^([\da-f]{2})([\da-f]{2})([\da-f]{2})$/,sprig:function(u){for(let d=0;d<3;d++)r[d]=parseInt(u[d+1],16);return r[3]=1,!0}},l=f.rex.exec(o[c]);return r[4]=e=f.sprig(l),r}}let a={rex:/(?:^(?:#|0x|)(?:(?:([\da-f])([\da-f])([\da-f])([\da-f])?)(?!\S)|(?:([\da-f]{2})(?:([\da-f]{2})([\da-f]{2})([\da-f]{2})?)?))|(?:(?:^(?:rgba?|)\(? ?(?:(?:(?:(255|(?:25[0-4]|2[0-4]\d|1?\d{1,2})(?:\.\d{1,24})?)))(?:,[^\S]*$|(?:(?:, ?| )(255|(?:25[0-4]|2[0-4]\d|1?\d{1,2})(?:\.\d{1,24})?)(?:, ?| )(255|(?:25[0-4]|2[0-4]\d|1?\d{1,2})(?:\.\d{1,24})?)))|(100%|\d{1,2}(?:\.\d{1,24})?%)(?:,?[^\S]*$|(?:(?:, ?| )(?:(100%|\d{1,2}(?:\.\d{1,24})?%)(?:, ?| )(100%|\d{1,2}(?:\.\d{1,24})?%)))))|^(?:color\((srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|xyz|xyz-d50|xyz-d65) (?:(100%|\d{1,2}(?:\.\d{1,24})?%|[0 ]\.\d{1,24}|[01])) (?:(100%|\d{1,2}(?:\.\d{1,24})?%|[0 ]\.\d{1,24}|[01])) (?:(100%|\d{1,2}(?:\.\d{1,24})?%|[0 ]\.\d{1,24}|[01])))|^(?:((?:r(?!gb)|c(?!olor)|[abd-qs-z])[a-z]{2,5})\( ?((?:\d{0,3}\.|)\d{1,24}%?)(?:, ?| )((?:\d{0,3}\.|)\d{1,24}%?)(?:, ?| )((?:\d{0,3}\.|)\d{1,24}%?))))(?:(?:,| \/| ) ?(?:(100%|\d{1,2}(?:\.\d{1,24})?%|[0 ]\.\d{1,24}|[01])))?(?:\)| |))[^\S]*$/,parsley:function(o){let c=0,f=0,l=10,u=100,d=2.55,h="1";o[23]&&(h=o[23],delete o[23]),r[3]=h.match(/%/g)?parseFloat(h)/u:parseFloat(h);for(let b=1;b<o.length;b++)o[b]&&(c=c||b,f=b);switch(f){case 4:l=16,u=15,r[3]=parseInt(o[f],l)/u;case 3:l=16;for(let b=0;b<3;b++)r[b]=parseInt(o[c+b]+o[c+b],l);break;case 5:l=16;case 9:r[0]=r[1]=r[2]=l==10?parseFloat(o[f]):parseInt(o[f],l);break;case 12:r[0]=r[1]=r[2]=parseFloat(o[f])*d;break;case 8:l=16,u=255,r[3]=parseInt(o[8],l)/u;case 7:l=16;case 11:for(let b=0;b<3;b++)r[b]=l==10?parseFloat(o[c+b]):parseInt(o[c+b],l);break;case 14:for(let b=0;b<3;b++)r[b]=parseFloat(o[c+b])*d;break;case 18:r[5]=o[15];for(let b=0;b<3;b++)c++,r[b]=o[c].match(/%/g)?parseFloat(o[c])*2.55:parseFloat(o[c])*255;break;case 22:r[5]=o[c];for(let b=0;b<3;b++)c++,r[b]=o[c]?o[c].match(/%/g)?parseFloat(o[c])/u:parseFloat(o[c]):0;if(r[5].match(/^(?:hsla?|hwba?)/i)){let A=function(x){let k=(x+S/30)%12,_=b*Math.min(g,1-g);return g-_*Math.max(-1,Math.min(k-3,9-k,1))},b,g,m,v,p,S=r[0]%360;if(S<0&&(S+=360),r[5].match(/^hsla?/i))b=r[1],g=r[2],m=0,p=1;else if(r[5].match(/^hwba?/i)){if(m=r[1],v=r[2],m+v>=1){r[0]=r[1]=r[2]=m/(m+v),r[5]="sRGB";break}b=1,g=.5,p=1-m-v}r[0]=Math.round(255*(A(0)*p+m)),r[1]=Math.round(255*(A(8)*p+m)),r[2]=Math.round(255*(A(4)*p+m)),r[5]="sRGB"}break}return!0}},i=a.rex.exec(t);return i?(r[4]=e=a.parsley(i),r):(e=!1,console.log("colorParsley error: unable to parse string"),[0,0,0,0,e,"parsleyError"])}/** @preserve
/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
/////           Beta 0.1.9 W3 â¢ contrast function only
/////           DIST: W3 â¢ Revision date: July 3, 2022
/////    Function to parse color values and determine Lc contrast
/////    Copyright Â© 2019-2022 by Andrew Somers. All Rights Reserved.
/////    LICENSE: W3 LICENSE
/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
/////    https://github.com/Myndex/SAPC-APCA/
/////
///////////////////////////////////////////////////////////////////////////////
/////
/////    MINIMAL IMPORTS:
/////      import { APCAcontrast, sRGBtoY, displayP3toY,
/////               calcAPCA, fontLookupAPCA } from 'apca-w3';
/////      import { colorParsley } from 'colorparsley';
/////
/////    FORWARD CONTRAST USAGE:
/////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
/////    Where the colors are sent as an rgba array [255,255,255,1]
/////
/////    Retrieving an array of font sizes for the contrast:
/////      fontArray = fontLookupAPCA(Lc);
/////
/////    Live Demonstrator at https://www.myndex.com/APCA/
// */const Zt={mainTRC:2.4,sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1};function _g(t,e,n=-1){const r=[0,1.1];if(isNaN(t)||isNaN(e)||Math.min(t,e)<r[0]||Math.max(t,e)>r[1])return 0;let a=0,i=0,o="BoW";return t=t>Zt.blkThrs?t:t+Math.pow(Zt.blkThrs-t,Zt.blkClmp),e=e>Zt.blkThrs?e:e+Math.pow(Zt.blkThrs-e,Zt.blkClmp),Math.abs(e-t)<Zt.deltaYmin?0:(e>t?(a=(Math.pow(e,Zt.normBG)-Math.pow(t,Zt.normTXT))*Zt.scaleBoW,i=a<Zt.loClip?0:a-Zt.loBoWoffset):(o="WoB",a=(Math.pow(e,Zt.revBG)-Math.pow(t,Zt.revTXT))*Zt.scaleWoB,i=a>-.1?0:a+Zt.loWoBoffset),n<0?i*100:n==0?Math.round(Math.abs(i)*100)+"<sub>"+o+"</sub>":Number.isInteger(n)?(i*100).toFixed(n):0)}function Zf(t=[0,0,0]){function e(n){return Math.pow(n/255,Zt.mainTRC)}return Zt.sRco*e(t[0])+Zt.sGco*e(t[1])+Zt.sBco*e(t[2])}function Kf(t,e){return _g(Zf(Vf(t)),Zf(Vf(e)))}var xg=ct('<div class="color-swatch svelte-1hmm0v7"></div>');function Qo(t,e){let n=B(e,"color",8);var r=xg();et(()=>At(r,`background-color: ${n()??""};`)),z(t,r)}const{min:wg,max:kg}=Math,ar=(t,e=0,n=1)=>wg(kg(e,t),n),Es=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=ar(t[e],0,255)):e===3&&(t[e]=ar(t[e],0,1));return t},l0={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])l0[`[object ${t}]`]=t.toLowerCase();function Mt(t){return l0[Object.prototype.toString.call(t)]||"object"}const mt=(t,e=null)=>t.length>=3?Array.prototype.slice.call(t):Mt(t[0])=="object"&&e?e.split("").filter(n=>t[0][n]!==void 0).map(n=>t[0][n]):t[0].slice(0),Yr=t=>{if(t.length<2)return null;const e=t.length-1;return Mt(t[e])=="string"?t[e].toLowerCase():null},{PI:lo,min:u0,max:d0}=Math,De=t=>Math.round(t*100)/100,zc=t=>Math.round(t*100)/100,vn=lo*2,Jo=lo/3,Mg=lo/180,Sg=180/lo;function h0(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const ht={format:{},autodetect:[]};let U=class{constructor(...e){const n=this;if(Mt(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=Yr(e),a=!1;if(!r){a=!0,ht.sorted||(ht.autodetect=ht.autodetect.sort((i,o)=>o.p-i.p),ht.sorted=!0);for(let i of ht.autodetect)if(r=i.test(...e),r)break}if(ht.format[r]){const i=ht.format[r].apply(null,a?e:e.slice(0,-1));n._rgb=Es(i)}else throw new Error("unknown format: "+e);n._rgb.length===3&&n._rgb.push(1)}toString(){return Mt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const Tg="3.1.2",Tt=(...t)=>new U(...t);Tt.version=Tg;const Fr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ag=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Cg=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,b0=t=>{if(t.match(Ag)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16),n=e>>16,r=e>>8&255,a=e&255;return[n,r,a,1]}if(t.match(Cg)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16),n=e>>24&255,r=e>>16&255,a=e>>8&255,i=Math.round((e&255)/255*100)/100;return[n,r,a,i]}throw new Error(`unknown hex color: ${t}`)},{round:ni}=Math,g0=(...t)=>{let[e,n,r,a]=mt(t,"rgba"),i=Yr(t)||"auto";a===void 0&&(a=1),i==="auto"&&(i=a<1?"rgba":"rgb"),e=ni(e),n=ni(n),r=ni(r);let c="000000"+(e<<16|n<<8|r).toString(16);c=c.substr(c.length-6);let f="0"+ni(a*255).toString(16);switch(f=f.substr(f.length-2),i.toLowerCase()){case"rgba":return`#${c}${f}`;case"argb":return`#${f}${c}`;default:return`#${c}`}};U.prototype.name=function(){const t=g0(this._rgb,"rgb");for(let e of Object.keys(Fr))if(Fr[e]===t)return e.toLowerCase();return t};ht.format.named=t=>{if(t=t.toLowerCase(),Fr[t])return b0(Fr[t]);throw new Error("unknown color name: "+t)};ht.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Mt(t)==="string"&&Fr[t.toLowerCase()])return"named"}});U.prototype.alpha=function(t,e=!1){return t!==void 0&&Mt(t)==="number"?e?(this._rgb[3]=t,this):new U([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]};U.prototype.clipped=function(){return this._rgb._clipped||!1};const nn={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Ng=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function xn(t){const e=Ng.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);nn.labWhitePoint=t,nn.Xn=e[0],nn.Zn=e[1]}function ka(){return nn.labWhitePoint}const Ps=(...t)=>{t=mt(t,"lab");const[e,n,r]=t,[a,i,o]=Eg(e,n,r),[c,f,l]=m0(a,i,o);return[c,f,l,t.length>3?t[3]:1]},Eg=(t,e,n)=>{const{kE:r,kK:a,kKE:i,Xn:o,Yn:c,Zn:f}=nn,l=(t+16)/116,u=.002*e+l,d=l-.005*n,h=u*u*u,b=d*d*d,g=h>r?h:(116*u-16)/a,m=t>i?Math.pow((t+16)/116,3):t/a,v=b>r?b:(116*d-16)/a,p=g*o,S=m*c,A=v*f;return[p,S,A]},$o=t=>{const e=Math.sign(t);return t=Math.abs(t),(t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055)*e},m0=(t,e,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:a,MtxXYZ2RGB:i,RefWhiteRGB:o,Xn:c,Yn:f,Zn:l}=nn,u=c*r.m00+f*r.m10+l*r.m20,d=c*r.m01+f*r.m11+l*r.m21,h=c*r.m02+f*r.m12+l*r.m22,b=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,g=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,m=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,v=(t*r.m00+e*r.m10+n*r.m20)*(b/u),p=(t*r.m01+e*r.m11+n*r.m21)*(g/d),S=(t*r.m02+e*r.m12+n*r.m22)*(m/h),A=v*a.m00+p*a.m10+S*a.m20,x=v*a.m01+p*a.m11+S*a.m21,k=v*a.m02+p*a.m12+S*a.m22,_=$o(A*i.m00+x*i.m10+k*i.m20),y=$o(A*i.m01+x*i.m11+k*i.m21),M=$o(A*i.m02+x*i.m12+k*i.m22);return[_*255,y*255,M*255]},Rs=(...t)=>{const[e,n,r,...a]=mt(t,"rgb"),[i,o,c]=v0(e,n,r),[f,l,u]=Pg(i,o,c);return[f,l,u,...a.length>0&&a[0]<1?[a[0]]:[]]};function Pg(t,e,n){const{Xn:r,Yn:a,Zn:i,kE:o,kK:c}=nn,f=t/r,l=e/a,u=n/i,d=f>o?Math.pow(f,1/3):(c*f+16)/116,h=l>o?Math.pow(l,1/3):(c*l+16)/116,b=u>o?Math.pow(u,1/3):(c*u+16)/116;return[116*h-16,500*(d-h),200*(h-b)]}function tc(t){const e=Math.sign(t);return t=Math.abs(t),(t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const v0=(t,e,n)=>{t=tc(t/255),e=tc(e/255),n=tc(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:a,MtxAdaptMaI:i,Xn:o,Yn:c,Zn:f,As:l,Bs:u,Cs:d}=nn;let h=t*r.m00+e*r.m10+n*r.m20,b=t*r.m01+e*r.m11+n*r.m21,g=t*r.m02+e*r.m12+n*r.m22;const m=o*a.m00+c*a.m10+f*a.m20,v=o*a.m01+c*a.m11+f*a.m21,p=o*a.m02+c*a.m12+f*a.m22;let S=h*a.m00+b*a.m10+g*a.m20,A=h*a.m01+b*a.m11+g*a.m21,x=h*a.m02+b*a.m12+g*a.m22;return S*=m/l,A*=v/u,x*=p/d,h=S*i.m00+A*i.m10+x*i.m20,b=S*i.m01+A*i.m11+x*i.m21,g=S*i.m02+A*i.m12+x*i.m22,[h,b,g]};U.prototype.lab=function(){return Rs(this._rgb)};const Rg=(...t)=>new U(...t,"lab");Object.assign(Tt,{lab:Rg,getLabWhitePoint:ka,setLabWhitePoint:xn});ht.format.lab=Ps;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"lab"),Mt(t)==="array"&&t.length===3)return"lab"}});U.prototype.darken=function(t=1){const e=this,n=e.lab();return n[0]-=nn.Kn*t,new U(n,"lab").alpha(e.alpha(),!0)};U.prototype.brighten=function(t=1){return this.darken(-t)};U.prototype.darker=U.prototype.darken;U.prototype.brighter=U.prototype.brighten;U.prototype.get=function(t){const[e,n]=t.split("."),r=this[e]();if(n){const a=e.indexOf(n)-(e.substr(0,2)==="ok"?2:0);if(a>-1)return r[a];throw new Error(`unknown channel ${n} in mode ${e}`)}else return r};const{pow:Lg}=Math,Fg=1e-7,zg=20;U.prototype.luminance=function(t,e="rgb"){if(t!==void 0&&Mt(t)==="number"){if(t===0)return new U([0,0,0,this._rgb[3]],"rgb");if(t===1)return new U([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=zg;const a=(o,c)=>{const f=o.interpolate(c,.5,e),l=f.luminance();return Math.abs(t-l)<Fg||!r--?f:l>t?a(o,f):a(f,c)},i=(n>t?a(new U([0,0,0]),this):a(this,new U([255,255,255]))).rgb();return new U([...i,this._rgb[3]])}return Og(...this._rgb.slice(0,3))};const Og=(t,e,n)=>(t=ec(t),e=ec(e),n=ec(n),.2126*t+.7152*e+.0722*n),ec=t=>(t/=255,t<=.03928?t/12.92:Lg((t+.055)/1.055,2.4)),ue={},zr=(t,e,n=.5,...r)=>{let a=r[0]||"lrgb";if(!ue[a]&&!r.length&&(a=Object.keys(ue)[0]),!ue[a])throw new Error(`interpolation mode ${a} is not defined`);return Mt(t)!=="object"&&(t=new U(t)),Mt(e)!=="object"&&(e=new U(e)),ue[a](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};U.prototype.mix=U.prototype.interpolate=function(t,e=.5,...n){return zr(this,t,e,...n)};U.prototype.premultiply=function(t=!1){const e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new U([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};const{sin:qg,cos:Dg}=Math,p0=(...t)=>{let[e,n,r]=mt(t,"lch");return isNaN(r)&&(r=0),r=r*Mg,[e,Dg(r)*n,qg(r)*n]},Ls=(...t)=>{t=mt(t,"lch");const[e,n,r]=t,[a,i,o]=p0(e,n,r),[c,f,l]=Ps(a,i,o);return[c,f,l,t.length>3?t[3]:1]},jg=(...t)=>{const e=h0(mt(t,"hcl"));return Ls(...e)},{sqrt:Ig,atan2:Bg,round:Ug}=Math,y0=(...t)=>{const[e,n,r]=mt(t,"lab"),a=Ig(n*n+r*r);let i=(Bg(r,n)*Sg+360)%360;return Ug(a*1e4)===0&&(i=Number.NaN),[e,a,i]},Fs=(...t)=>{const[e,n,r,...a]=mt(t,"rgb"),[i,o,c]=Rs(e,n,r),[f,l,u]=y0(i,o,c);return[f,l,u,...a.length>0&&a[0]<1?[a[0]]:[]]};U.prototype.lch=function(){return Fs(this._rgb)};U.prototype.hcl=function(){return h0(Fs(this._rgb))};const Yg=(...t)=>new U(...t,"lch"),Wg=(...t)=>new U(...t,"hcl");Object.assign(Tt,{lch:Yg,hcl:Wg});ht.format.lch=Ls;ht.format.hcl=jg;["lch","hcl"].forEach(t=>ht.autodetect.push({p:2,test:(...e)=>{if(e=mt(e,t),Mt(e)==="array"&&e.length===3)return t}}));U.prototype.saturate=function(t=1){const e=this,n=e.lch();return n[1]+=nn.Kn*t,n[1]<0&&(n[1]=0),new U(n,"lch").alpha(e.alpha(),!0)};U.prototype.desaturate=function(t=1){return this.saturate(-t)};U.prototype.set=function(t,e,n=!1){const[r,a]=t.split("."),i=this[r]();if(a){const o=r.indexOf(a)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(Mt(e)=="string")switch(e.charAt(0)){case"+":i[o]+=+e;break;case"-":i[o]+=+e;break;case"*":i[o]*=+e.substr(1);break;case"/":i[o]/=+e.substr(1);break;default:i[o]=+e}else if(Mt(e)==="number")i[o]=e;else throw new Error("unsupported value for Color.set");const c=new U(i,r);return n?(this._rgb=c._rgb,this):c}throw new Error(`unknown channel ${a} in mode ${r}`)}else return i};U.prototype.tint=function(t=.5,...e){return zr(this,"white",t,...e)};U.prototype.shade=function(t=.5,...e){return zr(this,"black",t,...e)};const Hg=(t,e,n)=>{const r=t._rgb,a=e._rgb;return new U(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"rgb")};ue.rgb=Hg;const{sqrt:nc,pow:pr}=Math,Xg=(t,e,n)=>{const[r,a,i]=t._rgb,[o,c,f]=e._rgb;return new U(nc(pr(r,2)*(1-n)+pr(o,2)*n),nc(pr(a,2)*(1-n)+pr(c,2)*n),nc(pr(i,2)*(1-n)+pr(f,2)*n),"rgb")};ue.lrgb=Xg;const Gg=(t,e,n)=>{const r=t.lab(),a=e.lab();return new U(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"lab")};ue.lab=Gg;const Wr=(t,e,n,r)=>{let a,i;r==="hsl"?(a=t.hsl(),i=e.hsl()):r==="hsv"?(a=t.hsv(),i=e.hsv()):r==="hcg"?(a=t.hcg(),i=e.hcg()):r==="hsi"?(a=t.hsi(),i=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",a=t.hcl(),i=e.hcl()):r==="oklch"&&(a=t.oklch().reverse(),i=e.oklch().reverse());let o,c,f,l,u,d;(r.substr(0,1)==="h"||r==="oklch")&&([o,f,u]=a,[c,l,d]=i);let h,b,g,m;return!isNaN(o)&&!isNaN(c)?(c>o&&c-o>180?m=c-(o+360):c<o&&o-c>180?m=c+360-o:m=c-o,b=o+n*m):isNaN(o)?isNaN(c)?b=Number.NaN:(b=c,(u==1||u==0)&&r!="hsv"&&(h=l)):(b=o,(d==1||d==0)&&r!="hsv"&&(h=f)),h===void 0&&(h=f+n*(l-f)),g=u+n*(d-u),r==="oklch"?new U([g,h,b],r):new U([b,h,g],r)},_0=(t,e,n)=>Wr(t,e,n,"lch");ue.lch=_0;ue.hcl=_0;const Vg=t=>{if(Mt(t)=="number"&&t>=0&&t<=16777215){const e=t>>16,n=t>>8&255,r=t&255;return[e,n,r,1]}throw new Error("unknown num color: "+t)},Zg=(...t)=>{const[e,n,r]=mt(t,"rgb");return(e<<16)+(n<<8)+r};U.prototype.num=function(){return Zg(this._rgb)};const Kg=(...t)=>new U(...t,"num");Object.assign(Tt,{num:Kg});ht.format.num=Vg;ht.autodetect.push({p:5,test:(...t)=>{if(t.length===1&&Mt(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});const Qg=(t,e,n)=>{const r=t.num(),a=e.num();return new U(r+n*(a-r),"num")};ue.num=Qg;const{floor:Jg}=Math,$g=(...t)=>{t=mt(t,"hcg");let[e,n,r]=t,a,i,o;r=r*255;const c=n*255;if(n===0)a=i=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const f=Jg(e),l=e-f,u=r*(1-n),d=u+c*(1-l),h=u+c*l,b=u+c;switch(f){case 0:[a,i,o]=[b,h,u];break;case 1:[a,i,o]=[d,b,u];break;case 2:[a,i,o]=[u,b,h];break;case 3:[a,i,o]=[u,d,b];break;case 4:[a,i,o]=[h,u,b];break;case 5:[a,i,o]=[b,u,d];break}}return[a,i,o,t.length>3?t[3]:1]},tm=(...t)=>{const[e,n,r]=mt(t,"rgb"),a=u0(e,n,r),i=d0(e,n,r),o=i-a,c=o*100/255,f=a/(255-o)*100;let l;return o===0?l=Number.NaN:(e===i&&(l=(n-r)/o),n===i&&(l=2+(r-e)/o),r===i&&(l=4+(e-n)/o),l*=60,l<0&&(l+=360)),[l,c,f]};U.prototype.hcg=function(){return tm(this._rgb)};const em=(...t)=>new U(...t,"hcg");Tt.hcg=em;ht.format.hcg=$g;ht.autodetect.push({p:1,test:(...t)=>{if(t=mt(t,"hcg"),Mt(t)==="array"&&t.length===3)return"hcg"}});const nm=(t,e,n)=>Wr(t,e,n,"hcg");ue.hcg=nm;const{cos:yr}=Math,rm=(...t)=>{t=mt(t,"hsi");let[e,n,r]=t,a,i,o;return isNaN(e)&&(e=0),isNaN(n)&&(n=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(o=(1-n)/3,a=(1+n*yr(vn*e)/yr(Jo-vn*e))/3,i=1-(o+a)):e<2/3?(e-=1/3,a=(1-n)/3,i=(1+n*yr(vn*e)/yr(Jo-vn*e))/3,o=1-(a+i)):(e-=2/3,i=(1-n)/3,o=(1+n*yr(vn*e)/yr(Jo-vn*e))/3,a=1-(i+o)),a=ar(r*a*3),i=ar(r*i*3),o=ar(r*o*3),[a*255,i*255,o*255,t.length>3?t[3]:1]},{min:am,sqrt:im,acos:om}=Math,cm=(...t)=>{let[e,n,r]=mt(t,"rgb");e/=255,n/=255,r/=255;let a;const i=am(e,n,r),o=(e+n+r)/3,c=o>0?1-i/o:0;return c===0?a=NaN:(a=(e-n+(e-r))/2,a/=im((e-n)*(e-n)+(e-r)*(n-r)),a=om(a),r>n&&(a=vn-a),a/=vn),[a*360,c,o]};U.prototype.hsi=function(){return cm(this._rgb)};const sm=(...t)=>new U(...t,"hsi");Tt.hsi=sm;ht.format.hsi=rm;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"hsi"),Mt(t)==="array"&&t.length===3)return"hsi"}});const fm=(t,e,n)=>Wr(t,e,n,"hsi");ue.hsi=fm;const Oc=(...t)=>{t=mt(t,"hsl");const[e,n,r]=t;let a,i,o;if(n===0)a=i=o=r*255;else{const c=[0,0,0],f=[0,0,0],l=r<.5?r*(1+n):r+n-r*n,u=2*r-l,d=e/360;c[0]=d+1/3,c[1]=d,c[2]=d-1/3;for(let h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?f[h]=u+(l-u)*6*c[h]:2*c[h]<1?f[h]=l:3*c[h]<2?f[h]=u+(l-u)*(2/3-c[h])*6:f[h]=u;[a,i,o]=[f[0]*255,f[1]*255,f[2]*255]}return t.length>3?[a,i,o,t[3]]:[a,i,o,1]},x0=(...t)=>{t=mt(t,"rgba");let[e,n,r]=t;e/=255,n/=255,r/=255;const a=u0(e,n,r),i=d0(e,n,r),o=(i+a)/2;let c,f;return i===a?(c=0,f=Number.NaN):c=o<.5?(i-a)/(i+a):(i-a)/(2-i-a),e==i?f=(n-r)/(i-a):n==i?f=2+(r-e)/(i-a):r==i&&(f=4+(e-n)/(i-a)),f*=60,f<0&&(f+=360),t.length>3&&t[3]!==void 0?[f,c,o,t[3]]:[f,c,o]};U.prototype.hsl=function(){return x0(this._rgb)};const lm=(...t)=>new U(...t,"hsl");Tt.hsl=lm;ht.format.hsl=Oc;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"hsl"),Mt(t)==="array"&&t.length===3)return"hsl"}});const um=(t,e,n)=>Wr(t,e,n,"hsl");ue.hsl=um;const{floor:dm}=Math,hm=(...t)=>{t=mt(t,"hsv");let[e,n,r]=t,a,i,o;if(r*=255,n===0)a=i=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const c=dm(e),f=e-c,l=r*(1-n),u=r*(1-n*f),d=r*(1-n*(1-f));switch(c){case 0:[a,i,o]=[r,d,l];break;case 1:[a,i,o]=[u,r,l];break;case 2:[a,i,o]=[l,r,d];break;case 3:[a,i,o]=[l,u,r];break;case 4:[a,i,o]=[d,l,r];break;case 5:[a,i,o]=[r,l,u];break}}return[a,i,o,t.length>3?t[3]:1]},{min:bm,max:gm}=Math,mm=(...t)=>{t=mt(t,"rgb");let[e,n,r]=t;const a=bm(e,n,r),i=gm(e,n,r),o=i-a;let c,f,l;return l=i/255,i===0?(c=Number.NaN,f=0):(f=o/i,e===i&&(c=(n-r)/o),n===i&&(c=2+(r-e)/o),r===i&&(c=4+(e-n)/o),c*=60,c<0&&(c+=360)),[c,f,l]};U.prototype.hsv=function(){return mm(this._rgb)};const vm=(...t)=>new U(...t,"hsv");Tt.hsv=vm;ht.format.hsv=hm;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"hsv"),Mt(t)==="array"&&t.length===3)return"hsv"}});const pm=(t,e,n)=>Wr(t,e,n,"hsv");ue.hsv=pm;function Si(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let r=e[0].length,a=e[0].map((o,c)=>e.map(f=>f[c])),i=t.map(o=>a.map(c=>Array.isArray(o)?o.reduce((f,l,u)=>f+l*(c[u]||0),0):c.reduce((f,l)=>f+l*o,0)));return n===1&&(i=i[0]),r===1?i.map(o=>o[0]):i}const zs=(...t)=>{t=mt(t,"lab");const[e,n,r,...a]=t,[i,o,c]=ym([e,n,r]),[f,l,u]=m0(i,o,c);return[f,l,u,...a.length>0&&a[0]<1?[a[0]]:[]]};function ym(t){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=Si(n,t);return Si(e,r.map(a=>a**3))}const Os=(...t)=>{const[e,n,r,...a]=mt(t,"rgb"),i=v0(e,n,r);return[..._m(i),...a.length>0&&a[0]<1?[a[0]]:[]]};function _m(t){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=Si(e,t);return Si(n,r.map(a=>Math.cbrt(a)))}U.prototype.oklab=function(){return Os(this._rgb)};const xm=(...t)=>new U(...t,"oklab");Object.assign(Tt,{oklab:xm});ht.format.oklab=zs;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"oklab"),Mt(t)==="array"&&t.length===3)return"oklab"}});const wm=(t,e,n)=>{const r=t.oklab(),a=e.oklab();return new U(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"oklab")};ue.oklab=wm;const km=(t,e,n)=>Wr(t,e,n,"oklch");ue.oklch=km;const{pow:rc,sqrt:ac,PI:ic,cos:Qf,sin:Jf,atan2:Mm}=Math,Sm=(t,e="lrgb",n=null)=>{const r=t.length;n||(n=Array.from(new Array(r)).map(()=>1));const a=r/n.reduce(function(d,h){return d+h});if(n.forEach((d,h)=>{n[h]*=a}),t=t.map(d=>new U(d)),e==="lrgb")return Tm(t,n);const i=t.shift(),o=i.get(e),c=[];let f=0,l=0;for(let d=0;d<o.length;d++)if(o[d]=(o[d]||0)*n[0],c.push(isNaN(o[d])?0:n[0]),e.charAt(d)==="h"&&!isNaN(o[d])){const h=o[d]/180*ic;f+=Qf(h)*n[0],l+=Jf(h)*n[0]}let u=i.alpha()*n[0];t.forEach((d,h)=>{const b=d.get(e);u+=d.alpha()*n[h+1];for(let g=0;g<o.length;g++)if(!isNaN(b[g]))if(c[g]+=n[h+1],e.charAt(g)==="h"){const m=b[g]/180*ic;f+=Qf(m)*n[h+1],l+=Jf(m)*n[h+1]}else o[g]+=b[g]*n[h+1]});for(let d=0;d<o.length;d++)if(e.charAt(d)==="h"){let h=Mm(l/c[d],f/c[d])/ic*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[d]=h}else o[d]=o[d]/c[d];return u/=r,new U(o,e).alpha(u>.99999?1:u,!0)},Tm=(t,e)=>{const n=t.length,r=[0,0,0,0];for(let a=0;a<t.length;a++){const i=t[a],o=e[a]/n,c=i._rgb;r[0]+=rc(c[0],2)*o,r[1]+=rc(c[1],2)*o,r[2]+=rc(c[2],2)*o,r[3]+=c[3]*o}return r[0]=ac(r[0]),r[1]=ac(r[1]),r[2]=ac(r[2]),r[3]>.9999999&&(r[3]=1),new U(Es(r))},{pow:Am}=Math;function Ti(t){let e="rgb",n=Tt("#ccc"),r=0,a=[0,1],i=[],o=[0,0],c=!1,f=[],l=!1,u=0,d=1,h=!1,b={},g=!0,m=1;const v=function(y){if(y=y||["#fff","#000"],y&&Mt(y)==="string"&&Tt.brewer&&Tt.brewer[y.toLowerCase()]&&(y=Tt.brewer[y.toLowerCase()]),Mt(y)==="array"){y.length===1&&(y=[y[0],y[0]]),y=y.slice(0);for(let M=0;M<y.length;M++)y[M]=Tt(y[M]);i.length=0;for(let M=0;M<y.length;M++)i.push(M/(y.length-1))}return k(),f=y},p=function(y){if(c!=null){const M=c.length-1;let w=0;for(;w<M&&y>=c[w];)w++;return w-1}return 0};let S=y=>y,A=y=>y;const x=function(y,M){let w,N;if(M==null&&(M=!1),isNaN(y)||y===null)return n;M?N=y:c&&c.length>2?N=p(y)/(c.length-2):d!==u?N=(y-u)/(d-u):N=1,N=A(N),M||(N=S(N)),m!==1&&(N=Am(N,m)),N=o[0]+N*(1-o[0]-o[1]),N=ar(N,0,1);const C=Math.floor(N*1e4);if(g&&b[C])w=b[C];else{if(Mt(f)==="array")for(let R=0;R<i.length;R++){const L=i[R];if(N<=L){w=f[R];break}if(N>=L&&R===i.length-1){w=f[R];break}if(N>L&&N<i[R+1]){N=(N-L)/(i[R+1]-L),w=Tt.interpolate(f[R],f[R+1],N,e);break}}else Mt(f)==="function"&&(w=f(N));g&&(b[C]=w)}return w};var k=()=>b={};v(t);const _=function(y){const M=Tt(x(y));return l&&M[l]?M[l]():M};return _.classes=function(y){if(y!=null){if(Mt(y)==="array")c=y,a=[y[0],y[y.length-1]];else{const M=Tt.analyze(a);y===0?c=[M.min,M.max]:c=Tt.limits(M,"e",y)}return _}return c},_.domain=function(y){if(!arguments.length)return a;u=y[0],d=y[y.length-1],i=[];const M=f.length;if(y.length===M&&u!==d)for(let w of Array.from(y))i.push((w-u)/(d-u));else{for(let w=0;w<M;w++)i.push(w/(M-1));if(y.length>2){const w=y.map((C,R)=>R/(y.length-1)),N=y.map(C=>(C-u)/(d-u));N.every((C,R)=>w[R]===C)||(A=C=>{if(C<=0||C>=1)return C;let R=0;for(;C>=N[R+1];)R++;const L=(C-N[R])/(N[R+1]-N[R]);return w[R]+L*(w[R+1]-w[R])})}}return a=[u,d],_},_.mode=function(y){return arguments.length?(e=y,k(),_):e},_.range=function(y,M){return v(y),_},_.out=function(y){return l=y,_},_.spread=function(y){return arguments.length?(r=y,_):r},_.correctLightness=function(y){return y==null&&(y=!0),h=y,k(),h?S=function(M){const w=x(0,!0).lab()[0],N=x(1,!0).lab()[0],C=w>N;let R=x(M,!0).lab()[0];const L=w+(N-w)*M;let P=R-L,E=0,F=1,j=20;for(;Math.abs(P)>.01&&j-- >0;)(function(){return C&&(P*=-1),P<0?(E=M,M+=(F-M)*.5):(F=M,M+=(E-M)*.5),R=x(M,!0).lab()[0],P=R-L})();return M}:S=M=>M,_},_.padding=function(y){return y!=null?(Mt(y)==="number"&&(y=[y,y]),o=y,_):o},_.colors=function(y,M){arguments.length<2&&(M="hex");let w=[];if(arguments.length===0)w=f.slice(0);else if(y===1)w=[_(.5)];else if(y>1){const N=a[0],C=a[1]-N;w=Cm(0,y).map(R=>_(N+R/(y-1)*C))}else{t=[];let N=[];if(c&&c.length>2)for(let C=1,R=c.length,L=1<=R;L?C<R:C>R;L?C++:C--)N.push((c[C-1]+c[C])*.5);else N=a;w=N.map(C=>_(C))}return Tt[M]&&(w=w.map(N=>N[M]())),w},_.cache=function(y){return y!=null?(g=y,_):g},_.gamma=function(y){return y!=null?(m=y,_):m},_.nodata=function(y){return y!=null?(n=Tt(y),_):n},_}function Cm(t,e,n){let r=[],a=t<e,i=e;for(let o=t;a?o<i:o>i;a?o++:o--)r.push(o);return r}const Nm=function(t){let e=[1,1];for(let n=1;n<t;n++){let r=[1];for(let a=1;a<=e.length;a++)r[a]=(e[a]||0)+e[a-1];e=r}return e},Em=function(t){let e,n,r,a;if(t=t.map(i=>new U(i)),t.length===2)[n,r]=t.map(i=>i.lab()),e=function(i){const o=[0,1,2].map(c=>n[c]+i*(r[c]-n[c]));return new U(o,"lab")};else if(t.length===3)[n,r,a]=t.map(i=>i.lab()),e=function(i){const o=[0,1,2].map(c=>(1-i)*(1-i)*n[c]+2*(1-i)*i*r[c]+i*i*a[c]);return new U(o,"lab")};else if(t.length===4){let i;[n,r,a,i]=t.map(o=>o.lab()),e=function(o){const c=[0,1,2].map(f=>(1-o)*(1-o)*(1-o)*n[f]+3*(1-o)*(1-o)*o*r[f]+3*(1-o)*o*o*a[f]+o*o*o*i[f]);return new U(c,"lab")}}else if(t.length>=5){let i,o,c;i=t.map(f=>f.lab()),c=t.length-1,o=Nm(c),e=function(f){const l=1-f,u=[0,1,2].map(d=>i.reduce((h,b,g)=>h+o[g]*l**(c-g)*f**g*b[d],0));return new U(u,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},Pm=t=>{const e=Em(t);return e.scale=()=>Ti(e),e},{round:w0}=Math;U.prototype.rgb=function(t=!0){return t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(w0)};U.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((e,n)=>n<3?t===!1?e:w0(e):e)};const Rm=(...t)=>new U(...t,"rgb");Object.assign(Tt,{rgb:Rm});ht.format.rgb=(...t)=>{const e=mt(t,"rgba");return e[3]===void 0&&(e[3]=1),e};ht.autodetect.push({p:3,test:(...t)=>{if(t=mt(t,"rgba"),Mt(t)==="array"&&(t.length===3||t.length===4&&Mt(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});const Ge=(t,e,n)=>{if(!Ge[n])throw new Error("unknown blend mode "+n);return Ge[n](t,e)},Un=t=>(e,n)=>{const r=Tt(n).rgb(),a=Tt(e).rgb();return Tt.rgb(t(r,a))},Yn=t=>(e,n)=>{const r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r},Lm=t=>t,Fm=(t,e)=>t*e/255,zm=(t,e)=>t>e?e:t,Om=(t,e)=>t>e?t:e,qm=(t,e)=>255*(1-(1-t/255)*(1-e/255)),Dm=(t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255)),jm=(t,e)=>255*(1-(1-e/255)/(t/255)),Im=(t,e)=>t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t);Ge.normal=Un(Yn(Lm));Ge.multiply=Un(Yn(Fm));Ge.screen=Un(Yn(qm));Ge.overlay=Un(Yn(Dm));Ge.darken=Un(Yn(zm));Ge.lighten=Un(Yn(Om));Ge.dodge=Un(Yn(Im));Ge.burn=Un(Yn(jm));const{pow:Bm,sin:Um,cos:Ym}=Math;function Wm(t=300,e=-1.5,n=1,r=1,a=[0,1]){let i=0,o;Mt(a)==="array"?o=a[1]-a[0]:(o=0,a=[a,a]);const c=function(f){const l=vn*((t+120)/360+e*f),u=Bm(a[0]+o*f,r),h=(i!==0?n[0]+f*i:n)*u*(1-u)/2,b=Ym(l),g=Um(l),m=u+h*(-.14861*b+1.78277*g),v=u+h*(-.29227*b-.90649*g),p=u+h*(1.97294*b);return Tt(Es([m*255,v*255,p*255,1]))};return c.start=function(f){return f==null?t:(t=f,c)},c.rotations=function(f){return f==null?e:(e=f,c)},c.gamma=function(f){return f==null?r:(r=f,c)},c.hue=function(f){return f==null?n:(n=f,Mt(n)==="array"?(i=n[1]-n[0],i===0&&(n=n[1])):i=0,c)},c.lightness=function(f){return f==null?a:(Mt(f)==="array"?(a=f,o=f[1]-f[0]):(a=[f,f],o=0),c)},c.scale=()=>Tt.scale(c),c.hue(n),c}const Hm="0123456789abcdef",{floor:Xm,random:Gm}=Math,Vm=()=>{let t="#";for(let e=0;e<6;e++)t+=Hm.charAt(Xm(Gm()*16));return new U(t,"hex")},{log:$f,pow:Zm,floor:Km,abs:Qm}=Math;function k0(t,e=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Mt(t)==="object"&&(t=Object.values(t)),t.forEach(r=>{e&&Mt(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,a)=>M0(n,r,a),n}function M0(t,e="equal",n=7){Mt(t)=="array"&&(t=k0(t));const{min:r,max:a}=t,i=t.values.sort((c,f)=>c-f);if(n===1)return[r,a];const o=[];if(e.substr(0,1)==="c"&&(o.push(r),o.push(a)),e.substr(0,1)==="e"){o.push(r);for(let c=1;c<n;c++)o.push(r+c/n*(a-r));o.push(a)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const c=Math.LOG10E*$f(r),f=Math.LOG10E*$f(a);o.push(r);for(let l=1;l<n;l++)o.push(Zm(10,c+l/n*(f-c)));o.push(a)}else if(e.substr(0,1)==="q"){o.push(r);for(let c=1;c<n;c++){const f=(i.length-1)*c/n,l=Km(f);if(l===f)o.push(i[l]);else{const u=f-l;o.push(i[l]*(1-u)+i[l+1]*u)}}o.push(a)}else if(e.substr(0,1)==="k"){let c;const f=i.length,l=new Array(f),u=new Array(n);let d=!0,h=0,b=null;b=[],b.push(r);for(let v=1;v<n;v++)b.push(r+v/n*(a-r));for(b.push(a);d;){for(let p=0;p<n;p++)u[p]=0;for(let p=0;p<f;p++){const S=i[p];let A=Number.MAX_VALUE,x;for(let k=0;k<n;k++){const _=Qm(b[k]-S);_<A&&(A=_,x=k),u[x]++,l[p]=x}}const v=new Array(n);for(let p=0;p<n;p++)v[p]=null;for(let p=0;p<f;p++)c=l[p],v[c]===null?v[c]=i[p]:v[c]+=i[p];for(let p=0;p<n;p++)v[p]*=1/u[p];d=!1;for(let p=0;p<n;p++)if(v[p]!==b[p]){d=!0;break}b=v,h++,h>200&&(d=!1)}const g={};for(let v=0;v<n;v++)g[v]=[];for(let v=0;v<f;v++)c=l[v],g[c].push(i[v]);let m=[];for(let v=0;v<n;v++)m.push(g[v][0]),m.push(g[v][g[v].length-1]);m=m.sort((v,p)=>v-p),o.push(m[0]);for(let v=1;v<m.length;v+=2){const p=m[v];!isNaN(p)&&o.indexOf(p)===-1&&o.push(p)}}return o}const Jm=(t,e)=>{t=new U(t),e=new U(e);const n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const tl=.027,$m=5e-4,tv=.1,el=1.14,ri=.022,nl=1.414,ev=(t,e)=>{t=new U(t),e=new U(e),t.alpha()<1&&(t=zr(e,t,t.alpha(),"rgb"));const n=rl(...t.rgb()),r=rl(...e.rgb()),a=n>=ri?n:n+Math.pow(ri-n,nl),i=r>=ri?r:r+Math.pow(ri-r,nl),o=Math.pow(i,.56)-Math.pow(a,.57),c=Math.pow(i,.65)-Math.pow(a,.62),f=Math.abs(i-a)<$m?0:a<i?o*el:c*el;return(Math.abs(f)<tv?0:f>0?f-tl:f+tl)*100};function rl(t,e,n){return .2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:dn,pow:Gt,min:nv,max:rv,atan2:al,abs:il,cos:ai,sin:ol,exp:av,PI:cl}=Math;function iv(t,e,n=1,r=1,a=1){var i=function(st){return 360*st/(2*cl)},o=function(st){return 2*cl*st/360};t=new U(t),e=new U(e);const[c,f,l]=Array.from(t.lab()),[u,d,h]=Array.from(e.lab()),b=(c+u)/2,g=dn(Gt(f,2)+Gt(l,2)),m=dn(Gt(d,2)+Gt(h,2)),v=(g+m)/2,p=.5*(1-dn(Gt(v,7)/(Gt(v,7)+Gt(25,7)))),S=f*(1+p),A=d*(1+p),x=dn(Gt(S,2)+Gt(l,2)),k=dn(Gt(A,2)+Gt(h,2)),_=(x+k)/2,y=i(al(l,S)),M=i(al(h,A)),w=y>=0?y:y+360,N=M>=0?M:M+360,C=il(w-N)>180?(w+N+360)/2:(w+N)/2,R=1-.17*ai(o(C-30))+.24*ai(o(2*C))+.32*ai(o(3*C+6))-.2*ai(o(4*C-63));let L=N-w;L=il(L)<=180?L:N<=w?L+360:L-360,L=2*dn(x*k)*ol(o(L)/2);const P=u-c,E=k-x,F=1+.015*Gt(b-50,2)/dn(20+Gt(b-50,2)),j=1+.045*_,D=1+.015*_*R,q=30*av(-Gt((C-275)/25,2)),Q=-(2*dn(Gt(_,7)/(Gt(_,7)+Gt(25,7))))*ol(2*o(q)),it=dn(Gt(P/(n*F),2)+Gt(E/(r*j),2)+Gt(L/(a*D),2)+Q*(E/(r*j))*(L/(a*D)));return rv(0,nv(100,it))}function ov(t,e,n="lab"){t=new U(t),e=new U(e);const r=t.get(n),a=e.get(n);let i=0;for(let o in r){const c=(r[o]||0)-(a[o]||0);i+=c*c}return Math.sqrt(i)}const cv=(...t)=>{try{return new U(...t),!0}catch{return!1}},sv={cool(){return Ti([Tt.hsl(180,1,.9),Tt.hsl(250,.7,.4)])},hot(){return Ti(["#000","#f00","#ff0","#fff"]).mode("rgb")}},qc={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},S0=Object.keys(qc),sl=new Map(S0.map(t=>[t.toLowerCase(),t])),fv=typeof Proxy=="function"?new Proxy(qc,{get(t,e){const n=e.toLowerCase();if(sl.has(n))return t[sl.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(S0)}}):qc,lv=(...t)=>{t=mt(t,"cmyk");const[e,n,r,a]=t,i=t.length>4?t[4]:1;return a===1?[0,0,0,i]:[e>=1?0:255*(1-e)*(1-a),n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),i]},{max:fl}=Math,uv=(...t)=>{let[e,n,r]=mt(t,"rgb");e=e/255,n=n/255,r=r/255;const a=1-fl(e,fl(n,r)),i=a<1?1/(1-a):0,o=(1-e-a)*i,c=(1-n-a)*i,f=(1-r-a)*i;return[o,c,f,a]};U.prototype.cmyk=function(){return uv(this._rgb)};const dv=(...t)=>new U(...t,"cmyk");Object.assign(Tt,{cmyk:dv});ht.format.cmyk=lv;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"cmyk"),Mt(t)==="array"&&t.length===4)return"cmyk"}});const hv=(...t)=>{const e=mt(t,"hsla");let n=Yr(t)||"lsa";return e[0]=De(e[0]||0)+"deg",e[1]=De(e[1]*100)+"%",e[2]=De(e[2]*100)+"%",n==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),n="hsla"):e.length=3,`${n.substr(0,3)}(${e.join(" ")})`},bv=(...t)=>{const e=mt(t,"lab");let n=Yr(t)||"lab";return e[0]=De(e[0])+"%",e[1]=De(e[1]),e[2]=De(e[2]),n==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},gv=(...t)=>{const e=mt(t,"lch");let n=Yr(t)||"lab";return e[0]=De(e[0])+"%",e[1]=De(e[1]),e[2]=isNaN(e[2])?"none":De(e[2])+"deg",n==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},mv=(...t)=>{const e=mt(t,"lab");return e[0]=De(e[0]*100)+"%",e[1]=zc(e[1]),e[2]=zc(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},T0=(...t)=>{const[e,n,r,...a]=mt(t,"rgb"),[i,o,c]=Os(e,n,r),[f,l,u]=y0(i,o,c);return[f,l,u,...a.length>0&&a[0]<1?[a[0]]:[]]},vv=(...t)=>{const e=mt(t,"lch");return e[0]=De(e[0]*100)+"%",e[1]=zc(e[1]),e[2]=isNaN(e[2])?"none":De(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:oc}=Math,pv=(...t)=>{const e=mt(t,"rgba");let n=Yr(t)||"rgb";if(n.substr(0,3)==="hsl")return hv(x0(e),n);if(n.substr(0,3)==="lab"){const r=ka();xn("d50");const a=bv(Rs(e),n);return xn(r),a}if(n.substr(0,3)==="lch"){const r=ka();xn("d50");const a=gv(Fs(e),n);return xn(r),a}return n.substr(0,5)==="oklab"?mv(Os(e)):n.substr(0,5)==="oklch"?vv(T0(e)):(e[0]=oc(e[0]),e[1]=oc(e[1]),e[2]=oc(e[2]),(n==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),n="rgba"),`${n.substr(0,3)}(${e.slice(0,n==="rgb"?3:4).join(" ")})`)},A0=(...t)=>{t=mt(t,"lch");const[e,n,r,...a]=t,[i,o,c]=p0(e,n,r),[f,l,u]=zs(i,o,c);return[f,l,u,...a.length>0&&a[0]<1?[a[0]]:[]]},Sn=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,He=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Ai=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,je=/\s*/.source,Hr=/\s+/.source,qs=/\s*,\s*/.source,uo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Xr=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,C0=new RegExp("^rgba?\\("+je+[Sn,Sn,Sn].join(Hr)+Xr+"\\)$"),N0=new RegExp("^rgb\\("+je+[Sn,Sn,Sn].join(qs)+je+"\\)$"),E0=new RegExp("^rgba\\("+je+[Sn,Sn,Sn,He].join(qs)+je+"\\)$"),P0=new RegExp("^hsla?\\("+je+[uo,Ai,Ai].join(Hr)+Xr+"\\)$"),R0=new RegExp("^hsl?\\("+je+[uo,Ai,Ai].join(qs)+je+"\\)$"),L0=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,F0=new RegExp("^lab\\("+je+[He,He,He].join(Hr)+Xr+"\\)$"),z0=new RegExp("^lch\\("+je+[He,He,uo].join(Hr)+Xr+"\\)$"),O0=new RegExp("^oklab\\("+je+[He,He,He].join(Hr)+Xr+"\\)$"),q0=new RegExp("^oklch\\("+je+[He,He,uo].join(Hr)+Xr+"\\)$"),{round:D0}=Math,_r=t=>t.map((e,n)=>n<=2?ar(D0(e),0,255):e),Vt=(t,e=0,n=100,r=!1)=>(typeof t=="string"&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,r?t=e+(t+1)*.5*(n-e):t=e+t*(n-e)),+t),he=(t,e)=>t==="none"?e:t,Ds=t=>{if(t=t.toLowerCase().trim(),t==="transparent")return[0,0,0,0];let e;if(ht.format.named)try{return ht.format.named(t)}catch{}if((e=t.match(C0))||(e=t.match(N0))){let n=e.slice(1,4);for(let a=0;a<3;a++)n[a]=+Vt(he(n[a],0),0,255);n=_r(n);const r=e[4]!==void 0?+Vt(e[4],0,1):1;return n[3]=r,n}if(e=t.match(E0)){const n=e.slice(1,5);for(let r=0;r<4;r++)n[r]=+Vt(n[r],0,255);return n}if((e=t.match(P0))||(e=t.match(R0))){const n=e.slice(1,4);n[0]=+he(n[0].replace("deg",""),0),n[1]=+Vt(he(n[1],0),0,100)*.01,n[2]=+Vt(he(n[2],0),0,100)*.01;const r=_r(Oc(n)),a=e[4]!==void 0?+Vt(e[4],0,1):1;return r[3]=a,r}if(e=t.match(L0)){const n=e.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Oc(n);for(let a=0;a<3;a++)r[a]=D0(r[a]);return r[3]=+e[4],r}if(e=t.match(F0)){const n=e.slice(1,4);n[0]=Vt(he(n[0],0),0,100),n[1]=Vt(he(n[1],0),-125,125,!0),n[2]=Vt(he(n[2],0),-125,125,!0);const r=ka();xn("d50");const a=_r(Ps(n));xn(r);const i=e[4]!==void 0?+Vt(e[4],0,1):1;return a[3]=i,a}if(e=t.match(z0)){const n=e.slice(1,4);n[0]=Vt(n[0],0,100),n[1]=Vt(he(n[1],0),0,150,!1),n[2]=+he(n[2].replace("deg",""),0);const r=ka();xn("d50");const a=_r(Ls(n));xn(r);const i=e[4]!==void 0?+Vt(e[4],0,1):1;return a[3]=i,a}if(e=t.match(O0)){const n=e.slice(1,4);n[0]=Vt(he(n[0],0),0,1),n[1]=Vt(he(n[1],0),-.4,.4,!0),n[2]=Vt(he(n[2],0),-.4,.4,!0);const r=_r(zs(n)),a=e[4]!==void 0?+Vt(e[4],0,1):1;return r[3]=a,r}if(e=t.match(q0)){const n=e.slice(1,4);n[0]=Vt(he(n[0],0),0,1),n[1]=Vt(he(n[1],0),0,.4,!1),n[2]=+he(n[2].replace("deg",""),0);const r=_r(A0(n)),a=e[4]!==void 0?+Vt(e[4],0,1):1;return r[3]=a,r}};Ds.test=t=>C0.test(t)||P0.test(t)||F0.test(t)||z0.test(t)||O0.test(t)||q0.test(t)||N0.test(t)||E0.test(t)||R0.test(t)||L0.test(t)||t==="transparent";U.prototype.css=function(t){return pv(this._rgb,t)};const yv=(...t)=>new U(...t,"css");Tt.css=yv;ht.format.css=Ds;ht.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Mt(t)==="string"&&Ds.test(t))return"css"}});ht.format.gl=(...t)=>{const e=mt(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const _v=(...t)=>new U(...t,"gl");Tt.gl=_v;U.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};U.prototype.hex=function(t){return g0(this._rgb,t)};const xv=(...t)=>new U(...t,"hex");Tt.hex=xv;ht.format.hex=b0;ht.autodetect.push({p:4,test:(t,...e)=>{if(!e.length&&Mt(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:ii}=Math,j0=t=>{const e=t/100;let n,r,a;return e<66?(n=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*ii(r),a=e<20?0:-254.76935184120902+.8274096064007395*(a=e-10)+115.67994401066147*ii(a)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*ii(n),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*ii(r),a=255),[n,r,a,1]},{round:wv}=Math,kv=(...t)=>{const e=mt(t,"rgb"),n=e[0],r=e[2];let a=1e3,i=4e4;const o=.4;let c;for(;i-a>o;){c=(i+a)*.5;const f=j0(c);f[2]/f[0]>=r/n?i=c:a=c}return wv(c)};U.prototype.temp=U.prototype.kelvin=U.prototype.temperature=function(){return kv(this._rgb)};const cc=(...t)=>new U(...t,"temp");Object.assign(Tt,{temp:cc,kelvin:cc,temperature:cc});ht.format.temp=ht.format.kelvin=ht.format.temperature=j0;U.prototype.oklch=function(){return T0(this._rgb)};const Mv=(...t)=>new U(...t,"oklch");Object.assign(Tt,{oklch:Mv});ht.format.oklch=A0;ht.autodetect.push({p:2,test:(...t)=>{if(t=mt(t,"oklch"),Mt(t)==="array"&&t.length===3)return"oklch"}});Object.assign(Tt,{analyze:k0,average:Sm,bezier:Pm,blend:Ge,brewer:fv,Color:U,colors:Fr,contrast:Jm,contrastAPCA:ev,cubehelix:Wm,deltaE:iv,distance:ov,input:ht,interpolate:zr,limits:M0,mix:zr,random:Vm,scale:Ti,scales:sv,valid:cv});var Sv=ct('<th class="header-cell svelte-1cazccs"><!></th>'),Tv=ct("<td> </td>"),Av=ct('<td class="contrast-value self-contrast svelte-1cazccs"></td>'),Cv=ct("<td> </td>"),Nv=ct('<tr><td class="svelte-1cazccs"><!></td><!></tr>'),Ev=ct('<div class="contrast-matrix svelte-1cazccs"><h2>Contrast Matrix</h2> <table class="svelte-1cazccs"><thead><tr><th class="header-cell svelte-1cazccs">Colour against</th><!></tr></thead><tbody><tr><td class="svelte-1cazccs"><!></td><!></tr><!></tbody></table> <p class="apca-note svelte-1cazccs">APCA values are typically absolute; higher values indicate better contrast.</p> <p class="apca-note svelte-1cazccs">â >60 Good for larger text</p> <p class="apca-note svelte-1cazccs">â ï¸ 45 minimum for lines</p> <p class="apca-note svelte-1cazccs">â &lt;45 too low</p></div>');function Pv(t,e){Ct(e,!1);let n=B(e,"colors",24,()=>[]),r=B(e,"white",8,"#FFFFFF"),a=On([]);function i(x){return Tt(x).luminance()>.5?"#000000":"#ffffff"}function o(x){const k=Math.abs(x);return k>=75?"contrast-super":k>=60?"contrast-good":k>=45?"contrast-fair":"contrast-poor"}function c(x){const k=Math.abs(x);return k>=60?"â":k>=45?"â ï¸":"â"}Xu(()=>(s(a),ki(n()),ki(r())),()=>{rt(a,[]);const x={label:"vs background",values:n().map(k=>({color:k,contrast:Kf(k,r())}))};s(a).push(x),n().forEach((k,_)=>{const y={label:`vs ${k}`,isColorRow:!0,colorValue:k,values:n().map((M,w)=>({color:M,background:k,contrast:Kf(k,M)}))};s(a).push(y)})}),Gu(),oo();var f=Ev(),l=V(X(f),2),u=X(l),d=X(u),h=X(d),b=V(h);Ut(b,1,n,Qt,(x,k)=>{var _=Sv(),y=X(_);Qo(y,{get color(){return s(k)}}),H(_),et(M=>At(_,`background-color: ${r()??""}; color: ${M??""};`),[()=>i(r())],Tr),z(x,_)}),H(d),H(u);var g=V(u),m=X(g),v=X(m),p=X(v);Qo(p,{get color(){return r()}}),H(v);var S=V(v);Ut(S,1,()=>s(a)[0].values,Qt,(x,k)=>{let _=()=>s(k).contrast;var y=Tv(),M=X(y);H(y),et((w,N,C,R)=>{It(y,1,`contrast-value ${w??""}`,"svelte-1cazccs"),At(y,`color: ${N??""}; background-color: ${r()??""};`),Ht(M,`${C??""}${R??""}`)},[()=>o(_()),()=>i(r()),()=>_().toFixed(1),()=>c(_())],Tr),z(x,y)}),H(m);var A=V(m);Ut(A,1,()=>s(a).slice(1),Qt,(x,k,_)=>{var y=Nv(),M=X(y),w=X(M);Qo(w,{get color(){return n()[_]}}),H(M);var N=V(M);Ut(N,1,()=>s(k).values,Qt,(C,R,L)=>{let P=()=>s(R).contrast,E=()=>s(R).color;var F=St(),j=at(F);{var D=K=>{var Q=Av();et(()=>At(Q,`background-color: ${E()??""};`)),z(K,Q)},q=K=>{var Q=Cv(),it=X(Q);H(Q),et((st,ft,bt,W)=>{It(Q,1,`contrast-value ${st??""}`,"svelte-1cazccs"),At(Q,`color: ${ft??""}; background-color: ${n()[_]??""};`),Ht(it,`${bt??""}
								${W??""}`)},[()=>o(P()),()=>i(n()[_]),()=>P().toFixed(1),()=>c(P())],Tr),z(K,Q)};$(j,K=>{_===L?K(D):K(q,!1)})}z(C,F)}),H(y),z(x,y)}),H(g),H(l),fo(8),H(f),et(x=>At(h,`background-color: ${r()??""}; color: ${x??""};`),[()=>i(r())],Tr),z(t,f),Nt()}var Ve,Ze,pn,Lr,xi;const wf=class wf extends Map{constructor(n){super();ie(this,Lr);ie(this,Ve,new Map);ie(this,Ze,Ke(0));ie(this,pn,Ke(0));if(n){for(var[r,a]of n)super.set(r,a);vt(this,pn).v=super.size}}has(n){var r=vt(this,Ve),a=r.get(n);if(a===void 0){var i=super.get(n);if(i!==void 0)a=Ke(0),r.set(n,a);else return s(vt(this,Ze)),!1}return s(a),!0}forEach(n,r){$n(this,Lr,xi).call(this),super.forEach(n,r)}get(n){var r=vt(this,Ve),a=r.get(n);if(a===void 0){var i=super.get(n);if(i!==void 0)a=Ke(0),r.set(n,a);else{s(vt(this,Ze));return}}return s(a),super.get(n)}set(n,r){var d;var a=vt(this,Ve),i=a.get(n),o=super.get(n),c=super.set(n,r),f=vt(this,Ze);if(i===void 0)a.set(n,Ke(0)),rt(vt(this,pn),super.size),Mr(f);else if(o!==r){Mr(i);var l=f.reactions===null?null:new Set(f.reactions),u=l===null||!((d=i.reactions)!=null&&d.every(h=>l.has(h)));u&&Mr(f)}return c}delete(n){var r=vt(this,Ve),a=r.get(n),i=super.delete(n);return a!==void 0&&(r.delete(n),rt(vt(this,pn),super.size),rt(a,-1),Mr(vt(this,Ze))),i}clear(){if(super.size!==0){super.clear();var n=vt(this,Ve);rt(vt(this,pn),0);for(var r of n.values())rt(r,-1);Mr(vt(this,Ze)),n.clear()}}keys(){return s(vt(this,Ze)),super.keys()}values(){return $n(this,Lr,xi).call(this),super.values()}entries(){return $n(this,Lr,xi).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return s(vt(this,pn)),super.size}};Ve=new WeakMap,Ze=new WeakMap,pn=new WeakMap,Lr=new WeakSet,xi=function(){s(vt(this,Ze));var n=vt(this,Ve);if(vt(this,pn).v!==n.size)for(var r of Mf(wf.prototype,this,"keys").call(this))n.has(r)||n.set(r,Ke(0));for(var[,a]of vt(this,Ve))s(a)};let Ar=wf;var Da,ja;class Rv{constructor(e,n){ie(this,Da);ie(this,ja);Jr(this,Da,e),Jr(this,ja,F2(n))}get current(){return vt(this,ja).call(this),vt(this,Da).call(this)}}Da=new WeakMap,ja=new WeakMap;const Lv=/\(.+\)/,Fv=new Set(["all","print","screen","and","or","not","only"]);class zv extends Rv{constructor(e,n){let r=Lv.test(e)||e.split(/[\s,]+/).some(i=>Fv.has(i.trim()))?e:`(${e})`;const a=window.matchMedia(r);super(()=>a.matches,i=>Ku(a,"change",i))}}function Tn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ov(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function js(t){let e,n,r;t.length!==2?(e=Tn,n=(c,f)=>Tn(t(c),f),r=(c,f)=>t(c)-f):(e=t===Tn||t===Ov?t:qv,n=t,r=t);function a(c,f,l=0,u=c.length){if(l<u){if(e(f,f)!==0)return u;do{const d=l+u>>>1;n(c[d],f)<0?l=d+1:u=d}while(l<u)}return l}function i(c,f,l=0,u=c.length){if(l<u){if(e(f,f)!==0)return u;do{const d=l+u>>>1;n(c[d],f)<=0?l=d+1:u=d}while(l<u)}return l}function o(c,f,l=0,u=c.length){const d=a(c,f,l,u-1);return d>l&&r(c[d-1],f)>-r(c[d],f)?d-1:d}return{left:a,center:o,right:i}}function qv(){return 0}function I0(t){return t===null?NaN:+t}function*Dv(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const jv=js(Tn),Wa=jv.right;js(I0).center;function B0(t,e){let n=0,r,a=0,i=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let c of t)(c=e(c,++o,t))!=null&&(c=+c)>=c&&(r=c-a,a+=r/++n,i+=r*(c-a))}if(n>1)return i/(n-1)}function Iv(t,e){const n=B0(t,e);return n&&Math.sqrt(n)}function Or(t,e){let n,r;for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));return[n,r]}class cr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let a=0;a<this._n&&a<32;a++){const i=n[a],o=e+i,c=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);c&&(n[r++]=c),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,a,i,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,a=e[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&e[n-1]<0||i>0&&e[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}class Ci extends Map{constructor(e,n=W0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(Dc(this,e))}has(e){return super.has(Dc(this,e))}set(e,n){return super.set(U0(this,e),n)}delete(e){return super.delete(Y0(this,e))}}class Bv extends Set{constructor(e,n=W0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Dc(this,e))}add(e){return super.add(U0(this,e))}delete(e){return super.delete(Y0(this,e))}}function Dc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function U0({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Y0({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function W0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function H0(t){return t}function Uv(t,...e){return X0(t,Array.from,H0,e)}function Yv(t,...e){return X0(t,H0,Wv,e)}function Wv(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function X0(t,e,n,r){return function a(i,o){if(o>=r.length)return n(i);const c=new Ci,f=r[o++];let l=-1;for(const u of i){const d=f(u,++l,i),h=c.get(d);h?h.push(u):c.set(d,[u])}for(const[u,d]of c)c.set(u,a(d,o));return e(c)}(t,0)}function Hv(t=Tn){if(t===Tn)return G0;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function G0(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Xv=Math.sqrt(50),Gv=Math.sqrt(10),Vv=Math.sqrt(2);function Ni(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Xv?10:i>=Gv?5:i>=Vv?2:1;let c,f,l;return a<0?(l=Math.pow(10,-a)/o,c=Math.round(t*l),f=Math.round(e*l),c/l<t&&++c,f/l>e&&--f,l=-l):(l=Math.pow(10,a)*o,c=Math.round(t/l),f=Math.round(e/l),c*l<t&&++c,f*l>e&&--f),f<c&&.5<=n&&n<2?Ni(t,e,n*2):[c,f,l]}function Ma(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?Ni(e,t,n):Ni(t,e,n);if(!(i>=a))return[];const c=i-a+1,f=new Array(c);if(r)if(o<0)for(let l=0;l<c;++l)f[l]=(i-l)/-o;else for(let l=0;l<c;++l)f[l]=(i-l)*o;else if(o<0)for(let l=0;l<c;++l)f[l]=(a+l)/-o;else for(let l=0;l<c;++l)f[l]=(a+l)*o;return f}function jc(t,e,n){return e=+e,t=+t,n=+n,Ni(t,e,n)[2]}function Ic(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?jc(e,t,n):jc(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function Sa(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Bc(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function V0(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?G0:Hv(a);r>n;){if(r-n>600){const f=r-n+1,l=e-n+1,u=Math.log(f),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(f-d)/f)*(l-f/2<0?-1:1),b=Math.max(n,Math.floor(e-l*d/f+h)),g=Math.min(r,Math.floor(e+(f-l)*d/f+h));V0(t,e,b,g,a)}const i=t[e];let o=n,c=r;for(ea(t,n,e),a(t[r],i)>0&&ea(t,n,r);o<c;){for(ea(t,o,c),++o,--c;a(t[o],i)<0;)++o;for(;a(t[c],i)>0;)--c}a(t[n],i)===0?ea(t,n,c):(++c,ea(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function ea(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Is(t,e,n){if(t=Float64Array.from(Dv(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Bc(t);if(e>=1)return Sa(t);var r,a=(r-1)*e,i=Math.floor(a),o=Sa(V0(t,i).subarray(0,i+1)),c=Bc(t.subarray(i+1));return o+(c-o)*(a-i)}}function Zv(t,e,n=I0){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),c=+n(t[i+1],i+1,t);return o+(c-o)*(a-i)}}function Kv(t,e){let n=0,r=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function Qv(t,e){return Is(t,.5,e)}function*Jv(t){for(const e of t)yield*e}function Z0(t){return Array.from(Jv(t))}function $v(t,e){const n=new Ci;if(e===void 0)for(let i of t)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,a=0;for(const[i,o]of n)o>a&&(a=o,r=i);return r}function qn(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function tp(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}function ep(...t){const e=new Bv;for(const n of t)for(const r of n)e.add(r);return e}function fn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Nn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ll=Symbol("implicit");function ho(){var t=new Ci,e=[],n=[],r=ll;function a(i){let o=t.get(i);if(o===void 0){if(r!==ll)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Ci;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ho(e,n).unknown(r)},fn.apply(a,arguments),a}function sr(){var t=ho().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,c=!1,f=0,l=0,u=.5;delete t.unknown;function d(){var h=e().length,b=a<r,g=b?a:r,m=b?r:a;i=(m-g)/Math.max(1,h-f+l*2),c&&(i=Math.floor(i)),g+=(m-g-i*(h-f))*u,o=i*(1-f),c&&(g=Math.round(g),o=Math.round(o));var v=qn(h).map(function(p){return g+i*p});return n(b?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,d()):[r,a]},t.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,c=!0,d()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(c=!!h,d()):c},t.padding=function(h){return arguments.length?(f=Math.min(1,l=+h),d()):f},t.paddingInner=function(h){return arguments.length?(f=Math.min(1,h),d()):f},t.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return sr(e(),[r,a]).round(c).paddingInner(f).paddingOuter(l).align(u)},fn.apply(d(),arguments)}function K0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return K0(e())},t}function np(){return K0(sr.apply(null,arguments).paddingInner(1))}function Gr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ha(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wn(){}var fr=.7,qr=1/fr,Er="\\s*([+-]?\\d+)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rp=/^#([0-9a-f]{3,8})$/,ap=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),ip=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),op=new RegExp(`^rgba\\(${Er},${Er},${Er},${Ta}\\)$`),cp=new RegExp(`^rgba\\(${rn},${rn},${rn},${Ta}\\)$`),sp=new RegExp(`^hsl\\(${Ta},${rn},${rn}\\)$`),fp=new RegExp(`^hsla\\(${Ta},${rn},${rn},${Ta}\\)$`),ul={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gr(Wn,Dr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dl,formatHex:dl,formatHex8:lp,formatHsl:up,formatRgb:hl,toString:hl});function dl(){return this.rgb().formatHex()}function lp(){return this.rgb().formatHex8()}function up(){return Q0(this).formatHsl()}function hl(){return this.rgb().formatRgb()}function Dr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rp.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bl(e):n===3?new ne(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ap.exec(t))?new ne(e[1],e[2],e[3],1):(e=ip.exec(t))?new ne(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=op.exec(t))?oi(e[1],e[2],e[3],e[4]):(e=cp.exec(t))?oi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sp.exec(t))?vl(e[1],e[2]/100,e[3]/100,1):(e=fp.exec(t))?vl(e[1],e[2]/100,e[3]/100,e[4]):ul.hasOwnProperty(t)?bl(ul[t]):t==="transparent"?new ne(NaN,NaN,NaN,0):null}function bl(t){return new ne(t>>16&255,t>>8&255,t&255,1)}function oi(t,e,n,r){return r<=0&&(t=e=n=NaN),new ne(t,e,n,r)}function Bs(t){return t instanceof Wn||(t=Dr(t)),t?(t=t.rgb(),new ne(t.r,t.g,t.b,t.opacity)):new ne}function Aa(t,e,n,r){return arguments.length===1?Bs(t):new ne(t,e,n,r??1)}function ne(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Gr(ne,Aa,Ha(Wn,{brighter(t){return t=t==null?qr:Math.pow(qr,t),new ne(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new ne(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ne(ir(this.r),ir(this.g),ir(this.b),Ei(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gl,formatHex:gl,formatHex8:dp,formatRgb:ml,toString:ml}));function gl(){return`#${nr(this.r)}${nr(this.g)}${nr(this.b)}`}function dp(){return`#${nr(this.r)}${nr(this.g)}${nr(this.b)}${nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ml(){const t=Ei(this.opacity);return`${t===1?"rgb(":"rgba("}${ir(this.r)}, ${ir(this.g)}, ${ir(this.b)}${t===1?")":`, ${t})`}`}function Ei(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ir(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nr(t){return t=ir(t),(t<16?"0":"")+t.toString(16)}function vl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new We(t,e,n,r)}function Q0(t){if(t instanceof We)return new We(t.h,t.s,t.l,t.opacity);if(t instanceof Wn||(t=Dr(t)),!t)return new We;if(t instanceof We)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,c=i-a,f=(i+a)/2;return c?(e===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-e)/c+2:o=(e-n)/c+4,c/=f<.5?i+a:2-i-a,o*=60):c=f>0&&f<1?0:o,new We(o,c,f,t.opacity)}function hp(t,e,n,r){return arguments.length===1?Q0(t):new We(t,e,n,r??1)}function We(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Gr(We,hp,Ha(Wn,{brighter(t){return t=t==null?qr:Math.pow(qr,t),new We(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new We(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new ne(sc(t>=240?t-240:t+120,a,r),sc(t,a,r),sc(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new We(pl(this.h),ci(this.s),ci(this.l),Ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ei(this.opacity);return`${t===1?"hsl(":"hsla("}${pl(this.h)}, ${ci(this.s)*100}%, ${ci(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pl(t){return t=(t||0)%360,t<0?t+360:t}function ci(t){return Math.max(0,Math.min(1,t||0))}function sc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const J0=Math.PI/180,$0=180/Math.PI,Pi=18,td=.96422,ed=1,nd=.82521,rd=4/29,Pr=6/29,ad=3*Pr*Pr,bp=Pr*Pr*Pr;function id(t){if(t instanceof an)return new an(t.l,t.a,t.b,t.opacity);if(t instanceof wn)return od(t);t instanceof ne||(t=Bs(t));var e=dc(t.r),n=dc(t.g),r=dc(t.b),a=fc((.2225045*e+.7168786*n+.0606169*r)/ed),i,o;return e===n&&n===r?i=o=a:(i=fc((.4360747*e+.3850649*n+.1430804*r)/td),o=fc((.0139322*e+.0971045*n+.7141733*r)/nd)),new an(116*a-16,500*(i-a),200*(a-o),t.opacity)}function Uc(t,e,n,r){return arguments.length===1?id(t):new an(t,e,n,r??1)}function an(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Gr(an,Uc,Ha(Wn,{brighter(t){return new an(this.l+Pi*(t??1),this.a,this.b,this.opacity)},darker(t){return new an(this.l-Pi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=td*lc(e),t=ed*lc(t),n=nd*lc(n),new ne(uc(3.1338561*e-1.6168667*t-.4906146*n),uc(-.9787684*e+1.9161415*t+.033454*n),uc(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function fc(t){return t>bp?Math.pow(t,1/3):t/ad+rd}function lc(t){return t>Pr?t*t*t:ad*(t-rd)}function uc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function dc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function gp(t){if(t instanceof wn)return new wn(t.h,t.c,t.l,t.opacity);if(t instanceof an||(t=id(t)),t.a===0&&t.b===0)return new wn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*$0;return new wn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mp(t,e,n,r){return arguments.length===1?gp(t):new wn(t,e,n,r??1)}function wn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function od(t){if(isNaN(t.h))return new an(t.l,0,0,t.opacity);var e=t.h*J0;return new an(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Gr(wn,mp,Ha(Wn,{brighter(t){return new wn(this.h,this.c,this.l+Pi*(t??1),this.opacity)},darker(t){return new wn(this.h,this.c,this.l-Pi*(t??1),this.opacity)},rgb(){return od(this).rgb()}}));var cd=-.14861,Us=1.78277,Ys=-.29227,bo=-.90649,Ca=1.97294,yl=Ca*bo,_l=Ca*Us,xl=Us*Ys-bo*cd;function vp(t){if(t instanceof or)return new or(t.h,t.s,t.l,t.opacity);t instanceof ne||(t=Bs(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(xl*r+yl*e-_l*n)/(xl+yl-_l),i=r-a,o=(Ca*(n-a)-Ys*i)/bo,c=Math.sqrt(o*o+i*i)/(Ca*a*(1-a)),f=c?Math.atan2(o,i)*$0-120:NaN;return new or(f<0?f+360:f,c,a,t.opacity)}function cn(t,e,n,r){return arguments.length===1?vp(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Gr(or,cn,Ha(Wn,{brighter(t){return t=t==null?qr:Math.pow(qr,t),new or(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new or(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*J0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new ne(255*(e+n*(cd*r+Us*a)),255*(e+n*(Ys*r+bo*a)),255*(e+n*(Ca*r)),this.opacity)}}));function pp(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function yp(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,c=r<e-1?t[r+2]:2*i-a;return pp((n-r/e)*e,o,a,i,c)}}const go=t=>()=>t;function sd(t,e){return function(n){return t+n*e}}function _p(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xp(t,e){var n=e-t;return n?sd(t,n>180||n<-180?n-360*Math.round(n/360):n):go(isNaN(t)?e:t)}function wp(t){return(t=+t)==1?tn:function(e,n){return n-e?_p(e,n,t):go(isNaN(e)?n:e)}}function tn(t,e){var n=e-t;return n?sd(t,n):go(isNaN(t)?e:t)}const wl=function t(e){var n=wp(e);function r(a,i){var o=n((a=Aa(a)).r,(i=Aa(i)).r),c=n(a.g,i.g),f=n(a.b,i.b),l=tn(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=c(u),a.b=f(u),a.opacity=l(u),a+""}}return r.gamma=t,r}(1);function kp(t){return function(e){var n=e.length,r=new Array(n),a=new Array(n),i=new Array(n),o,c;for(o=0;o<n;++o)c=Aa(e[o]),r[o]=c.r||0,a[o]=c.g||0,i[o]=c.b||0;return r=t(r),a=t(a),i=t(i),c.opacity=1,function(f){return c.r=r(f),c.g=a(f),c.b=i(f),c+""}}}var Mp=kp(yp);function Sp(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function Tp(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ap(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Vr(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(c){for(o=0;o<r;++o)i[o]=a[o](c);return i}}function Cp(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ri(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Np(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Vr(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Yc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hc=new RegExp(Yc.source,"g");function Ep(t){return function(){return t}}function Pp(t){return function(e){return t(e)+""}}function Rp(t,e){var n=Yc.lastIndex=hc.lastIndex=0,r,a,i,o=-1,c=[],f=[];for(t=t+"",e=e+"";(r=Yc.exec(t))&&(a=hc.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,f.push({i:o,x:Ri(r,a)})),n=hc.lastIndex;return n<e.length&&(i=e.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?f[0]?Pp(f[0].x):Ep(e):(e=f.length,function(l){for(var u=0,d;u<e;++u)c[(d=f[u]).i]=d.x(l);return c.join("")})}function Vr(t,e){var n=typeof e,r;return e==null||n==="boolean"?go(e):(n==="number"?Ri:n==="string"?(r=Dr(e))?(e=r,wl):Rp:e instanceof Dr?wl:e instanceof Date?Cp:Tp(e)?Sp:Array.isArray(e)?Ap:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Np:Ri)(t,e)}function mo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kl(t,e){var n=tn((t=Uc(t)).l,(e=Uc(e)).l),r=tn(t.a,e.a),a=tn(t.b,e.b),i=tn(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=a(o),t.opacity=i(o),t+""}}function fd(t){return function e(n){n=+n;function r(a,i){var o=t((a=cn(a)).h,(i=cn(i)).h),c=tn(a.s,i.s),f=tn(a.l,i.l),l=tn(a.opacity,i.opacity);return function(u){return a.h=o(u),a.s=c(u),a.l=f(Math.pow(u,n)),a.opacity=l(u),a+""}}return r.gamma=e,r}(1)}fd(xp);var Ws=fd(tn);function Lp(t,e){e===void 0&&(e=t,t=Vr);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[c](o-c)}}function Xa(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Fp(t){return function(){return t}}function zp(t){return+t}var Ml=[0,1];function me(t){return t}function Wc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fp(isNaN(e)?NaN:.5)}function Op(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qp(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=Wc(a,r),i=n(o,i)):(r=Wc(r,a),i=n(i,o)),function(c){return i(r(c))}}function Dp(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=Wc(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(c){var f=Wa(t,c,1,r)-1;return i[f](a[f](c))}}function Ga(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vo(){var t=Ml,e=Ml,n=Vr,r,a,i,o=me,c,f,l;function u(){var h=Math.min(t.length,e.length);return o!==me&&(o=Op(t[0],t[h-1])),c=h>2?Dp:qp,f=l=null,d}function d(h){return h==null||isNaN(h=+h)?i:(f||(f=c(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(a((l||(l=c(e,t.map(r),Ri)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,zp),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=mo,u()},d.clamp=function(h){return arguments.length?(o=h?!0:me,u()):o!==me},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,b){return r=h,a=b,u()}}function ld(){return vo()(me,me)}function jp(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Li(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jr(t){return t=Li(Math.abs(t)),t?t[1]:NaN}function Ip(t,e){return function(n,r){for(var a=n.length,i=[],o=0,c=t[0],f=0;a>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),i.push(n.substring(a-=c,a+c)),!((f+=c+1)>r));)c=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Bp(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Up=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(t){if(!(e=Up.exec(t)))throw new Error("invalid format: "+t);var e;return new Hs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Na.prototype=Hs.prototype;function Hs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yp(t){t:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var ud;function Wp(t,e){var n=Li(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(ud=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Li(t,Math.max(0,e+i-1))[0]}function Sl(t,e){var n=Li(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Tl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jp,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Sl(t*100,e),r:Sl,s:Wp,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Al(t){return t}var Cl=Array.prototype.map,Nl=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Hp(t){var e=t.grouping===void 0||t.thousands===void 0?Al:Ip(Cl.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Al:Bp(Cl.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"â":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Na(d);var h=d.fill,b=d.align,g=d.sign,m=d.symbol,v=d.zero,p=d.width,S=d.comma,A=d.precision,x=d.trim,k=d.type;k==="n"?(S=!0,k="g"):Tl[k]||(A===void 0&&(A=12),x=!0,k="g"),(v||h==="0"&&b==="=")&&(v=!0,h="0",b="=");var _=m==="$"?n:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",y=m==="$"?r:/[%p]/.test(k)?o:"",M=Tl[k],w=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(C){var R=_,L=y,P,E,F;if(k==="c")L=M(C)+L,C="";else{C=+C;var j=C<0||1/C<0;if(C=isNaN(C)?f:M(Math.abs(C),A),x&&(C=Yp(C)),j&&+C==0&&g!=="+"&&(j=!1),R=(j?g==="("?g:c:g==="-"||g==="("?"":g)+R,L=(k==="s"?Nl[8+ud/3]:"")+L+(j&&g==="("?")":""),w){for(P=-1,E=C.length;++P<E;)if(F=C.charCodeAt(P),48>F||F>57){L=(F===46?a+C.slice(P+1):C.slice(P))+L,C=C.slice(0,P);break}}}S&&!v&&(C=e(C,1/0));var D=R.length+C.length+L.length,q=D<p?new Array(p-D+1).join(h):"";switch(S&&v&&(C=e(q+C,q.length?p-L.length:1/0),q=""),b){case"<":C=R+C+L+q;break;case"=":C=R+q+C+L;break;case"^":C=q.slice(0,D=q.length>>1)+R+C+L+q.slice(D);break;default:C=q+R+C+L;break}return i(C)}return N.toString=function(){return d+""},N}function u(d,h){var b=l((d=Na(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(jr(h)/3)))*3,m=Math.pow(10,-g),v=Nl[8+g/3];return function(p){return b(m*p)+v}}return{format:l,formatPrefix:u}}var si,Xs,dd;Xp({thousands:",",grouping:[3],currency:["$",""]});function Xp(t){return si=Hp(t),Xs=si.format,dd=si.formatPrefix,si}function Gp(t){return Math.max(0,-jr(Math.abs(t)))}function Vp(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jr(e)/3)))*3-jr(Math.abs(t)))}function Zp(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jr(e)-jr(t))+1}function Kp(t,e,n,r){var a=Ic(t,e,n),i;switch(r=Na(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Vp(a,o))&&(r.precision=i),dd(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Zp(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Gp(a))&&(r.precision=i-(r.type==="%")*2);break}}return Xs(r)}function Zr(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ma(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return Kp(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],c=r[i],f,l,u=10;for(c<o&&(l=o,o=c,c=l,l=a,a=i,i=l);u-- >0;){if(l=jc(o,c,n),l===f)return r[a]=o,r[i]=c,e(r);if(l>0)o=Math.floor(o/l)*l,c=Math.ceil(c/l)*l;else if(l<0)o=Math.ceil(o*l)/l,c=Math.floor(c*l)/l;else break;f=l}return t},t}function Fi(){var t=ld();return t.copy=function(){return Ga(t,Fi())},fn.apply(t,arguments),Zr(t)}function hd(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function El(t){return Math.log(t)}function Pl(t){return Math.exp(t)}function Qp(t){return-Math.log(-t)}function Jp(t){return-Math.exp(-t)}function $p(t){return isFinite(t)?+("1e"+t):t<0?0:t}function t5(t){return t===10?$p:t===Math.E?Math.exp:e=>Math.pow(t,e)}function e5(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Rl(t){return(e,n)=>-t(-e,n)}function Gs(t){const e=t(El,Pl),n=e.domain;let r=10,a,i;function o(){return a=e5(r),i=t5(r),n()[0]<0?(a=Rl(a),i=Rl(i),t(Qp,Jp)):t(El,Pl),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const f=n();let l=f[0],u=f[f.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=a(l),b=a(u),g,m;const v=c==null?10:+c;let p=[];if(!(r%1)&&b-h<v){if(h=Math.floor(h),b=Math.ceil(b),l>0){for(;h<=b;++h)for(g=1;g<r;++g)if(m=h<0?g/i(-h):g*i(h),!(m<l)){if(m>u)break;p.push(m)}}else for(;h<=b;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<l)){if(m>u)break;p.push(m)}p.length*2<v&&(p=Ma(l,u,v))}else p=Ma(h,b,Math.min(b-h,v)).map(i);return d?p.reverse():p},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Na(f)).precision==null&&(f.trim=!0),f=Xs(f)),c===1/0)return f;const l=Math.max(1,r*c/e.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*r<r-.5&&(d*=r),d<=l?f(u):""}},e.nice=()=>n(hd(n(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),e}function Vs(){const t=Gs(vo()).domain([1,10]);return t.copy=()=>Ga(t,Vs()).base(t.base()),fn.apply(t,arguments),t}function Ll(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Fl(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zs(t){var e=1,n=t(Ll(e),Fl(e));return n.constant=function(r){return arguments.length?t(Ll(e=+r),Fl(e)):e},Zr(n)}function bd(){var t=Zs(vo());return t.copy=function(){return Ga(t,bd()).constant(t.constant())},fn.apply(t,arguments)}function zl(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function n5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function r5(t){return t<0?-t*t:t*t}function Ks(t){var e=t(me,me),n=1;function r(){return n===1?t(me,me):n===.5?t(n5,r5):t(zl(n),zl(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Zr(e)}function Qs(){var t=Ks(vo());return t.copy=function(){return Ga(t,Qs()).exponent(t.exponent())},fn.apply(t,arguments),t}function a5(){return Qs.apply(null,arguments).exponent(.5)}function gd(){var t=[],e=[],n=[],r;function a(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=Zv(t,o/c);return i}function i(o){return o==null||isNaN(o=+o)?r:e[Wa(n,o)]}return i.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Tn),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return gd().domain(t).range(e).unknown(r)},fn.apply(i,arguments)}function md(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(f){return f!=null&&f<=f?a[Wa(r,f,0,n)]:i}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},o.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,c()):a.slice()},o.invertExtent=function(f){var l=a.indexOf(f);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},o.unknown=function(f){return arguments.length&&(i=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return md().domain([t,e]).range(a).unknown(i)},fn.apply(Zr(o),arguments)}function vd(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[Wa(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return vd().domain(t).range(e).unknown(n)},fn.apply(a,arguments)}const bc=new Date,gc=new Date;function Jt(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const f=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return f;let l;do f.push(l=new Date(+i)),e(i,c),t(i);while(l<i&&i<o);return f},a.filter=i=>Jt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!i(o););else for(;--c>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(bc.setTime(+i),gc.setTime(+o),t(bc),t(gc),Math.floor(n(bc,gc))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const zi=Jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zi);zi.range;const kn=1e3,ze=kn*60,Mn=ze*60,An=Mn*24,Js=An*7,Ol=An*30,mc=An*365,Fn=Jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getUTCSeconds());Fn.range;const po=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn)},(t,e)=>{t.setTime(+t+e*ze)},(t,e)=>(e-t)/ze,t=>t.getMinutes());po.range;const pd=Jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ze)},(t,e)=>(e-t)/ze,t=>t.getUTCMinutes());pd.range;const yo=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn-t.getMinutes()*ze)},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getHours());yo.range;const yd=Jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getUTCHours());yd.range;const Kr=Jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ze)/An,t=>t.getDate()-1);Kr.range;const $s=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/An,t=>t.getUTCDate()-1);$s.range;const _d=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/An,t=>Math.floor(t/An));_d.range;function br(t){return Jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ze)/Js)}const Ir=br(0),Ea=br(1),xd=br(2),wd=br(3),lr=br(4),kd=br(5),Md=br(6);Ir.range;Ea.range;xd.range;wd.range;lr.range;kd.range;Md.range;function gr(t){return Jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Js)}const Oi=gr(0),Pa=gr(1),Sd=gr(2),Td=gr(3),ur=gr(4),Ad=gr(5),Cd=gr(6);Oi.range;Pa.range;Sd.range;Td.range;ur.range;Ad.range;Cd.range;const _o=Jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_o.range;const Nd=Jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nd.range;const sn=Jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});sn.range;const Dn=Jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Dn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Dn.range;function i5(t,e,n,r,a,i){const o=[[Fn,1,kn],[Fn,5,5*kn],[Fn,15,15*kn],[Fn,30,30*kn],[i,1,ze],[i,5,5*ze],[i,15,15*ze],[i,30,30*ze],[a,1,Mn],[a,3,3*Mn],[a,6,6*Mn],[a,12,12*Mn],[r,1,An],[r,2,2*An],[n,1,Js],[e,1,Ol],[e,3,3*Ol],[t,1,mc]];function c(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const b=d&&typeof d.range=="function"?d:f(l,u,d),g=b?b.range(l,+u+1):[];return h?g.reverse():g}function f(l,u,d){const h=Math.abs(u-l)/d,b=js(([,,v])=>v).right(o,h);if(b===o.length)return t.every(Ic(l/mc,u/mc,d));if(b===0)return zi.every(Math.max(Ic(l,u,d),1));const[g,m]=o[h/o[b-1][2]<o[b][2]/h?b-1:b];return g.every(m)}return[c,f]}const[o5,c5]=i5(sn,_o,Ir,Kr,yo,po);function vc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function na(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function s5(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,c=t.months,f=t.shortMonths,l=ra(a),u=aa(a),d=ra(i),h=aa(i),b=ra(o),g=aa(o),m=ra(c),v=aa(c),p=ra(f),S=aa(f),A={a:j,A:D,b:q,B:K,c:null,d:Ul,e:Ul,f:P5,g:B5,G:Y5,H:C5,I:N5,j:E5,L:Ed,m:R5,M:L5,p:Q,q:it,Q:Hl,s:Xl,S:F5,u:z5,U:O5,V:q5,w:D5,W:j5,x:null,X:null,y:I5,Y:U5,Z:W5,"%":Wl},x={a:st,A:ft,b:bt,B:W,c:null,d:Yl,e:Yl,f:V5,g:ay,G:oy,H:H5,I:X5,j:G5,L:Rd,m:Z5,M:K5,p:G,q:_t,Q:Hl,s:Xl,S:Q5,u:J5,U:$5,V:ty,w:ey,W:ny,x:null,X:null,y:ry,Y:iy,Z:cy,"%":Wl},k={a:N,A:C,b:R,B:L,c:P,d:Il,e:Il,f:M5,g:jl,G:Dl,H:Bl,I:Bl,j:_5,L:k5,m:y5,M:x5,p:w,q:p5,Q:T5,s:A5,S:w5,u:h5,U:b5,V:g5,w:d5,W:m5,x:E,X:F,y:jl,Y:Dl,Z:v5,"%":S5};A.x=_(n,A),A.X=_(r,A),A.c=_(e,A),x.x=_(n,x),x.X=_(r,x),x.c=_(e,x);function _(I,Z){return function(tt){var O=[],Ft=-1,wt=0,Xt=I.length,nt,ot,ut;for(tt instanceof Date||(tt=new Date(+tt));++Ft<Xt;)I.charCodeAt(Ft)===37&&(O.push(I.slice(wt,Ft)),(ot=ql[nt=I.charAt(++Ft)])!=null?nt=I.charAt(++Ft):ot=nt==="e"?" ":"0",(ut=Z[nt])&&(nt=ut(tt,ot)),O.push(nt),wt=Ft+1);return O.push(I.slice(wt,Ft)),O.join("")}}function y(I,Z){return function(tt){var O=na(1900,void 0,1),Ft=M(O,I,tt+="",0),wt,Xt;if(Ft!=tt.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Z&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(wt=pc(na(O.y,0,1)),Xt=wt.getUTCDay(),wt=Xt>4||Xt===0?Pa.ceil(wt):Pa(wt),wt=$s.offset(wt,(O.V-1)*7),O.y=wt.getUTCFullYear(),O.m=wt.getUTCMonth(),O.d=wt.getUTCDate()+(O.w+6)%7):(wt=vc(na(O.y,0,1)),Xt=wt.getDay(),wt=Xt>4||Xt===0?Ea.ceil(wt):Ea(wt),wt=Kr.offset(wt,(O.V-1)*7),O.y=wt.getFullYear(),O.m=wt.getMonth(),O.d=wt.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),Xt="Z"in O?pc(na(O.y,0,1)).getUTCDay():vc(na(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(Xt+5)%7:O.w+O.U*7-(Xt+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,pc(O)):vc(O)}}function M(I,Z,tt,O){for(var Ft=0,wt=Z.length,Xt=tt.length,nt,ot;Ft<wt;){if(O>=Xt)return-1;if(nt=Z.charCodeAt(Ft++),nt===37){if(nt=Z.charAt(Ft++),ot=k[nt in ql?Z.charAt(Ft++):nt],!ot||(O=ot(I,tt,O))<0)return-1}else if(nt!=tt.charCodeAt(O++))return-1}return O}function w(I,Z,tt){var O=l.exec(Z.slice(tt));return O?(I.p=u.get(O[0].toLowerCase()),tt+O[0].length):-1}function N(I,Z,tt){var O=b.exec(Z.slice(tt));return O?(I.w=g.get(O[0].toLowerCase()),tt+O[0].length):-1}function C(I,Z,tt){var O=d.exec(Z.slice(tt));return O?(I.w=h.get(O[0].toLowerCase()),tt+O[0].length):-1}function R(I,Z,tt){var O=p.exec(Z.slice(tt));return O?(I.m=S.get(O[0].toLowerCase()),tt+O[0].length):-1}function L(I,Z,tt){var O=m.exec(Z.slice(tt));return O?(I.m=v.get(O[0].toLowerCase()),tt+O[0].length):-1}function P(I,Z,tt){return M(I,e,Z,tt)}function E(I,Z,tt){return M(I,n,Z,tt)}function F(I,Z,tt){return M(I,r,Z,tt)}function j(I){return o[I.getDay()]}function D(I){return i[I.getDay()]}function q(I){return f[I.getMonth()]}function K(I){return c[I.getMonth()]}function Q(I){return a[+(I.getHours()>=12)]}function it(I){return 1+~~(I.getMonth()/3)}function st(I){return o[I.getUTCDay()]}function ft(I){return i[I.getUTCDay()]}function bt(I){return f[I.getUTCMonth()]}function W(I){return c[I.getUTCMonth()]}function G(I){return a[+(I.getUTCHours()>=12)]}function _t(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var Z=_(I+="",A);return Z.toString=function(){return I},Z},parse:function(I){var Z=y(I+="",!1);return Z.toString=function(){return I},Z},utcFormat:function(I){var Z=_(I+="",x);return Z.toString=function(){return I},Z},utcParse:function(I){var Z=y(I+="",!0);return Z.toString=function(){return I},Z}}}var ql={"-":"",_:" ",0:"0"},ae=/^\s*\d+/,f5=/^%/,l5=/[\\^$*+?|[\]().{}]/g;function Et(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function u5(t){return t.replace(l5,"\\$&")}function ra(t){return new RegExp("^(?:"+t.map(u5).join("|")+")","i")}function aa(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function d5(t,e,n){var r=ae.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function h5(t,e,n){var r=ae.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function b5(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function g5(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function m5(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Dl(t,e,n){var r=ae.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jl(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v5(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function p5(t,e,n){var r=ae.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function y5(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Il(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _5(t,e,n){var r=ae.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bl(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x5(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w5(t,e,n){var r=ae.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function k5(t,e,n){var r=ae.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function M5(t,e,n){var r=ae.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function S5(t,e,n){var r=f5.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function T5(t,e,n){var r=ae.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function A5(t,e,n){var r=ae.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ul(t,e){return Et(t.getDate(),e,2)}function C5(t,e){return Et(t.getHours(),e,2)}function N5(t,e){return Et(t.getHours()%12||12,e,2)}function E5(t,e){return Et(1+Kr.count(sn(t),t),e,3)}function Ed(t,e){return Et(t.getMilliseconds(),e,3)}function P5(t,e){return Ed(t,e)+"000"}function R5(t,e){return Et(t.getMonth()+1,e,2)}function L5(t,e){return Et(t.getMinutes(),e,2)}function F5(t,e){return Et(t.getSeconds(),e,2)}function z5(t){var e=t.getDay();return e===0?7:e}function O5(t,e){return Et(Ir.count(sn(t)-1,t),e,2)}function Pd(t){var e=t.getDay();return e>=4||e===0?lr(t):lr.ceil(t)}function q5(t,e){return t=Pd(t),Et(lr.count(sn(t),t)+(sn(t).getDay()===4),e,2)}function D5(t){return t.getDay()}function j5(t,e){return Et(Ea.count(sn(t)-1,t),e,2)}function I5(t,e){return Et(t.getFullYear()%100,e,2)}function B5(t,e){return t=Pd(t),Et(t.getFullYear()%100,e,2)}function U5(t,e){return Et(t.getFullYear()%1e4,e,4)}function Y5(t,e){var n=t.getDay();return t=n>=4||n===0?lr(t):lr.ceil(t),Et(t.getFullYear()%1e4,e,4)}function W5(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Et(e/60|0,"0",2)+Et(e%60,"0",2)}function Yl(t,e){return Et(t.getUTCDate(),e,2)}function H5(t,e){return Et(t.getUTCHours(),e,2)}function X5(t,e){return Et(t.getUTCHours()%12||12,e,2)}function G5(t,e){return Et(1+$s.count(Dn(t),t),e,3)}function Rd(t,e){return Et(t.getUTCMilliseconds(),e,3)}function V5(t,e){return Rd(t,e)+"000"}function Z5(t,e){return Et(t.getUTCMonth()+1,e,2)}function K5(t,e){return Et(t.getUTCMinutes(),e,2)}function Q5(t,e){return Et(t.getUTCSeconds(),e,2)}function J5(t){var e=t.getUTCDay();return e===0?7:e}function $5(t,e){return Et(Oi.count(Dn(t)-1,t),e,2)}function Ld(t){var e=t.getUTCDay();return e>=4||e===0?ur(t):ur.ceil(t)}function ty(t,e){return t=Ld(t),Et(ur.count(Dn(t),t)+(Dn(t).getUTCDay()===4),e,2)}function ey(t){return t.getUTCDay()}function ny(t,e){return Et(Pa.count(Dn(t)-1,t),e,2)}function ry(t,e){return Et(t.getUTCFullYear()%100,e,2)}function ay(t,e){return t=Ld(t),Et(t.getUTCFullYear()%100,e,2)}function iy(t,e){return Et(t.getUTCFullYear()%1e4,e,4)}function oy(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ur(t):ur.ceil(t),Et(t.getUTCFullYear()%1e4,e,4)}function cy(){return"+0000"}function Wl(){return"%"}function Hl(t){return+t}function Xl(t){return Math.floor(+t/1e3)}var xr,Fd;sy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sy(t){return xr=s5(t),Fd=xr.format,xr.parse,xr.utcFormat,xr.utcParse,xr}function fy(t){return new Date(t)}function ly(t){return t instanceof Date?+t:+new Date(+t)}function zd(t,e,n,r,a,i,o,c,f,l){var u=ld(),d=u.invert,h=u.domain,b=l(".%L"),g=l(":%S"),m=l("%I:%M"),v=l("%I %p"),p=l("%a %d"),S=l("%b %d"),A=l("%B"),x=l("%Y");function k(_){return(f(_)<_?b:c(_)<_?g:o(_)<_?m:i(_)<_?v:r(_)<_?a(_)<_?p:S:n(_)<_?A:x)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?h(Array.from(_,ly)):h().map(fy)},u.ticks=function(_){var y=h();return t(y[0],y[y.length-1],_??10)},u.tickFormat=function(_,y){return y==null?k:l(y)},u.nice=function(_){var y=h();return(!_||typeof _.range!="function")&&(_=e(y[0],y[y.length-1],_??10)),_?h(hd(y,_)):u},u.copy=function(){return Ga(u,zd(t,e,n,r,a,i,o,c,f,l))},u}function uy(){return fn.apply(zd(o5,c5,sn,_o,Ir,Kr,yo,po,Fn,Fd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xo(){var t=0,e=1,n,r,a,i,o=me,c=!1,f;function l(d){return d==null||isNaN(d=+d)?f:o(a===0?.5:(d=(i(d)-n)*a,c?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(d){return arguments.length?(c=!!d,l):c},l.interpolator=function(d){return arguments.length?(o=d,l):o};function u(d){return function(h){var b,g;return arguments.length?([b,g]=h,o=d(b,g),l):[o(0),o(1)]}}return l.range=u(Vr),l.rangeRound=u(mo),l.unknown=function(d){return arguments.length?(f=d,l):f},function(d){return i=d,n=d(t),r=d(e),a=n===r?0:1/(r-n),l}}function Hn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tf(){var t=Zr(xo()(me));return t.copy=function(){return Hn(t,tf())},Nn.apply(t,arguments)}function Od(){var t=Gs(xo()).domain([1,10]);return t.copy=function(){return Hn(t,Od()).base(t.base())},Nn.apply(t,arguments)}function qd(){var t=Zs(xo());return t.copy=function(){return Hn(t,qd()).constant(t.constant())},Nn.apply(t,arguments)}function ef(){var t=Ks(xo());return t.copy=function(){return Hn(t,ef()).exponent(t.exponent())},Nn.apply(t,arguments)}function dy(){return ef.apply(null,arguments).exponent(.5)}function Dd(){var t=[],e=me;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wa(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Tn),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Is(t,i/r))},n.copy=function(){return Dd(e).domain(t)},Nn.apply(n,arguments)}function wo(){var t=0,e=.5,n=1,r=1,a,i,o,c,f,l=me,u,d=!1,h;function b(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(r*m<r*i?c:f),l(d?Math.max(0,Math.min(1,m)):m))}b.domain=function(m){return arguments.length?([t,e,n]=m,a=u(t=+t),i=u(e=+e),o=u(n=+n),c=a===i?0:.5/(i-a),f=i===o?0:.5/(o-i),r=i<a?-1:1,b):[t,e,n]},b.clamp=function(m){return arguments.length?(d=!!m,b):d},b.interpolator=function(m){return arguments.length?(l=m,b):l};function g(m){return function(v){var p,S,A;return arguments.length?([p,S,A]=v,l=Lp(m,[p,S,A]),b):[l(0),l(.5),l(1)]}}return b.range=g(Vr),b.rangeRound=g(mo),b.unknown=function(m){return arguments.length?(h=m,b):h},function(m){return u=m,a=m(t),i=m(e),o=m(n),c=a===i?0:.5/(i-a),f=i===o?0:.5/(o-i),r=i<a?-1:1,b}}function nf(){var t=Zr(wo()(me));return t.copy=function(){return Hn(t,nf())},Nn.apply(t,arguments)}function jd(){var t=Gs(wo()).domain([.1,1,10]);return t.copy=function(){return Hn(t,jd()).base(t.base())},Nn.apply(t,arguments)}function Id(){var t=Zs(wo());return t.copy=function(){return Hn(t,Id()).constant(t.constant())},Nn.apply(t,arguments)}function rf(){var t=Ks(wo());return t.copy=function(){return Hn(t,rf()).exponent(t.exponent())},Nn.apply(t,arguments)}function hy(){return rf.apply(null,arguments).exponent(.5)}const by=["x","y","color","opacity","symbol","r","length","fx","fy","projection"],yc={color:new Set(["linear","categorical","ordinal","diverging","quantile","quantize","quantile-cont","threshold","log","symlog","pow","sqrt","diverging-log","diverging-pow","diverging-sqrt","diverging-symlog"]),x:new Set(["linear","log","symlog","time","ordinal","band","point","quantile","quantize","threshold"]),y:new Set(["linear","log","symlog","time","ordinal","band","point","quantile","quantize","threshold"])},Te={x:"x",x1:"x",x2:"x",y:"y",y1:"y",y2:"y",r:"r",length:"length",fx:"fx",fy:"fy",symbol:"symbol",fill:"color",stroke:"color",opacity:"opacity",fillOpacity:"opacity",strokeOpacity:"opacity"},Bd=/^var\(--([a-z-0-9,\s]+)\)$/,gy=/^color\(/,my=/^color-mix\(/,vy=/^color-contrast\(/,py=/^rgba\(/,Ud=/^url\(#/,Yd=Symbol("index");function jn(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function pe(t){return function(){return t}}const Wd=Math.cos,af=Math.min,qi=Math.sin,$t=Math.sqrt,Gl=1e-12,Di=Math.PI,ko=2*Di,Hc=Math.PI,Xc=2*Hc,er=1e-6,yy=Xc-er;function Hd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _y(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Hd;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class xy{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Hd:_y(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,f=r-e,l=a-n,u=o-e,d=c-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>er)if(!(Math.abs(d*f-l*u)>er)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,g=a-c,m=f*f+l*l,v=b*b+g*g,p=Math.sqrt(m),S=Math.sqrt(h),A=i*Math.tan((Hc-Math.acos((m+h-v)/(2*p*S)))/2),x=A/S,k=A/p;Math.abs(x-1)>er&&this._append`L${e+x*u},${n+x*d}`,this._append`A${i},${i},0,0,${+(d*b>u*g)},${this._x1=e+k*f},${this._y1=n+k*l}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),f=r*Math.sin(a),l=e+c,u=n+f,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>er||Math.abs(this._y1-u)>er)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%Xc+Xc),h>yy?this._append`A${r},${r},0,1,${d},${e-c},${n-f}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>er&&this._append`A${r},${r},0,${+(h>=Hc)},${d},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Xd(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xy(e)}function Gd(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vd(t){this._context=t}Vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function of(t){return new Vd(t)}function wy(t){return t[0]}function ky(t){return t[1]}function My(t,e){var n=pe(!0),r=null,a=of,i=null,o=Xd(c);t=typeof t=="function"?t:t===void 0?wy:pe(t),e=typeof e=="function"?e:e===void 0?ky:pe(e);function c(f){var l,u=(f=Gd(f)).length,d,h=!1,b;for(r==null&&(i=a(b=o())),l=0;l<=u;++l)!(l<u&&n(d=f[l],l,f))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(d,l,f),+e(d,l,f));if(b)return i=null,b+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:pe(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:pe(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:pe(!!f),c):n},c.curve=function(f){return arguments.length?(a=f,r!=null&&(i=a(r)),c):a},c.context=function(f){return arguments.length?(f==null?r=i=null:i=a(r=f),c):r},c}class Zd{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Sy(t){return new Zd(t,!0)}function Ty(t){return new Zd(t,!1)}const Ay=$t(3),Cy={draw(t,e){const n=$t(e+af(e/28,.75))*.59436,r=n/2,a=r*Ay;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-a,-r),t.lineTo(a,r),t.moveTo(-a,r),t.lineTo(a,-r)}},Kd={draw(t,e){const n=$t(e/Di);t.moveTo(n,0),t.arc(0,0,n,0,ko)}},Ny={draw(t,e){const n=$t(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Qd=$t(1/3),Ey=Qd*2,Py={draw(t,e){const n=$t(e/Ey),r=n*Qd;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ry={draw(t,e){const n=$t(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Ly={draw(t,e){const n=$t(e-af(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Fy={draw(t,e){const n=$t(e),r=-n/2;t.rect(r,r,n,n)}},zy={draw(t,e){const n=$t(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},Oy=.8908130915292852,Jd=qi(Di/10)/qi(7*Di/10),qy=qi(ko/10)*Jd,Dy=-Wd(ko/10)*Jd,jy={draw(t,e){const n=$t(e*Oy),r=qy*n,a=Dy*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const o=ko*i/5,c=Wd(o),f=qi(o);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*a,f*r+c*a)}t.closePath()}},_c=$t(3),Iy={draw(t,e){const n=-$t(e/(_c*3));t.moveTo(0,n*2),t.lineTo(-_c*n,-n),t.lineTo(_c*n,-n),t.closePath()}},By=$t(3),Uy={draw(t,e){const n=$t(e)*.6824,r=n/2,a=n*By/2;t.moveTo(0,-n),t.lineTo(a,r),t.lineTo(-a,r),t.closePath()}},Ne=-.5,Ee=$t(3)/2,Gc=1/$t(12),Yy=(Gc/2+1)*3,Wy={draw(t,e){const n=$t(e/Yy),r=n/2,a=n*Gc,i=r,o=n*Gc+n,c=-i,f=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(c,f),t.lineTo(Ne*r-Ee*a,Ee*r+Ne*a),t.lineTo(Ne*i-Ee*o,Ee*i+Ne*o),t.lineTo(Ne*c-Ee*f,Ee*c+Ne*f),t.lineTo(Ne*r+Ee*a,Ne*a-Ee*r),t.lineTo(Ne*i+Ee*o,Ne*o-Ee*i),t.lineTo(Ne*c+Ee*f,Ne*f-Ee*c),t.closePath()}},Hy={draw(t,e){const n=$t(e-af(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};function Mo(t,e){let n=null,r=Xd(a);t=typeof t=="function"?t:pe(t||Kd),e=typeof e=="function"?e:pe(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:pe(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:pe(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function In(){}function ji(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function So(t){this._context=t}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ji(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ji(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xy(t){return new So(t)}function $d(t){this._context=t}$d.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ji(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gy(t){return new $d(t)}function th(t){this._context=t}th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ji(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vy(t){return new th(t)}function eh(t,e){this._basis=new So(t),this._beta=e}eh.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],a=e[0],i=t[n]-r,o=e[n]-a,c=-1,f;++c<=n;)f=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+f*i),this._beta*e[c]+(1-this._beta)*(a+f*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Zy=function t(e){function n(r){return e===1?new So(r):new eh(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Ii(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function cf(t,e){this._context=t,this._k=(1-e)/6}cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ii(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ii(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ky=function t(e){function n(r){return new cf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function sf(t,e){this._context=t,this._k=(1-e)/6}sf.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ii(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Qy=function t(e){function n(r){return new sf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ff(t,e){this._context=t,this._k=(1-e)/6}ff.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ii(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Jy=function t(e){function n(r){return new ff(r,e)}return n.tension=function(r){return t(+r)},n}(0);function lf(t,e,n){var r=t._x1,a=t._y1,i=t._x2,o=t._y2;if(t._l01_a>Gl){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,a=(a*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Gl){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*l+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,a,i,o,t._x2,t._y2)}function nh(t,e){this._context=t,this._alpha=e}nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:lf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $y=function t(e){function n(r){return e?new nh(r,e):new cf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function rh(t,e){this._context=t,this._alpha=e}rh.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:lf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const t3=function t(e){function n(r){return e?new rh(r,e):new sf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ah(t,e){this._context=t,this._alpha=e}ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const e3=function t(e){function n(r){return e?new ah(r,e):new ff(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ih(t){this._context=t}ih.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function n3(t){return new ih(t)}function Vl(t){return t<0?-1:1}function Zl(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),c=(i*a+o*r)/(r+a);return(Vl(i)+Vl(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function Kl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xc(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,c=(i-r)/3;t._context.bezierCurveTo(r+c,a+c*e,i-c,o-c*n,i,o)}function Bi(t){this._context=t}Bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xc(this,this._t0,Kl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xc(this,Kl(this,n=Zl(this,t,e)),n);break;default:xc(this,this._t0,n=Zl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oh(t){this._context=new ch(t)}(oh.prototype=Object.create(Bi.prototype)).point=function(t,e){Bi.prototype.point.call(this,e,t)};function ch(t){this._context=t}ch.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function r3(t){return new Bi(t)}function a3(t){return new oh(t)}function sh(t){this._context=t}sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ql(t),a=Ql(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ql(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function i3(t){return new sh(t)}function To(t,e){this._context=t,this._t=e}To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function o3(t){return new To(t,.5)}function c3(t){return new To(t,0)}function s3(t){return new To(t,1)}function Ra(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,c=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<c;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function La(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function f3(t,e){return t[e]}function l3(t){const e=[];return e.key=t,e}function u3(){var t=pe([]),e=La,n=Ra,r=f3;function a(i){var o=Array.from(t.apply(this,arguments),l3),c,f=o.length,l=-1,u;for(const d of i)for(c=0,++l;c<f;++c)(o[c][l]=[0,+r(d,o[c].key,l,i)]).data=d;for(c=0,u=Gd(e(o));c<f;++c)o[u[c]].index=c;return n(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:pe(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:pe(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?La:typeof i=="function"?i:pe(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??Ra,a):n},a}function d3(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<r;++n)t[n][a][1]/=o}Ra(t,e)}}function h3(t,e){if((f=t.length)>0)for(var n,r=0,a,i,o,c,f,l=t[e[0]].length;r<l;++r)for(o=c=0,n=0;n<f;++n)(i=(a=t[e[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=c,a[0]=c+=i):(a[0]=0,a[1]=i)}function b3(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var o=0,c=0;o<a;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ra(t,e)}}function g3(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var c=0,f=0,l=0;c<o;++c){for(var u=t[e[c]],d=u[r][1]||0,h=u[r-1][1]||0,b=(d-h)/2,g=0;g<c;++g){var m=t[e[g]],v=m[r][1]||0,p=m[r-1][1]||0;b+=v-p}f+=d,l+=b*d}a[r-1][1]+=a[r-1][0]=n,f&&(n-=l/f)}a[r-1][1]+=a[r-1][0]=n,Ra(t,e)}}function fh(t){var e=t.map(m3);return La(t).sort(function(n,r){return e[n]-e[r]})}function m3(t){for(var e=-1,n=0,r=t.length,a,i=-1/0;++e<r;)(a=+t[e][1])>i&&(i=a,n=e);return n}function v3(t){var e=t.map(lh);return La(t).sort(function(n,r){return e[n]-e[r]})}function lh(t){for(var e=0,n=-1,r=t.length,a;++n<r;)(a=+t[n][1])&&(e+=a);return e}function p3(t){var e=t.length,n,r,a=t.map(lh),i=fh(t),o=0,c=0,f=[],l=[];for(n=0;n<e;++n)r=i[n],o<c?(o+=a[r],f.push(r)):(c+=a[r],l.push(r));return l.reverse().concat(f)}const y3=Math.sqrt(3),_3=2/y3,x3={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*_3,a=r/2;t.moveTo(0,r),t.lineTo(n,a),t.lineTo(n,-a),t.lineTo(0,-r),t.lineTo(-n,-a),t.lineTo(-n,a),t.closePath()}},uh=new Map([["asterisk",Cy],["circle",Kd],["cross",Ny],["diamond",Py],["diamond2",Ry],["hexagon",x3],["plus",Ly],["square",Fy],["square2",zy],["star",jy],["times",Hy],["triangle",Iy],["triangle2",Uy],["wye",Wy]]);function dh(t){return typeof t=="string"?!1:t&&typeof t.draw=="function"}function w3(t){return dh(t)?!0:typeof t!="string"?!1:uh.has(t.toLowerCase())}function Ao(t){if(t==null||dh(t))return t;const e=uh.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Co(t){return t instanceof Date&&!isNaN(t.getTime())}function Jl(t){return t==null||Co(t)}function k3(t){return t==null||Number.isFinite(t)||typeof t=="string"&&!Number.isNaN(+t)}function M3(t){return t==null||Number.isFinite(t)||Number.isNaN(t)||typeof t=="string"&&!Number.isNaN(+t)}function $l(t){return t==null||typeof t=="string"}function S3(t){return t==null||(typeof t=="string"||typeof t=="object")&&w3(t)}function T3(t){return t==null?!0:typeof t=="string"?(t=`${t}`.toLowerCase(),t==="currentcolor"||Bd.test(t)||gy.test(t)||my.test(t)||vy.test(t)||py.test(t)||Ud.test(t)||Dr(t)!==null):!1}function Vc(t){const e=typeof t;return e==="string"||e==="number"||e==="boolean"||Co(t)||e===null}const tu=Symbol("index"),ce=Symbol("originalValue");function A3({data:t,...e},{withIndex:n}={withIndex:!0}){return!jn(t[0])&&!Array.isArray(t[0])&&e.x==null?{data:t.map((a,i)=>({__value:a,...n?{[tu]:i}:{},[ce]:a})),...e,x:ce,...n?{y:tu}:{}}:{data:t,...e}}function hh({data:t,...e}){return t?!jn(t[0])&&Array.isArray(t[0])&&e.x===void 0&&e.y===void 0?{data:t.map(([n,r,...a])=>({[ce]:[n,r,...a],__x:n,__y:r})),...e,x:"__x",y:"__y"}:{data:t,...e}:{data:t,...e}}function C3(...t){for(const e of t)if(e!=null)return e;return null}function dr(t,e){return e.filter==null||Pt(e.filter,t!=null&&t.hasOwnProperty(ce)?t[ce]:t)}function uf(){return Math.ceil(1e9+Math.random()*1e9).toString(36)}function N3(t){return typeof t=="function"&&t.length===1}function Pe(t){return t!=null&&!Number.isNaN(t)}function Zc(t){return typeof t=="object"&&!Co(t)&&!Array.isArray(t)&&t!==null}function E3(t){return t!=null?+t:null}const df=t=>()=>t,P3={strokeWidth:"stroke-width",strokeDasharray:"stroke-dasharray",strokeLinejoin:"stroke-linejoin",strokeLinecap:"stroke-linecap",blend:"mix-blend-mode",clipPath:"clip-path",mask:"mask",fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style",textAnchor:"text-anchor",fontVariant:"font-variant",cursor:"cursor",pointerEvents:"pointer-events"},R3={fontWeight:"normal"};function bh(t,e){return Object.fromEntries(Object.entries(P3).filter(([n,r])=>r&&e[n]!=null).map(([n,r])=>[r,L3(r,Pt(e[n],t,R3[n]||null))]))}function L3(t,e){return(t==="font-size"||t==="stroke-width")&&typeof e=="number"?`${e}px`:e}function Pt(t,e,n=null){return typeof t=="function"?e==null?t():t(e[ce]!=null?e[ce]:e):(typeof t=="string"||typeof t=="symbol")&&e&&e[t]!==void 0?e[t]:Vc(t)?t:n}function gh(t,e){const n=Te[t]==="x"||Te[t]==="y",r=Te[t]==="opacity";return jn(e)?e:{value:e,scale:!n&&!r&&typeof e=="number"||typeof e>"u"?null:Te[t],channel:null}}function re(t,e,n){const r=Te[t],a=t==="z"?n.z||n.fill||n.stroke:n[t],i=gh(t,a);return i.channel?re(i.channel,e,n):F3(e,i.value,t,r)}function F3(t,e,n,r){return jn(t)?typeof e=="function"?e(t[ce]!=null?t[ce]:t):(typeof e=="string"||typeof e=="symbol")&&t[e]!==void 0?t[e]:e===null&&t[n]!==void 0?t[n]:Vc(e)?e:null:Array.isArray(t)&&(typeof e=="string"||typeof e=="number")&&t[e]!=null?t[e]:typeof e=="function"?e(t):e!==null&&Vc(e)?e:!Array.isArray(t)&&(r==="x"||r==="y")?t:null}const mh={fill:"fill",stroke:"stroke",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",opacity:"opacity"},vh={fill:"stroke",stroke:"fill"};function ph(t,e,n,r,a=null){return{...bh(t,e),fill:"none",stroke:"none",...a&&e[vh[a]]==null?{[a]:"currentColor"}:{},...Object.fromEntries(Object.entries(mh).filter(([i])=>e[i]!=null).map(([i,o])=>[i,o,re(i,t,e)]).filter(([i,,o])=>Pe(o)||i==="fill"||i==="stroke").map(([i,o,c])=>n[i]?c==null&&(i==="fill"||i==="stroke")&&r.options.color.unknown?[o,r.options.color.unknown]:[o,r.scales[Te[i]].fn(c)]:[o,c]))}}function yh(t,e,n,r,a=null){return`${Kc(ph(t,e,n,r,a))};${e.style||""}`}function Kc(t){return`${Object.entries(t).map(([e,n])=>`${e}: ${n}`).join(";")}`}function Xe(t,e,n,r=null,a,i=!1){const o={...bh(e==null?void 0:e.datum,n),fill:"none",stroke:"none",...r&&n[vh[r]]==null?{[r]:"currentColor"}:{},...Object.fromEntries(Object.entries(mh).filter(([c])=>n[c]!=null).map(([c,f])=>[c,f,i?re(c,e==null?void 0:e.datum,n):e==null?void 0:e[c]]).filter(([c,,f])=>Pe(f)||c==="fill"||c==="stroke").map(([c,f,l])=>a[c]&&l==null&&(c==="fill"||c==="stroke")&&t.options.color.unknown?[f,t.options.color.unknown]:[f,l]))};return t.css?[null,t.css(`${Kc(o)};${n.style??""}`)]:[`${Kc(o)};${n.style??""}`,null]}function z3(t,e){Ct(e,!0),yi("svelteplot/facet",{getTestFacet(){return(a,i)=>(i.fx==null||re("fx",a,i)===e.fx)&&(i.fy==null||re("fy",a,i)===e.fy)},getFacetState(){return{fx:e.fx,fy:e.fy,left:e.left,top:e.top,right:e.right,bottom:e.bottom,topEmpty:e.topEmpty,bottomEmpty:e.bottomEmpty,leftEmpty:e.leftEmpty,rightEmpty:e.rightEmpty}}});var n=St(),r=at(n);le(r,()=>e.children??Ye),z(t,n),Nt()}function O3(t,e,n){var o;const a=t.filter(c=>c.options.__firstFacet&&c.data.length>0&&!c.options.automatic&&(e.length===1||c.options.fx!=null)&&(n.length===1||c.options.fy!=null)).map(c=>c.data.map(f=>{const l=re("fx",f,c.options),u=re("fy",f,c.options);return{fx:l,fy:u}})).flat(1),i=new Map;for(const c of e){i.set(c,new Map);for(const f of n){let l=e.length===1||n.length===1;for(const u of a)if(u.fx===c&&u.fy===f){l=!0;break}(o=i.get(c))==null||o.set(f,!l)}}return i}var q3=dt('<g class="facet" fill="currentColor"><!></g>');function D3(t,e){Ct(e,!0);const{getPlotState:n,updateDimensions:r}=Rt("svelteplot"),a=T(n),i=T(()=>s(a).scales.fx.domain.length>0),o=T(()=>s(a).scales.fy.domain.length>0),c=T(()=>s(i)?s(a).scales.fx.domain:[!0]),f=T(()=>s(o)?s(a).scales.fy.domain:[!0]),l=T(()=>O3(e.marks,s(c),s(f))),u=T(()=>sr().paddingInner(s(c).length>1?.1:0).domain(s(c)).rangeRound([0,s(a).plotWidth])),d=T(()=>sr().paddingInner(s(f).length>1?.1:0).domain(s(f)).rangeRound([0,s(a).plotHeight])),h=T(()=>s(i)?s(u).bandwidth():s(a).plotWidth),b=T(()=>s(o)?s(d).bandwidth():s(a).plotHeight);c2(()=>{r(s(h),s(b))});var g=St(),m=at(g);Ut(m,17,()=>s(c),Qt,(v,p,S)=>{var A=St(),x=at(A);Ut(x,17,()=>s(f),Qt,(k,_,y)=>{var M=q3();let w;var N=X(M);const C=T(()=>S===s(c).length-1),R=T(()=>y===s(f).length-1),L=T(()=>{var j;return!!(S===0||(j=s(l).get(s(c)[S-1]))!=null&&j.get(s(_)))}),P=T(()=>{var j;return!!(y===0||(j=s(l).get(s(p)))!=null&&j.get(s(f)[y-1]))}),E=T(()=>{var j;return!!(S===s(c).length-1||(j=s(l).get(s(c)[S+1]))!=null&&j.get(s(_)))}),F=T(()=>{var j;return!!(y===s(f).length-1||(j=s(l).get(s(p)))!=null&&j.get(s(f)[y+1]))});z3(N,{get fx(){return s(p)},get fy(){return s(_)},left:S===0,get right(){return s(C)},top:y===0,get bottom(){return s(R)},get leftEmpty(){return s(L)},get topEmpty(){return s(P)},get rightEmpty(){return s(E)},get bottomEmpty(){return s(F)},children:(j,D)=>{var q=St(),K=at(q);le(K,()=>e.children),z(j,q)},$$slots:{default:!0}}),H(M),et((j,D,q)=>{Y(M,"transform",`translate(${j??""}, ${D??""})`),w=At(M,"",w,{display:q})},[()=>s(i)?s(u)(s(p)):0,()=>s(o)?s(d)(s(_)):0,()=>{var j;return(j=s(l).get(s(p)))!=null&&j.get(s(_))?"none":"block"}]),z(k,M)}),z(v,A)}),z(t,g),Nt()}function wc(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Qc(t,...e){if(!e.length)return t;const n=e.shift();if(wc(t)&&wc(n))for(const r in n)wc(n[r])?(t[r]?t[r]=Object.assign({},t[r]):Object.assign(t,{[r]:{}}),Qc(t[r],n[r])):n[r]!==null&&Object.assign(t,{[r]:n[r]});return Qc(t,...e)}var yt=1e-6,j3=1e-12,kt=Math.PI,Wt=kt/2,eu=kt/4,Ae=kt*2,be=180/kt,Yt=kt/180,Lt=Math.abs,Qr=Math.atan,Cn=Math.atan2,xt=Math.cos,_h=Math.exp,Ui=Math.log,kc=Math.pow,gt=Math.sin,Oe=Math.sign||function(t){return t>0?1:t<0?-1:0},_e=Math.sqrt,hf=Math.tan;function xh(t){return t>1?0:t<-1?kt:Math.acos(t)}function Ie(t){return t>1?Wt:t<-1?-Wt:Math.asin(t)}function qe(){}function Yi(t,e){t&&ru.hasOwnProperty(t.type)&&ru[t.type](t,e)}var nu={Feature:function(t,e){Yi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)Yi(n[r].geometry,e)}},ru={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Jc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)Jc(n[r],e,0)},Polygon:function(t,e){au(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)au(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)Yi(n[r],e)}};function Jc(t,e,n){var r=-1,a=t.length-n,i;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function au(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Jc(t[n],e,1);e.polygonEnd()}function Sr(t,e){t&&nu.hasOwnProperty(t.type)?nu[t.type](t,e):Yi(t,e)}function $c(t){return[Cn(t[1],t[0]),Ie(t[2])]}function Br(t){var e=t[0],n=t[1],r=xt(n);return[r*xt(e),r*gt(e),gt(n)]}function fi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Wi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Mc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function li(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ts(t){var e=_e(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function es(t,e){function n(r,a){return r=t(r,a),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,a){return r=e.invert(r,a),r&&t.invert(r[0],r[1])}),n}function ns(t,e){return Lt(t)>kt&&(t-=Math.round(t/Ae)*Ae),[t,e]}ns.invert=ns;function wh(t,e,n){return(t%=Ae)?e||n?es(ou(t),cu(e,n)):ou(t):e||n?cu(e,n):ns}function iu(t){return function(e,n){return e+=t,Lt(e)>kt&&(e-=Math.round(e/Ae)*Ae),[e,n]}}function ou(t){var e=iu(t);return e.invert=iu(-t),e}function cu(t,e){var n=xt(t),r=gt(t),a=xt(e),i=gt(e);function o(c,f){var l=xt(f),u=xt(c)*l,d=gt(c)*l,h=gt(f),b=h*n+u*r;return[Cn(d*a-b*i,u*n-h*r),Ie(b*a+d*i)]}return o.invert=function(c,f){var l=xt(f),u=xt(c)*l,d=gt(c)*l,h=gt(f),b=h*a-d*i;return[Cn(d*a+h*i,u*n+b*r),Ie(b*n-u*r)]},o}function I3(t){t=wh(t[0]*Yt,t[1]*Yt,t.length>2?t[2]*Yt:0);function e(n){return n=t(n[0]*Yt,n[1]*Yt),n[0]*=be,n[1]*=be,n}return e.invert=function(n){return n=t.invert(n[0]*Yt,n[1]*Yt),n[0]*=be,n[1]*=be,n},e}function B3(t,e,n,r,a,i){if(n){var o=xt(e),c=gt(e),f=r*n;a==null?(a=e+r*Ae,i=e-f/2):(a=su(o,a),i=su(o,i),(r>0?a<i:a>i)&&(a+=r*Ae));for(var l,u=a;r>0?u>i:u<i;u-=f)l=$c([o,-c*xt(u),-c*gt(u)]),t.point(l[0],l[1])}}function su(t,e){e=Br(e),e[0]-=t,ts(e);var n=xh(-e[1]);return((-e[2]<0?-n:n)+Ae-yt)%Ae}function kh(){var t=[],e;return{point:function(n,r,a){e.push([n,r,a])},lineStart:function(){t.push(e=[])},lineEnd:qe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function wi(t,e){return Lt(t[0]-e[0])<yt&&Lt(t[1]-e[1])<yt}function ui(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Mh(t,e,n,r,a){var i=[],o=[],c,f;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,v=g[0],p=g[m],S;if(wi(v,p)){if(!v[2]&&!p[2]){for(a.lineStart(),c=0;c<m;++c)a.point((v=g[c])[0],v[1]);a.lineEnd();return}p[0]+=2*yt}i.push(S=new ui(v,g,null,!0)),o.push(S.o=new ui(v,null,S,!1)),i.push(S=new ui(p,g,null,!1)),o.push(S.o=new ui(p,null,S,!0))}}),!!i.length){for(o.sort(e),fu(i),fu(o),c=0,f=o.length;c<f;++c)o[c].e=n=!n;for(var l=i[0],u,d;;){for(var h=l,b=!0;h.v;)if((h=h.n)===l)return;u=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(b)for(c=0,f=u.length;c<f;++c)a.point((d=u[c])[0],d[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(b)for(u=h.p.z,c=u.length-1;c>=0;--c)a.point((d=u[c])[0],d[1]);else r(h.x,h.p.x,-1,a);h=h.p}h=h.o,u=h.z,b=!b}while(!h.v);a.lineEnd()}}}function fu(t){if(e=t.length){for(var e,n=0,r=t[0],a;++n<e;)r.n=a=t[n],a.p=r,r=a;r.n=a=t[0],a.p=r}}function Sc(t){return Lt(t[0])<=kt?t[0]:Oe(t[0])*((Lt(t[0])+kt)%Ae-kt)}function U3(t,e){var n=Sc(e),r=e[1],a=gt(r),i=[gt(n),-xt(n),0],o=0,c=0,f=new cr;a===1?r=Wt+yt:a===-1&&(r=-Wt-yt);for(var l=0,u=t.length;l<u;++l)if(h=(d=t[l]).length)for(var d,h,b=d[h-1],g=Sc(b),m=b[1]/2+eu,v=gt(m),p=xt(m),S=0;S<h;++S,g=x,v=_,p=y,b=A){var A=d[S],x=Sc(A),k=A[1]/2+eu,_=gt(k),y=xt(k),M=x-g,w=M>=0?1:-1,N=w*M,C=N>kt,R=v*_;if(f.add(Cn(R*w*gt(N),p*y+R*xt(N))),o+=C?M+w*Ae:M,C^g>=n^x>=n){var L=Wi(Br(b),Br(A));ts(L);var P=Wi(i,L);ts(P);var E=(C^M>=0?-1:1)*Ie(P[2]);(r>E||r===E&&(L[0]||L[1]))&&(c+=C^M>=0?1:-1)}}return(o<-1e-6||o<yt&&f<-1e-12)^c&1}function Sh(t,e,n,r){return function(a){var i=e(a),o=kh(),c=e(o),f=!1,l,u,d,h={point:b,lineStart:m,lineEnd:v,polygonStart:function(){h.point=p,h.lineStart=S,h.lineEnd=A,u=[],l=[]},polygonEnd:function(){h.point=b,h.lineStart=m,h.lineEnd=v,u=Z0(u);var x=U3(l,r);u.length?(f||(a.polygonStart(),f=!0),Mh(u,W3,x,n,a)):x&&(f||(a.polygonStart(),f=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),u=l=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function b(x,k){t(x,k)&&a.point(x,k)}function g(x,k){i.point(x,k)}function m(){h.point=g,i.lineStart()}function v(){h.point=b,i.lineEnd()}function p(x,k){d.push([x,k]),c.point(x,k)}function S(){c.lineStart(),d=[]}function A(){p(d[0][0],d[0][1]),c.lineEnd();var x=c.clean(),k=o.result(),_,y=k.length,M,w,N;if(d.pop(),l.push(d),d=null,!!y){if(x&1){if(w=k[0],(M=w.length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),_=0;_<M;++_)a.point((N=w[_])[0],N[1]);a.lineEnd()}return}y>1&&x&2&&k.push(k.pop().concat(k.shift())),u.push(k.filter(Y3))}}return h}}function Y3(t){return t.length>1}function W3(t,e){return((t=t.x)[0]<0?t[1]-Wt-yt:Wt-t[1])-((e=e.x)[0]<0?e[1]-Wt-yt:Wt-e[1])}const lu=Sh(function(){return!0},H3,G3,[-kt,-Wt]);function H3(t){var e=NaN,n=NaN,r=NaN,a;return{lineStart:function(){t.lineStart(),a=1},point:function(i,o){var c=i>0?kt:-kt,f=Lt(i-e);Lt(f-kt)<yt?(t.point(e,n=(n+o)/2>0?Wt:-Wt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(i,n),a=0):r!==c&&f>=kt&&(Lt(e-r)<yt&&(e-=r*yt),Lt(i-c)<yt&&(i-=c*yt),n=X3(e,n,i,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(c,n),a=0),t.point(e=i,n=o),r=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-a}}}function X3(t,e,n,r){var a,i,o=gt(t-n);return Lt(o)>yt?Qr((gt(e)*(i=xt(r))*gt(n)-gt(r)*(a=xt(e))*gt(t))/(a*i*o)):(e+r)/2}function G3(t,e,n,r){var a;if(t==null)a=n*Wt,r.point(-kt,a),r.point(0,a),r.point(kt,a),r.point(kt,0),r.point(kt,-a),r.point(0,-a),r.point(-kt,-a),r.point(-kt,0),r.point(-kt,a);else if(Lt(t[0]-e[0])>yt){var i=t[0]<e[0]?kt:-kt;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(e[0],e[1])}function V3(t){var e=xt(t),n=2*Yt,r=e>0,a=Lt(e)>yt;function i(u,d,h,b){B3(b,t,n,h,u,d)}function o(u,d){return xt(u)*xt(d)>e}function c(u){var d,h,b,g,m;return{lineStart:function(){g=b=!1,m=1},point:function(v,p){var S=[v,p],A,x=o(v,p),k=r?x?0:l(v,p):x?l(v+(v<0?kt:-kt),p):0;if(!d&&(g=b=x)&&u.lineStart(),x!==b&&(A=f(d,S),(!A||wi(d,A)||wi(S,A))&&(S[2]=1)),x!==b)m=0,x?(u.lineStart(),A=f(S,d),u.point(A[0],A[1])):(A=f(d,S),u.point(A[0],A[1],2),u.lineEnd()),d=A;else if(a&&d&&r^x){var _;!(k&h)&&(_=f(S,d,!0))&&(m=0,r?(u.lineStart(),u.point(_[0][0],_[0][1]),u.point(_[1][0],_[1][1]),u.lineEnd()):(u.point(_[1][0],_[1][1]),u.lineEnd(),u.lineStart(),u.point(_[0][0],_[0][1],3)))}x&&(!d||!wi(d,S))&&u.point(S[0],S[1]),d=S,b=x,h=k},lineEnd:function(){b&&u.lineEnd(),d=null},clean:function(){return m|(g&&b)<<1}}}function f(u,d,h){var b=Br(u),g=Br(d),m=[1,0,0],v=Wi(b,g),p=fi(v,v),S=v[0],A=p-S*S;if(!A)return!h&&u;var x=e*p/A,k=-e*S/A,_=Wi(m,v),y=li(m,x),M=li(v,k);Mc(y,M);var w=_,N=fi(y,w),C=fi(w,w),R=N*N-C*(fi(y,y)-1);if(!(R<0)){var L=_e(R),P=li(w,(-N-L)/C);if(Mc(P,y),P=$c(P),!h)return P;var E=u[0],F=d[0],j=u[1],D=d[1],q;F<E&&(q=E,E=F,F=q);var K=F-E,Q=Lt(K-kt)<yt,it=Q||K<yt;if(!Q&&D<j&&(q=j,j=D,D=q),it?Q?j+D>0^P[1]<(Lt(P[0]-E)<yt?j:D):j<=P[1]&&P[1]<=D:K>kt^(E<=P[0]&&P[0]<=F)){var st=li(w,(-N+L)/C);return Mc(st,y),[P,$c(st)]}}}function l(u,d){var h=r?t:kt-t,b=0;return u<-h?b|=1:u>h&&(b|=2),d<-h?b|=4:d>h&&(b|=8),b}return Sh(o,c,i,r?[0,-t]:[-kt,t-kt])}function Z3(t,e,n,r,a,i){var o=t[0],c=t[1],f=e[0],l=e[1],u=0,d=1,h=f-o,b=l-c,g;if(g=n-o,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-c,!(!b&&g>0)){if(g/=b,b<0){if(g<u)return;g<d&&(d=g)}else if(b>0){if(g>d)return;g>u&&(u=g)}if(g=i-c,!(!b&&g<0)){if(g/=b,b<0){if(g>d)return;g>u&&(u=g)}else if(b>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=o+u*h,t[1]=c+u*b),d<1&&(e[0]=o+d*h,e[1]=c+d*b),!0}}}}}var di=1e9,hi=-1e9;function Th(t,e,n,r){function a(l,u){return t<=l&&l<=n&&e<=u&&u<=r}function i(l,u,d,h){var b=0,g=0;if(l==null||(b=o(l,d))!==(g=o(u,d))||f(l,u)<0^d>0)do h.point(b===0||b===3?t:n,b>1?r:e);while((b=(b+d+4)%4)!==g);else h.point(u[0],u[1])}function o(l,u){return Lt(l[0]-t)<yt?u>0?0:3:Lt(l[0]-n)<yt?u>0?2:1:Lt(l[1]-e)<yt?u>0?1:0:u>0?3:2}function c(l,u){return f(l.x,u.x)}function f(l,u){var d=o(l,1),h=o(u,1);return d!==h?d-h:d===0?u[1]-l[1]:d===1?l[0]-u[0]:d===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,d=kh(),h,b,g,m,v,p,S,A,x,k,_,y={point:M,lineStart:R,lineEnd:L,polygonStart:N,polygonEnd:C};function M(E,F){a(E,F)&&u.point(E,F)}function w(){for(var E=0,F=0,j=b.length;F<j;++F)for(var D=b[F],q=1,K=D.length,Q=D[0],it,st,ft=Q[0],bt=Q[1];q<K;++q)it=ft,st=bt,Q=D[q],ft=Q[0],bt=Q[1],st<=r?bt>r&&(ft-it)*(r-st)>(bt-st)*(t-it)&&++E:bt<=r&&(ft-it)*(r-st)<(bt-st)*(t-it)&&--E;return E}function N(){u=d,h=[],b=[],_=!0}function C(){var E=w(),F=_&&E,j=(h=Z0(h)).length;(F||j)&&(l.polygonStart(),F&&(l.lineStart(),i(null,null,1,l),l.lineEnd()),j&&Mh(h,c,E,i,l),l.polygonEnd()),u=l,h=b=g=null}function R(){y.point=P,b&&b.push(g=[]),k=!0,x=!1,S=A=NaN}function L(){h&&(P(m,v),p&&x&&d.rejoin(),h.push(d.result())),y.point=M,x&&u.lineEnd()}function P(E,F){var j=a(E,F);if(b&&g.push([E,F]),k)m=E,v=F,p=j,k=!1,j&&(u.lineStart(),u.point(E,F));else if(j&&x)u.point(E,F);else{var D=[S=Math.max(hi,Math.min(di,S)),A=Math.max(hi,Math.min(di,A))],q=[E=Math.max(hi,Math.min(di,E)),F=Math.max(hi,Math.min(di,F))];Z3(D,q,t,e,n,r)?(x||(u.lineStart(),u.point(D[0],D[1])),u.point(q[0],q[1]),j||u.lineEnd(),_=!1):j&&(u.lineStart(),u.point(E,F),_=!1)}S=E,A=F,x=j}return y}}const rs=t=>t;var Tc=new cr,as=new cr,Ah,Ch,is,os,yn={point:qe,lineStart:qe,lineEnd:qe,polygonStart:function(){yn.lineStart=K3,yn.lineEnd=J3},polygonEnd:function(){yn.lineStart=yn.lineEnd=yn.point=qe,Tc.add(Lt(as)),as=new cr},result:function(){var t=Tc/2;return Tc=new cr,t}};function K3(){yn.point=Q3}function Q3(t,e){yn.point=Nh,Ah=is=t,Ch=os=e}function Nh(t,e){as.add(os*t-is*e),is=t,os=e}function J3(){Nh(Ah,Ch)}var Ur=1/0,Hi=Ur,Fa=-Ur,Xi=Fa,Gi={point:$3,lineStart:qe,lineEnd:qe,polygonStart:qe,polygonEnd:qe,result:function(){var t=[[Ur,Hi],[Fa,Xi]];return Fa=Xi=-(Hi=Ur=1/0),t}};function $3(t,e){t<Ur&&(Ur=t),t>Fa&&(Fa=t),e<Hi&&(Hi=e),e>Xi&&(Xi=e)}var cs=0,ss=0,oa=0,Vi=0,Zi=0,Cr=0,fs=0,ls=0,ca=0,Eh,Ph,Je,$e,Re={point:hr,lineStart:uu,lineEnd:du,polygonStart:function(){Re.lineStart=n6,Re.lineEnd=r6},polygonEnd:function(){Re.point=hr,Re.lineStart=uu,Re.lineEnd=du},result:function(){var t=ca?[fs/ca,ls/ca]:Cr?[Vi/Cr,Zi/Cr]:oa?[cs/oa,ss/oa]:[NaN,NaN];return cs=ss=oa=Vi=Zi=Cr=fs=ls=ca=0,t}};function hr(t,e){cs+=t,ss+=e,++oa}function uu(){Re.point=t6}function t6(t,e){Re.point=e6,hr(Je=t,$e=e)}function e6(t,e){var n=t-Je,r=e-$e,a=_e(n*n+r*r);Vi+=a*(Je+t)/2,Zi+=a*($e+e)/2,Cr+=a,hr(Je=t,$e=e)}function du(){Re.point=hr}function n6(){Re.point=a6}function r6(){Rh(Eh,Ph)}function a6(t,e){Re.point=Rh,hr(Eh=Je=t,Ph=$e=e)}function Rh(t,e){var n=t-Je,r=e-$e,a=_e(n*n+r*r);Vi+=a*(Je+t)/2,Zi+=a*($e+e)/2,Cr+=a,a=$e*t-Je*e,fs+=a*(Je+t),ls+=a*($e+e),ca+=a*3,hr(Je=t,$e=e)}function Lh(t){this._context=t}Lh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ae);break}}},result:qe};var us=new cr,Ac,Fh,zh,sa,fa,za={point:qe,lineStart:function(){za.point=i6},lineEnd:function(){Ac&&Oh(Fh,zh),za.point=qe},polygonStart:function(){Ac=!0},polygonEnd:function(){Ac=null},result:function(){var t=+us;return us=new cr,t}};function i6(t,e){za.point=Oh,Fh=sa=t,zh=fa=e}function Oh(t,e){sa-=t,fa-=e,us.add(_e(sa*sa+fa*fa)),sa=t,fa=e}let hu,Ki,bu,gu;class mu{constructor(e){this._append=e==null?qh:o6(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==bu||this._append!==Ki){const r=this._radius,a=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,bu=r,Ki=this._append,gu=this._,this._=a}this._+=gu;break}}}result(){const e=this._;return this._="",e.length?e:null}}function qh(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function o6(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return qh;if(e!==hu){const n=10**e;hu=e,Ki=function(a){let i=1;this._+=a[0];for(const o=a.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}return Ki}function Dh(t,e){let n=3,r=4.5,a,i;function o(c){return c&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),Sr(c,a(i))),i.result()}return o.area=function(c){return Sr(c,a(yn)),yn.result()},o.measure=function(c){return Sr(c,a(za)),za.result()},o.bounds=function(c){return Sr(c,a(Gi)),Gi.result()},o.centroid=function(c){return Sr(c,a(Re)),Re.result()},o.projection=function(c){return arguments.length?(a=c==null?(t=null,rs):(t=c).stream,o):t},o.context=function(c){return arguments.length?(i=c==null?(e=null,new mu(n)):new Lh(e=c),typeof r!="function"&&i.pointRadius(r),o):e},o.pointRadius=function(c){return arguments.length?(r=typeof c=="function"?c:(i.pointRadius(+c),+c),o):r},o.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const f=Math.floor(c);if(!(f>=0))throw new RangeError(`invalid digits: ${c}`);n=f}return e===null&&(i=new mu(n)),o},o.projection(t).digits(n).context(e)}function ds(t){return{stream:No(t)}}function No(t){return function(e){var n=new hs;for(var r in t)n[r]=t[r];return n.stream=e,n}}function hs(){}hs.prototype={constructor:hs,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Sr(n,t.stream(Gi)),e(Gi.result()),r!=null&&t.clipExtent(r),t}function gf(t,e,n){return bf(t,function(r){var a=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(a/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),c=+e[0][0]+(a-o*(r[1][0]+r[0][0]))/2,f=+e[0][1]+(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([c,f])},n)}function jh(t,e,n){return gf(t,[[0,0],e],n)}function Ih(t,e,n){return bf(t,function(r){var a=+e,i=a/(r[1][0]-r[0][0]),o=(a-i*(r[1][0]+r[0][0]))/2,c=-i*r[0][1];t.scale(150*i).translate([o,c])},n)}function Bh(t,e,n){return bf(t,function(r){var a=+e,i=a/(r[1][1]-r[0][1]),o=-i*r[0][0],c=(a-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([o,c])},n)}var vu=16,c6=xt(30*Yt);function pu(t,e){return+e?f6(t,e):s6(t)}function s6(t){return No({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function f6(t,e){function n(r,a,i,o,c,f,l,u,d,h,b,g,m,v){var p=l-r,S=u-a,A=p*p+S*S;if(A>4*e&&m--){var x=o+h,k=c+b,_=f+g,y=_e(x*x+k*k+_*_),M=Ie(_/=y),w=Lt(Lt(_)-1)<yt||Lt(i-d)<yt?(i+d)/2:Cn(k,x),N=t(w,M),C=N[0],R=N[1],L=C-r,P=R-a,E=S*L-p*P;(E*E/A>e||Lt((p*L+S*P)/A-.5)>.3||o*h+c*b+f*g<c6)&&(n(r,a,i,o,c,f,C,R,w,x/=y,k/=y,_,m,v),v.point(C,R),n(C,R,w,x,k,_,l,u,d,h,b,g,m,v))}}return function(r){var a,i,o,c,f,l,u,d,h,b,g,m,v={point:p,lineStart:S,lineEnd:x,polygonStart:function(){r.polygonStart(),v.lineStart=k},polygonEnd:function(){r.polygonEnd(),v.lineStart=S}};function p(M,w){M=t(M,w),r.point(M[0],M[1])}function S(){d=NaN,v.point=A,r.lineStart()}function A(M,w){var N=Br([M,w]),C=t(M,w);n(d,h,u,b,g,m,d=C[0],h=C[1],u=M,b=N[0],g=N[1],m=N[2],vu,r),r.point(d,h)}function x(){v.point=p,r.lineEnd()}function k(){S(),v.point=_,v.lineEnd=y}function _(M,w){A(a=M,w),i=d,o=h,c=b,f=g,l=m,v.point=A}function y(){n(d,h,u,b,g,m,i,o,a,c,f,l,vu,r),v.lineEnd=x,x()}return v}}var l6=No({point:function(t,e){this.stream.point(t*Yt,e*Yt)}});function u6(t){return No({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function d6(t,e,n,r,a){function i(o,c){return o*=r,c*=a,[e+t*o,n-t*c]}return i.invert=function(o,c){return[(o-e)/t*r,(n-c)/t*a]},i}function yu(t,e,n,r,a,i){if(!i)return d6(t,e,n,r,a);var o=xt(i),c=gt(i),f=o*t,l=c*t,u=o/t,d=c/t,h=(c*n-o*e)/t,b=(c*e+o*n)/t;function g(m,v){return m*=r,v*=a,[f*m-l*v+e,n-l*m-f*v]}return g.invert=function(m,v){return[r*(u*m-d*v+h),a*(b-d*m-u*v)]},g}function Xn(t){return Uh(function(){return t})()}function Uh(t){var e,n=150,r=480,a=250,i=0,o=0,c=0,f=0,l=0,u,d=0,h=1,b=1,g=null,m=lu,v=null,p,S,A,x=rs,k=.5,_,y,M,w,N;function C(E){return M(E[0]*Yt,E[1]*Yt)}function R(E){return E=M.invert(E[0],E[1]),E&&[E[0]*be,E[1]*be]}C.stream=function(E){return w&&N===E?w:w=l6(u6(u)(m(_(x(N=E)))))},C.preclip=function(E){return arguments.length?(m=E,g=void 0,P()):m},C.postclip=function(E){return arguments.length?(x=E,v=p=S=A=null,P()):x},C.clipAngle=function(E){return arguments.length?(m=+E?V3(g=E*Yt):(g=null,lu),P()):g*be},C.clipExtent=function(E){return arguments.length?(x=E==null?(v=p=S=A=null,rs):Th(v=+E[0][0],p=+E[0][1],S=+E[1][0],A=+E[1][1]),P()):v==null?null:[[v,p],[S,A]]},C.scale=function(E){return arguments.length?(n=+E,L()):n},C.translate=function(E){return arguments.length?(r=+E[0],a=+E[1],L()):[r,a]},C.center=function(E){return arguments.length?(i=E[0]%360*Yt,o=E[1]%360*Yt,L()):[i*be,o*be]},C.rotate=function(E){return arguments.length?(c=E[0]%360*Yt,f=E[1]%360*Yt,l=E.length>2?E[2]%360*Yt:0,L()):[c*be,f*be,l*be]},C.angle=function(E){return arguments.length?(d=E%360*Yt,L()):d*be},C.reflectX=function(E){return arguments.length?(h=E?-1:1,L()):h<0},C.reflectY=function(E){return arguments.length?(b=E?-1:1,L()):b<0},C.precision=function(E){return arguments.length?(_=pu(y,k=E*E),P()):_e(k)},C.fitExtent=function(E,F){return gf(C,E,F)},C.fitSize=function(E,F){return jh(C,E,F)},C.fitWidth=function(E,F){return Ih(C,E,F)},C.fitHeight=function(E,F){return Bh(C,E,F)};function L(){var E=yu(n,0,0,h,b,d).apply(null,e(i,o)),F=yu(n,r-E[0],a-E[1],h,b,d);return u=wh(c,f,l),y=es(e,F),M=es(u,y),_=pu(y,k),P()}function P(){return w=N=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&R,L()}}function mf(t){var e=0,n=kt/3,r=Uh(t),a=r(e,n);return a.parallels=function(i){return arguments.length?r(e=i[0]*Yt,n=i[1]*Yt):[e*be,n*be]},a}function h6(t){var e=xt(t);function n(r,a){return[r*e,gt(a)/e]}return n.invert=function(r,a){return[r/e,Ie(a*e)]},n}function b6(t,e){var n=gt(t),r=(n+gt(e))/2;if(Lt(r)<yt)return h6(t);var a=1+n*(2*r-n),i=_e(a)/r;function o(c,f){var l=_e(a-2*r*gt(f))/r;return[l*gt(c*=r),i-l*xt(c)]}return o.invert=function(c,f){var l=i-f,u=Cn(c,Lt(l))*Oe(l);return l*r<0&&(u-=kt*Oe(c)*Oe(l)),[u/r,Ie((a-(c*c+l*l)*r*r)/(2*r))]},o}function Qi(){return mf(b6).scale(155.424).center([0,33.6442])}function Yh(){return Qi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function g6(t){var e=t.length;return{point:function(n,r){for(var a=-1;++a<e;)t[a].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function m6(){var t,e,n=Yh(),r,a=Qi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=Qi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,f,l={point:function(h,b){f=[h,b]}};function u(h){var b=h[0],g=h[1];return f=null,r.point(b,g),f||(i.point(b,g),f)||(c.point(b,g),f)}u.invert=function(h){var b=n.scale(),g=n.translate(),m=(h[0]-g[0])/b,v=(h[1]-g[1])/b;return(v>=.12&&v<.234&&m>=-.425&&m<-.214?a:v>=.166&&v<.234&&m>=-.214&&m<-.115?o:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=g6([n.stream(e=h),a.stream(h),o.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),a.precision(h),o.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),a.scale(h*.35),o.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var b=n.scale(),g=+h[0],m=+h[1];return r=n.translate(h).clipExtent([[g-.455*b,m-.238*b],[g+.455*b,m+.238*b]]).stream(l),i=a.translate([g-.307*b,m+.201*b]).clipExtent([[g-.425*b+yt,m+.12*b+yt],[g-.214*b-yt,m+.234*b-yt]]).stream(l),c=o.translate([g-.205*b,m+.212*b]).clipExtent([[g-.214*b+yt,m+.166*b+yt],[g-.115*b-yt,m+.234*b-yt]]).stream(l),d()},u.fitExtent=function(h,b){return gf(u,h,b)},u.fitSize=function(h,b){return jh(u,h,b)},u.fitWidth=function(h,b){return Ih(u,h,b)},u.fitHeight=function(h,b){return Bh(u,h,b)};function d(){return t=e=null,u}return u.scale(1070)}function Wh(t){return function(e,n){var r=xt(e),a=xt(n),i=t(r*a);return i===1/0?[2,0]:[i*a*gt(e),i*gt(n)]}}function Va(t){return function(e,n){var r=_e(e*e+n*n),a=t(r),i=gt(a),o=xt(a);return[Cn(e*i,r*o),Ie(r&&n*i/r)]}}var Hh=Wh(function(t){return _e(2/(1+t))});Hh.invert=Va(function(t){return 2*Ie(t/2)});function v6(){return Xn(Hh).scale(124.75).clipAngle(180-.001)}var Xh=Wh(function(t){return(t=xh(t))&&t/gt(t)});Xh.invert=Va(function(t){return t});function p6(){return Xn(Xh).scale(79.4188).clipAngle(180-.001)}function Eo(t,e){return[t,Ui(hf((Wt+e)/2))]}Eo.invert=function(t,e){return[t,2*Qr(_h(e))-Wt]};function y6(){return Gh(Eo).scale(961/Ae)}function Gh(t){var e=Xn(t),n=e.center,r=e.scale,a=e.translate,i=e.clipExtent,o=null,c,f,l;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(a(d),u()):a()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=c=f=l=null:(o=+d[0][0],c=+d[0][1],f=+d[1][0],l=+d[1][1]),u()):o==null?null:[[o,c],[f,l]]};function u(){var d=kt*r(),h=e(I3(e.rotate()).invert([0,0]));return i(o==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===Eo?[[Math.max(h[0]-d,o),c],[Math.min(h[0]+d,f),l]]:[[o,Math.max(h[1]-d,c)],[f,Math.min(h[1]+d,l)]])}return u()}function bi(t){return hf((Wt+t)/2)}function _6(t,e){var n=xt(t),r=t===e?gt(t):Ui(n/xt(e))/Ui(bi(e)/bi(t)),a=n*kc(bi(t),r)/r;if(!r)return Eo;function i(o,c){a>0?c<-Wt+yt&&(c=-Wt+yt):c>Wt-yt&&(c=Wt-yt);var f=a/kc(bi(c),r);return[f*gt(r*o),a-f*xt(r*o)]}return i.invert=function(o,c){var f=a-c,l=Oe(r)*_e(o*o+f*f),u=Cn(o,Lt(f))*Oe(f);return f*r<0&&(u-=kt*Oe(o)*Oe(f)),[u/r,2*Qr(kc(a/l,1/r))-Wt]},i}function x6(){return mf(_6).scale(109.5).parallels([30,30])}function Ji(t,e){return[t,e]}Ji.invert=Ji;function w6(){return Xn(Ji).scale(152.63)}function k6(t,e){var n=xt(t),r=t===e?gt(t):(n-xt(e))/(e-t),a=n/r+t;if(Lt(r)<yt)return Ji;function i(o,c){var f=a-c,l=r*o;return[f*gt(l),a-f*xt(l)]}return i.invert=function(o,c){var f=a-c,l=Cn(o,Lt(f))*Oe(f);return f*r<0&&(l-=kt*Oe(o)*Oe(f)),[l/r,a-Oe(r)*_e(o*o+f*f)]},i}function M6(){return mf(k6).scale(131.154).center([0,13.9389])}var ha=1.340264,ba=-.081106,ga=893e-6,ma=.003796,$i=_e(3)/2,S6=12;function Vh(t,e){var n=Ie($i*gt(e)),r=n*n,a=r*r*r;return[t*xt(n)/($i*(ha+3*ba*r+a*(7*ga+9*ma*r))),n*(ha+ba*r+a*(ga+ma*r))]}Vh.invert=function(t,e){for(var n=e,r=n*n,a=r*r*r,i=0,o,c,f;i<S6&&(c=n*(ha+ba*r+a*(ga+ma*r))-e,f=ha+3*ba*r+a*(7*ga+9*ma*r),n-=o=c/f,r=n*n,a=r*r*r,!(Lt(o)<j3));++i);return[$i*t*(ha+3*ba*r+a*(7*ga+9*ma*r))/xt(n),Ie(gt(n)/$i)]};function T6(){return Xn(Vh).scale(177.158)}function Zh(t,e){var n=xt(e),r=xt(t)*n;return[n*gt(t)/r,gt(e)/r]}Zh.invert=Va(Qr);function A6(){return Xn(Zh).scale(144.049).clipAngle(60)}function Kh(t,e){return[xt(e)*gt(t),gt(e)]}Kh.invert=Va(Ie);function C6(){return Xn(Kh).scale(249.5).clipAngle(90+yt)}function Qh(t,e){var n=xt(e),r=1+xt(t)*n;return[n*gt(t)/r,gt(e)/r]}Qh.invert=Va(function(t){return 2*Qr(t)});function N6(){return Xn(Qh).scale(250).clipAngle(142)}function Jh(t,e){return[Ui(hf((Wt+e)/2)),-t]}Jh.invert=function(t,e){return[-e,2*Qr(_h(t))-Wt]};function E6(){var t=Gh(Jh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const P6=df({stream:t=>t}),R6=.618;function L6({projOptions:t,inset:e=2,insetTop:n=e,insetRight:r=e,insetBottom:a=e,insetLeft:i=e}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let c,f,l="frame";if(Zc(t)){let w;if({type:t,domain:f,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:a=w!==void 0?w:a,insetLeft:i=w!==void 0?w:i,clip:l=l,...c}=t,t==null)return}let u=R6;const d=t,{width:h,height:b,marginLeft:g,marginRight:m,marginTop:v,marginBottom:p}=o,S=h-g-m-i-r,A=b-v-p-n-a,x=d==null?void 0:d({width:S,height:A,clip:l,...c});if(x==null)return;l=F6(l,g,v,h-m,b-p);let k=g+i,_=v+n,y,M=w=>w;if(f!=null){const[[w,N],[C,R]]=Dh(x).bounds(f),L=Math.min(S/(C-w),A/(R-N));if(u=(R-N)/(C-w),L>0)k-=(L*(w+C)-S)/2,_-=(L*(N+R)-A)/2,y=ds({point(P,E){this.stream.point(P*L+k,E*L+_)}}),M=([P,E])=>[(P-k)/L,(E-_)/L];else throw new Error("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=k===0&&_===0?P6():ds({point(w,N){this.stream.point(w+k,N+_)}})),M??(M=([w,N])=>[w-k,N-_]),{aspectRatio:u,invert([w,N]){return x.invert(M([w,N]))},stream:w=>x.stream(y.stream(l(w)))}}function F6(t,e,n,r,a){if(t===!1||t==null||typeof t=="number")return i=>i;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Th(e,n,r,a);default:throw new Error(`unknown projection clip type: ${t}`)}}/**
 * @license
 * Copyright 2020-2023 Observable, Inc.
 *
 * Permission to use, copy, modify, and/or distribute this software for any purpose
 * with or without fee is hereby granted, provided that the above copyright notice
 * and this permission notice appear in all copies.
 */const $h=1e3,t1=$h*60,e1=t1*60,Po=e1*24,Pn=Po*7,z6=Po*30,O6=Po*365,vf=new Map([["second",$h],["minute",t1],["hour",e1],["day",Po],["monday",Pn],["tuesday",Pn],["wednesday",Pn],["thursday",Pn],["friday",Pn],["saturday",Pn],["sunday",Pn],["week",Pn],["month",z6],["year",O6]]),n1=new Map([["second",Fn],["minute",po],["hour",yo],["day",Kr],["monday",Ea],["tuesday",xd],["wednesday",wd],["thursday",lr],["friday",kd],["saturday",Md],["sunday",Ir],["week",Ir],["month",_o],["year",sn]]),r1=new Map([["second",Fn],["minute",pd],["hour",yd],["day",_d],["monday",Pa],["tuesday",Sd],["wednesday",Td],["thursday",ur],["friday",Ad],["saturday",Cd],["sunday",Oi],["week",Oi],["month",Nd],["year",Dn]]),pf=Symbol("intervalDuration"),yf=Symbol("intervalType");for(const[t,e]of n1)e[pf]=vf.get(t),e[yf]="time";for(const[t,e]of r1)e[pf]=vf.get(t),e[yf]="utc";function q6(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let a=r1.get(e);if(!a)throw new Error(`unknown interval: ${t}`);if(n>1&&!a.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function D6(t){return j6(q6(t),"time")}function j6([t,e],n){let r=n1.get(t);return e>1&&(r=r.every(e),r[pf]=vf.get(t)*e,r[yf]=n),r}function _f(t){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,round:n=>Math.round(n*e)/e,offset:n=>(n*e+1)/e,range:(n,r)=>qn(Math.ceil(n*e),r*e).map(a=>a/e)}:{floor:n=>Math.floor(n/e)*e,round:n=>Math.round(n/e)*e,offset:n=>n+e,range:(n,r)=>qn(Math.ceil(n/e),r/e).map(a=>a*e)}}if(typeof t=="string")return D6(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Ro(t,e,n,r,a,i){if(e)return e;if(n){const[o,c]=Or(r),f=_f(n);return f.range(o,f.offset(c))}return typeof a.ticks=="function"?a.ticks(i):[]}function _u(t,e,n,r,a,i){const o=hn("x",t.x,a,t,e,n,r,i),c=hn("y",t.y,a,t,e,n,r,i),f=hn("r",t.r,a,t,e,n,r,i),l=hn("color",t.color,a,t,e,n,r,i),u=hn("opacity",t.opacity,a,t,e,n,r,i),d=hn("length",t.length,a,t,e,n,r,i),h=hn("symbol",t.symbol,a,t,e,n,r,i),b=hn("fx",t.fx,a,t,e,n,r,i),g=hn("fy",t.fy,a,t,e,n,r,i),m=t.projection?L6({projOptions:t.projection,inset:t.inset},{width:e,height:n,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,marginTop:t.marginTop}):null;return{x:o,y:c,r:f,color:l,opacity:u,length:d,symbol:h,fx:b,fy:g,projection:m}}function hn(t,e,n,r,a,i,o,c){if(!r.implicitScales&&!e.scale){const y=t==="color"?()=>"currentColor":()=>0;return y.range=t==="color"?()=>["currentColor"]:()=>[0],{type:"linear",domain:[0],range:[0],fn:y,skip:new Map,isDummy:!0}}const f=new Set,l=[],u=new Set,d=new Map;let h=0;const b=new Set,g=new Set;let m=!0;for(const y of n){y.channels.sort!==void 0&&(m=!1);for(const M of y.channels)if(d.has(M)||d.set(M,new Set),y.data.length>0){const w=jn(y.options[M])?y.options[M]:{value:y.options[M],scale:Te[M]};if(w.scale===t&&(r.implicitScales||e.scale)&&typeof w.value<"u")if(t==="opacity"&&H6(w.value))d.get(M).add(y.id);else{const C=t==="color"?T3:t==="symbol"?S3:!1;let R=!!C&&y.data.length>0;if(C)for(const L of y.data){const P=Pt(w.value,L);if(R=R&&P!==null&&C(P),!R)break}if(R&&d.get(M).add(y.id),typeof w.value=="string"&&!a1(w.value)&&!w.value.startsWith("__")&&y.data[0][w.value]!==void 0&&b.add(w.value),g.add(w.value),w.value!=null&&!R){h++,u.add(y.type);for(const L of y.data){const P=Pt(w.value,L);f.add(P),(t==="color"&&e.type==="quantile"||e.type==="quantile-cont")&&l.push(P)}}}(t==="x"||t==="y")&&y.options[`__${t}_origField`]&&!y.options[`__${t}_origField`].startsWith("__")&&b.add(y.options[`__${t}_origField`])}}const v=[...f.values(),...e.domain||[]].filter(y=>y!=null),p=e.type==="auto"?B6(t,v,u):e.type;if(yc[t]&&!yc[t].has(p))throw new Error(`Invalid scale type ${p} for scale
            ${t}. Valid types are ${[...yc[t]].join(", ")}`);const S=p==="band"||p==="point"||p==="ordinal"||p==="categorical";S&&m&&v.sort(Tn);const A=p==="quantile"||p==="quantile-cont"?l.toSorted():v;let x=e.domain?S?e.domain:Or(e.zero?[0,...e.domain]:e.domain):p==="band"||p==="point"||p==="ordinal"||p==="categorical"||p==="quantile"||p==="quantile-cont"?t==="y"?A.toReversed():A:Or(e.zero?[0,...A]:A);if(e.interval&&(S?x=I6(x,e.interval,t):u.size>0&&console.warn("Setting interval via axis options is only supported for ordinal scales")),!e.scale)throw new Error(`No scale function defined for ${t}`);const k=e.scale({name:t,type:p,domain:x,scaleOptions:e,plotOptions:r,plotWidth:a,plotHeight:i,plotHasFilledDotMarks:o,plotDefaults:c}),_=k.range();return{type:p,domain:x,range:_,fn:k,skip:d,manualActiveMarks:h,uniqueScaleProps:g,autoTitle:p==="time"?null:b.size===1?`${[...b.values()][0]}${p==="log"?" (log)":""}`:null}}function I6(t,e,n){const r=_f(e),[a,i]=Or(t),o=r.range(a,r.offset(i));return n==="y"?o.toReversed():o}function B6(t,e,n){return t==="color"?e.length?e.every(M3)||e.every(Jl)?"linear":(e.every($l),"categorical"):"ordinal":t==="symbol"?"ordinal":(t==="x"||t==="y")&&n.size===1&&(t==="y"&&(n.has("barX")||n.has("tickX")||n.has("cell"))||t==="x"&&(n.has("barY")||n.has("tickY")||n.has("cell")))?"band":e.length?e.length===1?"point":e.every(k3)?t==="r"?"sqrt":"linear":e.every(Jl)?"time":e.every($l)?n.has("arrow")?"point":"band":"linear":"linear"}const U6=["x","x1","x2","y","y1","y2","r","opacity","fill","fillOpacity","stroke","strokeOpacity","symbol","length"];function Y6(t,e,n){return Object.fromEntries(U6.map(r=>{const a=Te[r],i=t.scales[a].skip.get(r)||new Set;return[r,!i.has(n.id)&&gh(r,e[r]).scale!==null&&!t.scales[a].isDummy]}))}function a1(t){return Number.isFinite(t)||typeof t=="string"&&t.trim().length>0&&Number.isFinite(+t)}function W6(t,e,n){return Number.isFinite(t)&&t>=e&&t<=n}function H6(t){return a1(t)&&W6(+t,0,1)}function i1(t,e,n,r=!0,a=!0){if(t.projection){let i,o;return t.projection.stream({point(f,l){i=f,o=l}}).point(e,n),[i,o]}return[r?o1("x",t,e):e,a?c1("y",t,n):n]}function o1(t,e,n){return e.x.fn(n)+(t==="x"&&e.x.type==="band"?e.x.fn.bandwidth()*.5:t==="x2"&&e.x.type==="band"?e.x.fn.bandwidth():0)}function c1(t,e,n){return e.y.fn(n)+(t==="y"&&e.y.type==="band"?e.y.fn.bandwidth()*.5:t==="y2"&&e.y.type==="band"?e.y.fn.bandwidth():0)}var X6=ct('<div class="plot-header svelte-1bqfgxg"><!></div>'),G6=ct('<div class="plot-underlay svelte-1bqfgxg"><!></div>'),V6=ct('<div class="plot-overlay svelte-1bqfgxg"><!></div>'),Z6=ct('<figcaption class="plot-footer svelte-1bqfgxg"><!></figcaption>'),K6=ct('<figure><!> <div class="plot-body svelte-1bqfgxg"><!> <svg fill="currentColor" font-family="system-ui, sans-serif"><!><!></svg> <!></div> <!></figure>');function Q6(t,e){Ct(e,!0);const[n,r]=As(),a=()=>_n(f,"$autoMarginLeft",n),i=()=>_n(l,"$autoMarginRight",n),o=()=>_n(u,"$autoMarginBottom",n),c=()=>_n(d,"$autoMarginTop",n);let f=$a(new Ar),l=$a(new Ar),u=$a(new Ar),d=$a(new Ar);yi("svelteplot/autoMargins",{autoMarginLeft:f,autoMarginRight:l,autoMarginBottom:u,autoMarginTop:d});const h=T(()=>Math.max(...a().values())),b=T(()=>Math.max(...i().values())),g=T(()=>Math.max(...o().values())),m=T(()=>Math.max(...c().values())),v={axisXAnchor:"bottom",axisYAnchor:"left",xTickSpacing:80,yTickSpacing:50,height:350,initialWidth:500,inset:0,colorScheme:"turbo",unknown:"#cccccc",dotRadius:3,frame:!1,axes:!0,grid:!1,categoricalColorScheme:"observable10",pointScaleHeight:18,bandScaleHeight:30,locale:"en-US",numberFormat:{style:"decimal",compactDisplay:"short"},markerDotRadius:3,...Rt("svelteplot/defaults")};let p=B(e,"class",3,""),S=B(e,"css",19,()=>v.css),A=Ce(e,["$$slots","$$events","$$legacy","header","footer","overlay","underlay","children","facetAxes","testid","facet","class","css","width"]),x=jt(ve(v.initialWidth));yi("svelteplot/_defaults",v);let k=jt([]);const _=T(()=>s(k).filter(J=>!J.options.automatic)),y=T(()=>!!s(_).find(J=>J.type==="axisX")),M=T(()=>!!s(_).find(J=>J.type==="axisY")),w=T(()=>!!s(_).find(J=>J.type==="gridX")),N=T(()=>!!s(_).find(J=>J.type==="gridY")),C=T(()=>new Set(s(_).map(J=>[...J.scales.values()].filter(lt=>Object.entries(Te).filter(([,Dt])=>lt===Dt).map(([Dt])=>Dt).find(Dt=>J.options[Dt]!=null))).flat(1))),R=T(()=>new Set(by.filter(J=>{var lt;return!!((lt=A[J])!=null&&lt.domain)}))),L=T(()=>s(C).has("x")!==s(C).has("y")),P=T(()=>tt(A,{explicitScales:s(C),explicitDomains:s(R),hasProjection:!!e.projection,margins:e.margins,inset:e.inset})),E=T(()=>!!s(_).find(J=>J.type==="dot"&&J.options.fill)),F=T(()=>_u(s(P),s(x),400,s(E),s(k),v)),j=T(()=>!!s(F).projection),D=T(()=>(e.width||s(x))-s(P).marginLeft-s(P).marginRight),q=T(()=>Math.max(1,s(F).fx.domain.length)),K=T(()=>Math.max(1,s(F).fy.domain.length)),Q=T(()=>s(L)&&s(C).has("x")?1:s(F).y.domain.length),it=T(()=>s(P).height==="auto"?Math.round(s(F).projection&&s(F).projection.aspectRatio?s(D)*s(F).projection.aspectRatio/s(q)*s(K)+s(P).marginTop+s(P).marginBottom:s(P).aspectRatio?Z(s(F).x,s(F).y,s(P).aspectRatio,s(D),s(P).marginTop,s(P).marginBottom):(s(L)&&s(C).has("x")||!s(_).length?s(K)*v.bandScaleHeight:s(F).y.type==="band"?s(K)*s(Q)*v.bandScaleHeight:s(F).y.type==="point"?s(K)*s(Q)*v.pointScaleHeight:v.height)+s(P).marginTop+s(P).marginBottom):typeof s(P).height=="function"?s(P).height(s(D)):s(P).height),st=T(()=>s(it)-s(P).marginTop-s(P).marginBottom);let ft=jt(null),bt=jt(null),W=jt(null),G=jt(ve(_t()));oe(()=>{rt(G,_t(),!0)});function _t(){var qt,Dt,xe,de;const J=_u(s(P),s(bt)||s(x),s(W)||s(it),s(E),s(k),v),lt=((qt=J.color.uniqueScaleProps)==null?void 0:qt.size)===1&&((Dt=J.symbol.uniqueScaleProps)==null?void 0:Dt.size)===1&&[...(xe=J.color.uniqueScaleProps)==null?void 0:xe.values()][0]===[...(de=J.symbol.uniqueScaleProps)==null?void 0:de.values()][0];return{options:s(P),width:s(x),height:s(it),facetWidth:s(bt),facetHeight:s(W),plotHeight:s(st),plotWidth:s(D),scales:J,colorSymbolRedundant:lt,hasFilledDotMarks:s(E),body:s(ft),css:S()}}yi("svelteplot",{addMark(J){s(k).find(lt=>lt.id===J.id)||rt(k,[...s(k),J])},updateMark(J){},removeMark(J){rt(k,s(k).filter(lt=>lt.id!==J.id))},getPlotState(){return s(G)},getTopLevelFacet(){return e.facet},updateDimensions(J,lt){s(bt)!==J&&rt(bt,J,!0),s(W)!==lt&&rt(W,lt,!0)},updatePlotState(){rt(G,_t(),!0)}});function I(){return s(x)}function Z(J,lt,qt,Dt,xe,de){const ln=J.type==="band"||J.type==="point"?J.domain.length:Math.abs(J.domain[1]-J.domain[0]),Vn=lt.type==="band"||lt.type==="point"?lt.domain.length:Math.abs(lt.domain[1]-lt.domain[0]);return Dt/ln*Vn/qt+xe+de}function tt(J,lt){return Qc({},O(lt),J)}function O({explicitScales:J,explicitDomains:lt,hasProjection:qt,margins:Dt}){const xe=J.has("x")||lt.has("x"),de=J.has("y")||lt.has("y"),ln=xe!==de,Vn=xe&&!de,Qa=de&&!xe;return{title:"",subtitle:"",caption:"",height:"auto",marginLeft:qt?0:Dt??Math.max(s(h)+1,1),marginRight:qt?0:Dt??(Qa?0:Math.max(s(b)+1,4)),marginTop:qt?0:Dt??(Vn?0:Math.max(5,s(m))),marginBottom:qt?0:Dt??Math.max(5,s(g)),inset:ln?10:v.inset,grid:v.grid,axes:v.axes,frame:v.frame,projection:null,aspectRatio:null,facet:{},padding:.1,x:{type:"auto",axis:xe?v.axisXAnchor:!1,labelAnchor:"auto",reverse:!1,clamp:!1,nice:!1,zero:!1,round:!1,percent:!1,align:.5,tickSpacing:v.xTickSpacing,tickFormat:"auto",grid:!1},y:{type:"auto",axis:de?v.axisYAnchor:!1,labelAnchor:"auto",reverse:!1,clamp:!1,nice:!1,zero:!1,round:!1,percent:!1,align:.5,tickSpacing:v.yTickSpacing,tickFormat:"auto",grid:!1},opacity:{type:"linear",reverse:!1,clamp:!1,nice:!1,zero:!1,round:!1,tickSpacing:0,percent:!1,padding:.1,align:.5},r:{type:"sqrt",reverse:!1,clamp:!1,nice:!1,zero:!0,percent:!1,round:!1,padding:0,align:0},color:{type:"auto"},length:{type:"linear"},symbol:{type:"ordinal"},fx:{type:"band",axis:"top"},fy:{type:"band",axis:"right"},locale:v.locale,css:v.css}}const Ft=T(()=>(J,lt)=>{const[qt,Dt]=i1(s(G).scales,J,lt);return{x:qt,y:Dt}});var wt=K6();let Xt;var nt=X(wt);{var ot=J=>{var lt=X6(),qt=X(lt);le(qt,()=>e.header??Ye),H(lt),z(J,lt)};$(nt,J=>{e.header&&J(ot)})}var ut=V(nt,2),te=X(ut);{var se=J=>{var lt=G6(),qt=X(lt);le(qt,()=>e.underlay,()=>s(P)),H(lt),z(J,lt)};$(te,J=>{e.underlay&&J(se)})}var fe=V(te,2),Za=X(fe);le(Za,()=>e.facetAxes??Ye);var Ka=V(Za);D3(Ka,{get marks(){return s(_)},children:(J,lt)=>{var qt=St(),Dt=at(qt);{var xe=de=>{var ln=St(),Vn=at(ln);le(Vn,()=>e.children,()=>({width:s(x),height:s(it),options:s(P),scales:s(G).scales,mapXY:s(Ft),hasProjection:s(j),hasExplicitAxisX:s(y),hasExplicitAxisY:s(M),hasExplicitGridX:s(w),hasExplicitGridY:s(N)})),z(de,ln)};$(Dt,de=>{e.children&&de(xe)})}z(J,qt)},$$slots:{default:!0}}),H(fe);var Fo=V(fe,2);{var zo=J=>{var lt=V6(),qt=X(lt);le(qt,()=>e.overlay??Ye),H(lt),z(J,lt)};$(Fo,J=>{e.overlay&&J(zo)})}H(ut),Bn(ut,J=>rt(ft,J),()=>s(ft));var Oo=V(ut,2);{var qo=J=>{var lt=Z6(),qt=X(lt);le(qt,()=>e.footer??Ye),H(lt),z(J,lt)};$(Oo,J=>{e.footer&&J(qo)})}H(wt),et(()=>{It(wt,1,`svelteplot ${p()??""}`,"svelte-1bqfgxg"),Y(wt,"data-testid",e.testid),Xt=At(wt,"",Xt,{"max-width":s(P).maxWidth}),Y(fe,"width",e.width||s(x)),Y(fe,"height",s(it)),Y(fe,"viewBox",`0 0 ${s(x)??""} ${s(it)??""}`)}),L2(wt,"clientWidth",J=>rt(x,J)),z(t,wt);var Do=Nt({getWidth:I});return r(),Do}function J6(){}function xu(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wu(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $6="[object RegExp]",t_="[object String]",e_="[object Number]",n_="[object Boolean]",ku="[object Arguments]",r_="[object Symbol]",a_="[object Date]",i_="[object Map]",o_="[object Set]",c_="[object Array]",s_="[object Function]",f_="[object ArrayBuffer]",Cc="[object Object]",l_="[object Error]",u_="[object DataView]",d_="[object Uint8Array]",h_="[object Uint8ClampedArray]",b_="[object Uint16Array]",g_="[object Uint32Array]",m_="[object BigUint64Array]",v_="[object Int8Array]",p_="[object Int16Array]",y_="[object Int32Array]",__="[object BigInt64Array]",x_="[object Float32Array]",w_="[object Float64Array]";function bs(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function s1(t,e){const n={};for(let r=0;r<e.length;r++){const a=e[r];Object.hasOwn(t,a)&&(n[a]=t[a])}return n}function k_(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function M_(t,e,n){return la(t,e,void 0,void 0,void 0,void 0,n)}function la(t,e,n,r,a,i,o){const c=o(t,e,n,r,a,i);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return va(t,e,i,o)}return va(t,e,i,o)}function va(t,e,n,r){if(Object.is(t,e))return!0;let a=wu(t),i=wu(e);if(a===ku&&(a=Cc),i===ku&&(i=Cc),a!==i)return!1;switch(a){case t_:return t.toString()===e.toString();case e_:{const f=t.valueOf(),l=e.valueOf();return k_(f,l)}case n_:case a_:case r_:return Object.is(t.valueOf(),e.valueOf());case $6:return t.source===e.source&&t.flags===e.flags;case s_:return t===e}n=n??new Map;const o=n.get(t),c=n.get(e);if(o!=null&&c!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(a){case i_:{if(t.size!==e.size)return!1;for(const[f,l]of t.entries())if(!e.has(f)||!la(l,e.get(f),f,t,e,n,r))return!1;return!0}case o_:{if(t.size!==e.size)return!1;const f=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<f.length;u++){const d=f[u],h=l.findIndex(b=>la(d,b,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case c_:case d_:case h_:case b_:case g_:case m_:case v_:case p_:case y_:case __:case x_:case w_:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let f=0;f<t.length;f++)if(!la(t[f],e[f],f,t,e,n,r))return!1;return!0}case f_:return t.byteLength!==e.byteLength?!1:va(new Uint8Array(t),new Uint8Array(e),n,r);case u_:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:va(new Uint8Array(t),new Uint8Array(e),n,r);case l_:return t.name===e.name&&t.message===e.message;case Cc:{if(!(va(t.constructor,e.constructor,n,r)||bs(t)&&bs(e)))return!1;const l=[...Object.keys(t),...xu(t)],u=[...Object.keys(e),...xu(e)];if(l.length!==u.length)return!1;for(let d=0;d<l.length;d++){const h=l[d],b=t[h];if(!Object.hasOwn(e,h))return!1;const g=e[h];if(!la(b,g,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Mu(t,e){return M_(t,e,J6)}var S_=dt('<tspan x="0"> </tspan>'),T_=dt('<text transform="translate(10,10)" class="svelte-1pjmf47"></text>');function Gn(t,e){var it,st,ft,bt;Ct(e,!0);let n=B(e,"data",19,()=>[]),r=B(e,"channels",19,()=>[]),a=B(e,"required",19,()=>[]),i=B(e,"requiredScales",19,()=>({})),o=B(e,"defaults",19,()=>({})),c=Ce(e,["$$slots","$$events","$$legacy","data","children","type","channels","required","requiredScales","defaults"]);const f=T(()=>[...r(),"fx","fy"]),{addMark:l,updateMark:u,updatePlotState:d,removeMark:h,getTopLevelFacet:b,getPlotState:g}=Rt("svelteplot"),m=T(g),v=T(b),{getFacetState:p}=Rt("svelteplot/facet"),S=T(p),A=T(()=>s(S).left),x=T(()=>s(S).top);class k{constructor(G){Ja(this,"id");Ja(this,"type");ie(this,it,jt([]));ie(this,st,jt(new Set));ie(this,ft,jt([]));ie(this,bt,jt({}));this.id=Symbol(),this.type=G}get channels(){return s(vt(this,it))}set channels(G){rt(vt(this,it),G)}get scales(){return s(vt(this,st))}set scales(G){rt(vt(this,st),G)}get data(){return s(vt(this,ft))}set data(G){rt(vt(this,ft),G)}get options(){return s(vt(this,bt))}set options(G){rt(vt(this,bt),G)}}it=new WeakMap,st=new WeakMap,ft=new WeakMap,bt=new WeakMap;const _=new k(e.type);oe(()=>()=>{h(_),w=!1});const y=T(()=>e.facet||"auto"),M=T(()=>({...c,__firstFacet:s(A)&&s(x),...s(v)&&s(v).data&&(s(y)==="auto"&&s(v).data===n()||s(y)==="include")?{fx:s(v).x,fy:s(v).y}:{}}));let w=!1;oe(()=>{const W=Se(()=>_.options);Mu(W,s(M))||(_.options=s(M))}),oe(()=>{if(w)return;const W=Se(()=>s(f));_.channels=W,_.scales=new Set(W.filter(G=>c[G]!==0).map(G=>Te[G])),_.data=Se(()=>n()),_.options=Se(()=>s(M)),l(_),w=!0});const{getTestFacet:N}=Rt("svelteplot/facet"),C=T(N),R=T(()=>n().map((W,G)=>({...W,[Yd]:G})).flatMap(W=>{const G=c;if(!s(C)(W,G)||!dr(W,G))return[];const _t={datum:W};for(const[I]of Object.entries(Te))(c==null?void 0:c[I])!==void 0&&_t[I]===void 0&&(_t[I]=re(I,W,c));return[_t]}));let L=[];oe(()=>{P(s(R),L)&&(L=s(R),_.data=n())});function P(W,G){if(W.length!==G.length)return!0;for(let _t=0;_t<W.length;_t++)for(const[I]of Object.entries(Te))if(!Mu(W[_t][I],G[_t][I]))return!0;return!1}const E=T(()=>[...a().filter(W=>c[W]==null).map(W=>`missing channel value for ${_.type} mark: ${W}`),...Object.entries(i()).filter(([W,G])=>!G.includes(s(m).scales[W].type)).map(([W,G])=>`scale type mismatch for ${W} (needs ${G.join(" or ")})`)]);oe(()=>{for(const W of a())if(c[W]==null)throw new Error(`missing channel value: ${W}`)});const F=T(()=>Y6(s(m),s(M),_)),j=T(()=>s(R).flatMap(W=>{const G={datum:W.datum,valid:!0},_t=Number(Pt(e.dx,G.datum,0)),I=Number(Pt(e.dy,G.datum,0));if(s(m).scales.projection&&_.type!=="geo"){for(const Z of["","1","2"])if((c==null?void 0:c[`x${Z}`])!==void 0&&(c==null?void 0:c[`y${Z}`])!==void 0){const[tt,O]=_.type==="line"?[W.x,W.y]:i1(s(m).scales,W.x,W.y,s(F).x,s(F).y);G[`x${Z}`]=tt,G[`y${Z}`]=O,G.valid=G.valid&&Pe(W.x)&&Pe(W.y)&&Pe(tt)&&Pe(O)}}for(const[Z,tt]of Object.entries(Te))if((c==null?void 0:c[Z])!=null&&G[Z]===void 0){const O=W[Z],Ft=s(F)[Z]?tt==="x"?o1(Z,s(m).scales,O):tt==="y"?c1(Z,s(m).scales,O):s(m).scales[tt].fn(O):O;G.valid=G.valid&&Pe(O),G[Z]=tt==="x"&&Number.isFinite(Ft)?Ft+_t:Ft,G[Z]=tt==="y"&&Number.isFinite(Ft)?Ft+I:Ft}else o()[Z]&&(G[Z]=o()[Z]);return[G]}));var D=St(),q=at(D);{var K=W=>{var G=T_();Ut(G,21,()=>s(E),Qt,(_t,I,Z)=>{var tt=S_();Y(tt,"dy",Z?14:0);var O=X(tt,!0);H(tt),et(()=>Ht(O,s(I))),z(_t,tt)}),H(G),z(W,G)},Q=(W,G)=>{{var _t=I=>{var Z=St(),tt=at(Z);le(tt,()=>e.children,()=>({mark:_,usedScales:s(F),scaledData:s(j)})),z(I,Z)};$(W,I=>{e.children&&I(_t)},G)}};$(q,W=>{s(E).length?W(K):W(Q,!1)})}z(t,D),Nt()}function A_(t){const e=[];if(!t.length)return t;for(let n=0;n<t.length;n++)e.push({...t[n],text:[]});for(let n=0;n<t[0].text.length;n++){const r=t.length>1&&t.every(a=>t[0].text[n]===a.text[n]);for(let a=0;a<t.length;a++)!r&&t[a].text[n]&&e[a].text.push(t[a].text[n])}return e}var C_=dt("<line></line>"),N_=dt('<tspan x="0"> </tspan>'),E_=dt("<g><!><text><!></text></g>"),P_=dt('<g class="axis-x"></g>');function f1(t,e){Ct(e,!0);const[n,r]=As(),a=()=>_n(d,"$autoMarginTop",n),i=()=>_n(h,"$autoMarginBottom",n);function o(v){return Array.isArray(v)?v:[v]}let c=T(()=>e.plot.options.x.tickRotate||0),f=T(()=>e.anchor==="bottom"?e.marginTop+e.height:e.marginTop),l=T(()=>e.scaleType!=="point"&&e.scaleType!=="band");const u=uf(),{autoMarginTop:d,autoMarginBottom:h}=Rt("svelteplot/autoMargins");let b=ve([]);const g=T(()=>{let v=A_(e.ticks.map((S,A)=>({value:S,hidden:!1,dx:+Pt(e.options.dx,S,0),dy:+Pt(e.options.dy,S,0),x:e.scaleFn(S)+(e.scaleType==="band"?e.scaleFn.bandwidth()*.5:0),text:o(e.tickFormat(S,A)),element:null})));const p=v.length;for(let S=0;S<p;S++){let A=S;do A--;while(A>=0&&v[A].hidden);if(A>=0){const x=Math.abs(v[S].x-v[A].x);v[S].hidden=x<15}}return v});oe(()=>{Se(()=>[a(),i()]);const v=e.anchor==="top"?"end":"start",p=Math.ceil(Sa(s(g).map((S,A)=>Pt(e.options.anchor,S.value,v)!==v||S.hidden||!dr(S.value,e.options)?0:b[A]?b[A].getBoundingClientRect().height:0)))+Math.max(0,e.tickPadding+e.tickSize)+(e.title?15:0);isNaN(p)||(e.anchor==="top"&&a().get(u)!==p?a().set(u,p):e.anchor==="bottom"&&i().get(u)!==p&&i().set(u,p))}),oe(()=>()=>{i().has(u)&&i().delete(u),a().has(u)&&a().delete(u)});var m=P_();Ut(m,21,()=>s(g),Qt,(v,p,S)=>{var A=St(),x=at(A);{var k=_=>{var y=E_();const M=T(()=>s(p).text),w=T(()=>S&&s(g)[S-1].text),N=T(()=>Pt(e.tickClass,s(p).value)),C=T(()=>(e.tickSize+e.tickPadding+(s(c)!==0?e.tickFontSize*.35:0))*(e.anchor==="bottom"?1:-1)),R=T(()=>{const[D,q]=Xe(e.plot,s(p),{fontVariant:s(l)?"tabular-nums":"normal",...e.options,fontSize:e.tickFontSize,stroke:null},"fill",{x:!0});return{textStyle:D,textClass:q}});var L=X(y);{var P=D=>{var q=C_();const K=T(()=>{const[Q,it]=Xe(e.plot,s(p),e.options,"stroke",{x:!0});return{tickLineStyle:Q,tickLineClass:it}});et(()=>{At(q,s(K).tickLineStyle),It(q,0,ye(s(K).tickLineClass),"svelte-1nl1h0v"),Y(q,"y2",e.anchor==="bottom"?e.tickSize:-e.tickSize)}),z(D,q)};$(L,D=>{e.tickSize&&D(P)})}var E=V(L);Y(E,"x",0),Y(E,"y",0);var F=X(E);{var j=D=>{var q=St(),K=at(q);{var Q=st=>{var ft=Rb();et(()=>Ht(ft,s(M)[0])),z(st,ft)},it=st=>{var ft=St(),bt=at(ft);Ut(bt,17,()=>s(M),Qt,(W,G,_t)=>{var I=N_();Y(I,"dy",_t?12:0);var Z=X(I,!0);H(I),et(()=>Ht(Z,!s(w)||s(w)[_t]!==s(G)?s(G):"")),z(W,I)}),z(st,ft)};$(K,st=>{s(M).length===1?st(Q):st(it,!1)})}z(D,q)};$(F,D=>{(e.ticks.length>0||S===0||S===e.ticks.length-1)&&D(j)})}H(E),Bn(E,(D,q)=>b[q]=D,D=>b==null?void 0:b[D],()=>[S]),H(y),et(()=>{It(y,0,`tick ${(s(N)||"")??""}`),Y(y,"transform",`translate(${s(p).x+s(p).dx}, ${s(f)+s(p).dy})`),Y(y,"text-anchor",s(c)<0?"end":s(c)>0?"start":"middle"),Y(E,"transform",`translate(0, ${s(C)??""})  rotate(${s(c)??""})`),At(E,s(R).textStyle),It(E,0,ye(s(R).textClass),"svelte-1nl1h0v"),Y(E,"dominant-baseline",s(c)!==0?"central":e.anchor==="bottom"?"hanging":"auto")}),z(_,y)};$(x,_=>{dr(s(p).value,e.options)&&!s(p).hidden&&_(k)})}z(v,A)}),H(m),z(t,m),Nt(),r()}const R_={hour:"numeric",minute:"numeric",month:"short",day:"numeric"},L_=t=>{const e=new Intl.DateTimeFormat(t,R_).format;return n=>e(n).replace(", ",`
`)},F_={month:"short",day:"numeric"},z_=t=>{const e=new Intl.DateTimeFormat(t,F_).format;return n=>e(n).replace(" ",`
`)},O_={month:"short",year:"numeric"},q_=t=>{const e=new Intl.DateTimeFormat(t,O_).format;return n=>e(n).replace(" ",`
`)};function l1(t,e,n){const r=(Su(t.domain[1])-Su(t.domain[0]))/e/864e5*100,a=r<1?L_(n):r<30?z_(n):q_(n);return i=>a(i).split(`
`)}function Su(t){return Co(t)?t.getTime():+t}var D_=dt('<text class="axis-x-title svelte-131v75k"> </text>'),j_=dt("<!><!>",1);function to(t,e){Ct(e,!0);const n={tickSize:6,tickPadding:3,tickFontSize:11,axisXAnchor:"bottom",...Rt("svelteplot/_defaults")};let r=B(e,"data",19,()=>Array.isArray(e.ticks)?e.ticks:[]),a=B(e,"automatic",3,!1),i=B(e,"anchor",19,()=>n.axisXAnchor),o=B(e,"facetAnchor",3,"auto"),c=B(e,"interval",19,()=>typeof e.ticks=="string"?e.ticks:void 0),f=B(e,"tickSize",19,()=>n.tickSize),l=B(e,"tickFontSize",19,()=>n.tickFontSize),u=B(e,"tickPadding",19,()=>n.tickPadding),d=B(e,"tickCount",19,()=>typeof e.ticks=="number"?e.ticks:void 0),h=Ce(e,["$$slots","$$events","$$legacy","ticks","data","automatic","title","anchor","facetAnchor","interval","tickSize","tickFontSize","tickPadding","labelAnchor","tickFormat","tickClass","class","tickCount","tickSpacing"]);const{getPlotState:b}=Rt("svelteplot"),g=T(b),m=T(()=>d()!=null?d():e.tickSpacing!=null?Math.max(3,Math.round(s(g).facetWidth/e.tickSpacing)):Math.max(3,Math.round(s(g).facetWidth/s(g).options.x.tickSpacing))),v=T(()=>r().length>0?r():Ro(s(g).scales.x.type,s(g).options.x.ticks,c()||s(g).options.x.interval,s(g).scales.x.domain,s(g).scales.x.fn,s(m))),p=T(()=>e.tickFormat||s(g).options.x.tickFormat),S=T(()=>typeof s(p)=="function"?s(p):s(g).scales.x.type==="band"||s(g).scales.x.type==="point"?q=>q:s(g).scales.x.type==="time"?typeof s(p)=="object"?q=>Intl.DateTimeFormat(s(g).options.locale,s(p)).format(q):l1(s(g).scales.x,s(g).plotWidth,s(g).options.locale):typeof s(p)=="object"?q=>Intl.NumberFormat(s(g).options.locale,s(p)).format(q):q=>Intl.NumberFormat(s(g).options.locale,{...new Set(s(v).map(Math.log10).map(Math.round)).size>1?{notation:"compact"}:{},...n.numberFormat,style:s(g).options.x.percent?"percent":"decimal"}).format(q)),A=T(()=>{var q,K;return(K=(q=s(g).options)==null?void 0:q.x)==null?void 0:K.label}),x=T(()=>s(g).scales.x.type),k=T(()=>s(x)!=="point"&&s(x)!=="band"),_=T(()=>{var q;return e.title||(s(A)===null?null:s(A)!==void 0?s(A):s(g).scales.x.autoTitle?s(k)?(q=s(g).options.x)!=null&&q.reverse?`â ${s(g).scales.x.autoTitle}${s(g).options.x.percent?" (%)":""}`:`${s(g).scales.x.autoTitle}${s(g).options.x.percent?" (%)":""} â`:s(g).scales.x.autoTitle:"")}),y=T(()=>{var q,K;return e.labelAnchor||((K=(q=s(g).options)==null?void 0:q.x)==null?void 0:K.labelAnchor)||"auto"}),M=T(()=>s(y)==="auto"?s(k)?"right":"center":s(y)),{getFacetState:w}=Rt("svelteplot/facet"),N=T(w),C=T(()=>s(N).left),R=T(()=>s(N).top),L=T(()=>s(N).bottom),P=T(()=>s(N).bottomEmpty),E=T(()=>s(N).topEmpty),F=T(()=>o()!=="auto"?o():i()==="bottom"?"bottom-empty":"top-empty"),j=T(()=>s(F)==="top"?s(R):s(F)==="bottom"?s(L):s(F)==="top-empty"?s(E):s(P)),D=T(()=>r().length?r().map(q=>({__x:q})):[]);Gn(t,on({type:"axisX",get data(){return s(D)},channels:["x"]},()=>h,{x:"__x",get automatic(){return a()},children:(q,K)=>{var Q=j_(),it=at(Q);{var st=W=>{var G=D_(),_t=X(G,!0);H(G),et(I=>{At(G,I),Y(G,"x",s(g).options.marginLeft+s(g).plotWidth*(s(M)==="right"?1:s(M)==="center"?.5:0)),Y(G,"y",i()==="top"?13:s(g).height-13),Y(G,"dominant-baseline",i()==="top"?"auto":"hanging"),Ht(_t,s(_))},[()=>yh(null,{...h,stroke:null,textAnchor:s(M)==="right"?"end":s(M)==="center"?"middle":"start"},{},s(g),"fill")]),z(W,G)};$(it,W=>{s(C)&&s(R)&&s(_)&&W(st)})}var ft=V(it);{var bt=W=>{f1(W,{get scaleFn(){return s(g).scales.x.fn},get scaleType(){return s(g).scales.x.type},get tickFormat(){return s(S)},get ticks(){return s(v)},get marginTop(){return s(g).options.marginTop},get height(){return s(g).facetHeight},get anchor(){return i()},get tickSize(){return f()},get tickPadding(){return u()},get tickFontSize(){return l()},get tickClass(){return e.tickClass},get options(){return h},get title(){return s(_)},get plot(){return s(g)}})};$(ft,W=>{s(j)&&W(bt)})}z(q,Q)},$$slots:{default:!0}})),Nt()}var I_=dt("<line></line>"),B_=dt("<g><!><text> </text></g>"),U_=dt('<g class="axis-y"></g>');function u1(t,e){Ct(e,!0);const[n,r]=As(),a=()=>_n(h,"$autoMarginLeft",n),i=()=>_n(b,"$autoMarginRight",n),o=()=>_n(g,"$autoMarginTop",n),c={top:"hanging",center:"middle",bottom:"auto"},f=T(()=>{let v=e.ticks.map((S,A)=>({value:S,hidden:!1,dx:+Pt(e.options.dx,S,0),dy:+Pt(e.options.dy,S,0),y:e.scaleFn(S)+(e.scaleType==="band"?e.scaleFn.bandwidth()*.5:0),text:e.tickFormat(S),element:null}));const p=v.length;for(let S=0;S<p;S++){let A=S;do A--;while(A>=0&&v[A].hidden);if(A>=0){const x=Math.abs(v[S].y-v[A].y);v[S].hidden=x<15}}return v});let l=ve([]);const u=T(()=>e.scaleType!=="point"&&e.scaleType!=="band"),d=uf(),{autoMarginLeft:h,autoMarginRight:b,autoMarginTop:g}=Rt("svelteplot/autoMargins");oe(()=>{Se(()=>[a(),i()]);const v=e.anchor==="left"?"end":"start",p=Math.ceil(Sa(s(f).map((S,A)=>Pt(e.options.textAnchor,S.value,v)!==v||S.hidden||!dr(S.value,e.options)?0:l[A]?l[A].getBoundingClientRect().width:0)))+Math.max(0,e.tickPadding+e.tickSize);isNaN(p)||(e.anchor==="left"&&a().get(d)!==p?a().set(d,p):e.anchor==="right"&&i().get(d)!==p&&i().set(d,p))}),oe(()=>{Se(()=>[o()]),e.title?o().set(d,20):o().delete(d)}),oe(()=>()=>{a().has(d)&&a().delete(d),i().has(d)&&i().delete(d),o().has(d)&&o().delete(d)});var m=U_();Ut(m,21,()=>s(f),Qt,(v,p,S)=>{var A=St(),x=at(A);{var k=_=>{var y=B_();const M=T(()=>Pt(e.tickClass,s(p).value)),w=T(()=>{const[P,E]=Xe(e.plot,s(p),{fontVariant:s(u)?"tabular-nums":"normal",...e.options,fontSize:e.tickFontSize,stroke:null},"fill",{y:!0});return{textStyle:P,textClass:E}});var N=X(y);{var C=P=>{var E=I_();const F=T(()=>{const[j,D]=Xe(e.plot,s(p),e.options,"stroke",{y:!0});return{tickLineStyle:j,tickLineClass:D}});et(()=>{At(E,s(F).tickLineStyle),It(E,0,ye(s(F).tickLineClass),"svelte-104zy0h"),Y(E,"x2",e.anchor==="left"?-e.tickSize:e.tickSize)}),z(P,E)};$(N,P=>{e.tickSize&&P(C)})}var R=V(N),L=X(R,!0);H(R),Bn(R,(P,E)=>l[E]=P,P=>l==null?void 0:l[P],()=>[S]),H(y),et(P=>{It(y,0,`tick ${(s(M)||"")??""}`),Y(y,"transform",`translate(${s(p).dx+e.marginLeft+(e.anchor==="left"?0:e.width)},${s(p).y+s(p).dy})`),It(R,0,ye([s(w).textClass,{"is-left":e.anchor==="left"}]),"svelte-104zy0h"),At(R,s(w).textStyle),Y(R,"x",(e.tickSize+e.tickPadding)*(e.anchor==="left"?-1:1)),Y(R,"dominant-baseline",c[e.lineAnchor]),Ht(L,P)},[()=>Array.isArray(s(p).text)?s(p).text.join(" "):s(p).text]),z(_,y)};$(x,_=>{dr(s(p).value,e.options)&&!s(p).hidden&&_(k)})}z(v,A)}),H(m),z(t,m),Nt(),r()}var Y_=dt('<text class="axis-x-title svelte-131v75k" dominant-baseline="hanging"> </text>'),W_=dt("<!><!>",1);function Tu(t,e){Ct(e,!0);const n={tickSize:6,tickPadding:3,tickFontSize:11,axisYAnchor:"left",...Rt("svelteplot/_defaults")};let r=B(e,"data",19,()=>Array.isArray(e.ticks)?e.ticks:[]),a=B(e,"automatic",3,!1),i=B(e,"anchor",19,()=>n.axisYAnchor),o=B(e,"facetAnchor",3,"auto"),c=B(e,"interval",19,()=>typeof e.ticks=="string"?e.ticks:void 0),f=B(e,"lineAnchor",3,"center"),l=B(e,"tickSize",19,()=>n.tickSize),u=B(e,"tickFontSize",19,()=>n.tickFontSize),d=B(e,"tickPadding",19,()=>n.tickPadding),h=B(e,"tickCount",19,()=>typeof e.ticks=="number"?e.ticks:void 0),b=Ce(e,["$$slots","$$events","$$legacy","ticks","data","automatic","title","anchor","facetAnchor","interval","lineAnchor","tickSize","tickFontSize","tickPadding","tickFormat","tickClass","tickCount","tickSpacing"]);const{getPlotState:g}=Rt("svelteplot"),m=T(g),v=T(()=>h()!=null?h():e.tickSpacing!=null?Math.max(3,Math.round(s(m).facetHeight/e.tickSpacing)):Math.max(2,Math.round(s(m).facetHeight/s(m).options.y.tickSpacing))),p=T(()=>r().length>0?r():Ro(s(m).scales.y.type,s(m).options.y.ticks,c()||s(m).options.y.interval,s(m).scales.y.domain,s(m).scales.y.fn,s(v))),S=T(()=>e.tickFormat||s(m).options.y.tickFormat),A=T(()=>typeof s(S)=="function"?s(S):s(m).scales.y.type==="band"||s(m).scales.y.type==="point"?j=>j:s(m).scales.y.type==="time"?typeof s(S)=="object"?j=>Intl.DateTimeFormat(s(m).options.locale,s(S)).format(j):l1(s(m).scales.y,s(m).plotWidth,s(m).options.locale):typeof s(S)=="object"?j=>Intl.NumberFormat(s(m).options.locale,s(S)).format(j):j=>Intl.NumberFormat(s(m).options.locale,{...new Set(s(p).map(Math.log10).map(Math.round)).size>1?{notation:"compact"}:{},...n.numberFormat,style:s(m).options.y.percent?"percent":"decimal"}).format(j)),x=T(()=>s(m).options.y.label),k=T(()=>e.title||(s(x)===null?null:s(x)!==void 0?s(x):s(m).scales.y.autoTitle?`â ${s(m).scales.y.autoTitle}${s(m).options.y.percent?" (%)":""}`:"")),{getFacetState:_}=Rt("svelteplot/facet"),y=T(_),M=T(()=>s(y).left),w=T(()=>s(y).leftEmpty),N=T(()=>s(y).right),C=T(()=>s(y).rightEmpty),R=T(()=>s(y).top),L=T(()=>o()!=="auto"?o():i()==="left"?"left-empty":"right-empty"),P=ve(s(L)==="left"?s(M):s(L)==="right"?s(N):s(L)==="left-empty"?s(w):s(C)),E=T(()=>r().length?r().map(j=>({__y:j})):[]);var F=T(()=>({...b,y:"__y"}));Gn(t,on({type:"axisY",get data(){return s(E)},channels:["y"]},()=>s(F),{get automatic(){return a()},children:(j,D)=>{var q=W_(),K=at(q);{var Q=ft=>{var bt=Y_();Y(bt,"y",5);var W=X(bt,!0);H(bt),et(G=>{At(bt,G),Y(bt,"x",i()==="left"?0:s(m).width),Ht(W,s(k))},[()=>yh(null,{...b,stroke:null,textAnchor:i()==="left"?"start":"end"},{},s(m),"fill")]),z(ft,bt)};$(K,ft=>{s(M)&&s(R)&&s(k)&&ft(Q)})}var it=V(K);{var st=ft=>{u1(ft,{get scaleFn(){return s(m).scales.y.fn},get scaleType(){return s(m).scales.y.type},get tickFormat(){return s(A)},get ticks(){return s(p)},get marginLeft(){return s(m).options.marginLeft},get width(){return s(m).facetWidth},get anchor(){return i()},get lineAnchor(){return f()},get tickSize(){return l()},get tickPadding(){return d()},get tickFontSize(){return u()},get tickClass(){return e.tickClass},get options(){return b},get title(){return s(k)},get plot(){return s(m)}})};$(it,ft=>{P&&ft(st)})}z(j,q)},$$slots:{default:!0}})),Nt()}var H_=ct('<div class="title svelte-flrgy1"><!></div>'),X_=dt('<path transform="translate(7.5,7.5)" class="svelte-flrgy1"></path>'),G_=dt('<rect width="15" height="15"></rect>'),V_=ct('<div class="item svelte-flrgy1"><div class="swatch svelte-flrgy1"><svg width="15" height="15"><!></svg></div> <span class="item-label svelte-flrgy1"> </span></div>'),Z_=dt("<stop></stop><stop></stop>",1),K_=dt('<defs><linearGradient x2="1"><stop offset="0%"></stop><!><stop offset="100%"></stop></linearGradient></defs><!><!>',1),Q_=dt("<stop></stop>"),J_=dt('<defs><linearGradient x2="1"></linearGradient></defs><!><!>',1),$_=ct("<div><!> <!></div>");function t8(t,e){Ct(e,!0);let n=B(e,"class",3,null);const{getPlotState:r}=Rt("svelteplot"),a=T(r),i=Rt("svelteplot/_defaults"),o=T(()=>s(a).options.color.label),c=T(()=>s(a).scales.color.type),f=T(()=>{var b;return typeof((b=s(a).options.color)==null?void 0:b.tickFormat)=="function"?s(a).options.color.tickFormat:Intl.NumberFormat(s(a).options.locale,s(a).options.color.tickFormat||i.numberFormat).format}),l=Math.round(Math.random()*1e6).toFixed(32);var u=St(),d=at(u);{var h=b=>{var g=$_(),m=X(g);{var v=x=>{var k=H_(),_=X(k);M2(_,()=>s(o)),H(k),z(x,k)};$(m,x=>{s(o)&&x(v)})}var p=V(m,2);{var S=x=>{var k=St(),_=at(k);Ut(_,16,()=>s(a).scales.color.domain,y=>y,(y,M)=>{var w=V_();const N=T(()=>s(a).scales.symbol.fn(M)),C=T(()=>Ao(s(N)));var R=X(w),L=X(R),P=X(L);{var E=q=>{var K=X_();let Q;et((it,st,ft)=>{Y(K,"d",it),Q=At(K,"",Q,{fill:st,stroke:ft})},[()=>Mo(s(C),40)(),()=>s(a).hasFilledDotMarks?s(a).scales.color.fn(M):"none",()=>s(a).hasFilledDotMarks?null:s(a).scales.color.fn(M)]),z(q,K)},F=q=>{var K=G_();let Q;et(it=>Q=At(K,"",Q,{fill:it}),[()=>s(a).scales.color.fn(M)]),z(q,K)};$(P,q=>{s(a).colorSymbolRedundant?q(E):q(F,!1)})}H(L),H(R);var j=V(R,2),D=X(j,!0);H(j),H(w),et(()=>Ht(D,M)),z(y,w)}),z(x,k)},A=(x,k)=>{{var _=M=>{const w=T(()=>Or(s(a).scales.color.fn.domain())),N=T(()=>s(a).scales.color.range),C=T(()=>s(c)==="quantile"?s(a).scales.color.fn.quantiles():s(c)==="quantize"?s(a).scales.color.fn.thresholds():s(a).scales.color.fn.domain()),R=T(()=>qn(s(w)[0],s(w)[1],(s(w)[1]-s(w)[0])/s(N).length).slice(1)),L=T(()=>({domain:s(w),ticks:s(R)}));pa(M,{maxWidth:"240px",margins:1,marginLeft:1,marginRight:1,marginTop:6,marginBottom:20,height:38,inset:0,get x(){return s(L)},children:(P,E)=>{var F=K_(),j=at(F),D=X(j);Y(D,"id",`gradient-${l??""}`);var q=X(D),K=V(q);Ut(K,17,()=>s(R),Qt,(ft,bt,W)=>{var G=Z_();const _t=T(()=>100*(s(bt)-s(w)[0])/(s(w)[1]-s(w)[0]));var I=at(G),Z=V(I);et((tt,O)=>{Y(I,"offset",`${s(_t)-.001}%`),Y(I,"stop-color",tt),Y(Z,"offset",`${s(_t)??""}%`),Y(Z,"stop-color",O)},[()=>s(a).scales.color.fn(s(C)[W]-.1),()=>s(a).scales.color.fn(s(C)[W])]),z(ft,G)});var Q=V(K);H(D),H(j);var it=V(j);gs(it,{dy:-5,stroke:null,fill:`url(#gradient-${l??""})`});var st=V(it);to(st,{tickSize:18,dy:-17,tickFormat:(ft,bt)=>s(f)(s(C)[bt])}),et(ft=>{Y(q,"stop-color",s(N)[0]),Y(Q,"stop-color",ft)},[()=>s(N).at(-1)]),z(P,F)},$$slots:{default:!0}})},y=M=>{const w=T(()=>Or(s(a).scales.color.domain)),N=T(()=>qn(s(w)[0],s(w)[1],(s(w)[1]-s(w)[0])/7).slice(1)),C=T(()=>({domain:s(w),tickSpacing:30,tickFormat:s(f)}));pa(M,{maxWidth:"240px",margins:1,marginLeft:10,marginRight:10,marginTop:6,marginBottom:20,height:38,inset:0,get x(){return s(C)},children:(R,L)=>{var P=J_(),E=at(P),F=X(E);Y(F,"id",`gradient-${l??""}`),Ut(F,20,()=>s(N),q=>q,(q,K)=>{var Q=Q_();et(it=>{Y(Q,"offset",`${100*(K-s(w)[0])/(s(w)[1]-s(w)[0])}%`),Y(Q,"stop-color",it)},[()=>s(a).scales.color.fn(K)]),z(q,Q)}),H(F),H(E);var j=V(E);gs(j,{dy:-5,stroke:null,fill:`url(#gradient-${l??""})`});var D=V(j);to(D,{tickSize:18,dy:-17}),z(R,P)},$$slots:{default:!0}})};$(x,M=>{s(c)==="quantile"||s(c)==="quantize"||s(c)==="threshold"?M(_):M(y,!1)},k)}};$(p,x=>{s(c)==="ordinal"||s(c)==="categorical"?x(S):x(A,!1)})}H(g),et(()=>It(g,1,`color-legend ${(n()||"")??""}`,"svelte-flrgy1")),z(b,g)};$(d,b=>{s(a).scales.color.manualActiveMarks>0&&b(h)})}z(t,u),Nt()}function e8(t,e,n,r,a={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0}){const i=Math.min(n,r)/2,[o,c,f,l]=(typeof a=="number"?new Array(4).fill(a):[(a==null?void 0:a.topLeft)||0,(a==null?void 0:a.topRight)||0,(a==null?void 0:a.bottomLeft)||0,(a==null?void 0:a.bottomRight)||0]).map(u=>Math.min(u,i));return`
    M ${t+o} ${e}
    H ${t+n-c}
    ${c?`A ${c} ${c} 0 0 1 ${t+n} ${e+c}`:""}
    V ${e+r-l}
    ${l?`A ${l} ${l} 0 0 1 ${t+n-l} ${e+r}`:""}
    H ${t+f}
    ${f?`A ${f} ${f} 0 0 1 ${t} ${e+r-f}`:""}
    V ${e+o}
    ${o?`A ${o} ${o} 0 0 1 ${t+o} ${e}`:""}
    Z
  `}function ge(t,{options:e,datum:n,getPlotState:r}){const a=s1(e,["onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","ontouchcancel","ontouchend","ontouchmove","onwheel"]),i=new Map;for(const[o,c]of Object.entries(a))if(c){const f=l=>{const{scales:u}=r();if(l.layerX!==void 0)if(u.projection){const[d,h]=u.projection.invert([l.layerX,l.layerY]);l.dataX=d,l.dataY=h}else l.dataX=Au(u.x,l.layerX),l.dataY=Au(u.y,l.layerY);c(l,n.hasOwnProperty(ce)?n[ce]:n,n[Yd])};i.set(o,f),t.addEventListener(o.substring(2),f)}return(a.onclick||a.onmousedown||a.onmouseup)&&t.setAttribute("role","button"),{destroy(){for(const[o,c]of i.entries())t.removeEventListener(o.substring(2),c)}}}function Au(t,e){if(t.type==="band"){const n=t.fn.step(),r=Math.floor(e/n);return t.fn.domain()[r]}return t.fn.invert?t.fn.invert(e):void 0}var n8=dt("<path></path>"),r8=dt("<rect></rect>");function d1(t,e){Ct(e,!0);let n=B(e,"class",3,null),r=B(e,"useInsetAsFallbackVertically",3,!0),a=B(e,"useInsetAsFallbackHorizontally",3,!0),i=B(e,"fallbackStyle",3,"fill");const{getPlotState:o}=Rt("svelteplot"),c=T(o),f=T(()=>{var w;return+Pt(e.options.dx,(w=e.datum)==null?void 0:w.datum,0)}),l=T(()=>{var w;return+Pt(e.options.dy,(w=e.datum)==null?void 0:w.datum,0)}),u=T(()=>{var w;return+Pt(e.options.inset,(w=e.datum)==null?void 0:w.datum,0)}),d=T(()=>{var w;return+Pt(e.options.insetLeft,(w=e.datum)==null?void 0:w.datum,a()?s(u):0)}),h=T(()=>{var w;return+Pt(e.options.insetRight,(w=e.datum)==null?void 0:w.datum,a()?s(u):0)}),b=T(()=>{var w;return+Pt(e.options.insetTop,(w=e.datum)==null?void 0:w.datum,r()?s(u):0)}),g=T(()=>{var w;return+Pt(e.options.insetBottom,(w=e.datum)==null?void 0:w.datum,r()?s(u):0)}),m=T(()=>e.options.borderRadius??0),v=T(()=>typeof s(m)=="number"&&s(m)>0||typeof s(m)=="object"&&Math.max(s(m).topRight??0,s(m).bottomRight??0,s(m).topLeft??0,s(m).bottomLeft??0)>0),p=T(()=>Xe(s(c),e.datum,e.options,i(),e.usedScales)),S=T(()=>Vu(s(p),2)),A=T(()=>s(S)[0]),x=T(()=>s(S)[1]);var k=St(),_=at(k);{var y=w=>{var N=n8();wa(N,(C,R)=>ge==null?void 0:ge(C,R),()=>{var C;return{getPlotState:o,options:e.options,datum:(C=e.datum)==null?void 0:C.datum}}),et(C=>{Y(N,"transform",`translate(${e.x+s(f)+s(d)},${e.y+s(g)+s(l)})`),Y(N,"d",C),It(N,0,ye([s(x),n()])),At(N,s(A))},[()=>e8(0,0,e.width-s(d)-s(h),e.height-s(b)-s(g),s(m))]),z(w,N)},M=w=>{var N=r8();wa(N,(C,R)=>ge==null?void 0:ge(C,R),()=>{var C;return{getPlotState:o,options:e.options,datum:(C=e.datum)==null?void 0:C.datum}}),et(()=>{Y(N,"transform",`translate(${e.x+s(f)+s(d)},${e.y+s(g)+s(l)})`),Y(N,"width",e.width-s(d)-s(h)),Y(N,"height",e.height-s(b)-s(g)),It(N,0,ye([s(x),n()])),At(N,s(A))}),z(w,N)};$(_,w=>{s(v)?w(y):w(M,!1)})}z(t,k),Nt()}function gs(t,e){Ct(e,!0);let n=B(e,"class",3,"frame"),r=Ce(e,["$$slots","$$events","$$legacy","automatic","class","fill","stroke","fillOpacity","strokeOpacity"]);const{getPlotState:a}=Rt("svelteplot"),i=T(a);Gn(t,{type:"frame",get automatic(){return e.automatic},children:(c,f)=>{let l=()=>f==null?void 0:f().usedScales;const u=T(()=>({fill:e.fill,stroke:e.stroke,fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity,datum:{},valid:!0})),d=T(()=>({...r,fill:e.fill,stroke:e.stroke,fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}));d1(c,{get class(){return n()},get datum(){return s(u)},get x(){return s(i).options.marginLeft},get y(){return s(i).options.marginTop},get width(){return s(i).facetWidth},get height(){return s(i).facetHeight},get usedScales(){return l()},fallbackStyle:"stroke",get options(){return s(d)}})},$$slots:{default:!0}}),Nt()}var a8=dt("<line></line>"),i8=dt('<g class="grid-x"></g>');function o8(t,e){Ct(e,!0);let n=B(e,"data",19,()=>[]),r=B(e,"automatic",3,!1),a=Ce(e,["$$slots","$$events","$$legacy","data","automatic"]);const{getPlotState:i}=Rt("svelteplot"),o=T(i),c=T(()=>Math.max(3,Math.round(s(o).facetWidth/s(o).options.x.tickSpacing))),f=T(()=>n().length>0?n():Ro(s(o).scales.x.type,s(o).options.x.ticks,s(o).options.x.interval,s(o).scales.x.domain,s(o).scales.x.fn,s(c))),l=T(()=>n().length?n().map(d=>({[ce]:d})):[]);var u=T(()=>({...a,x:ce}));Gn(t,on({type:"gridX",get data(){return s(l)},channels:["y1","y2","x","stroke","strokeOpacity"]},()=>s(u),{get automatic(){return r()},children:(h,b)=>{let g=()=>b==null?void 0:b().usedScales;var m=i8();Ut(m,21,()=>s(f),Qt,(v,p)=>{var S=St(),A=at(S);{var x=k=>{var _=a8();const y=T(()=>s(o).scales.x.fn(s(p))+(s(o).scales.x.type==="band"?s(o).scales.x.fn.bandwidth()*.5:0)),M=T(()=>re("y1",s(p),a)),w=T(()=>re("y2",s(p),a)),N=T(()=>e.y1!=null?s(o).scales.y.fn(s(M)):0),C=T(()=>e.y2!=null?s(o).scales.y.fn(s(w)):s(o).facetHeight),R=T(()=>{const[L,P]=Xe(s(o),{datum:{[ce]:s(p)}},a,"stroke",g(),!0);return{style:L,styleClass:P}});et(()=>{It(_,0,ye(s(R).styleClass),"svelte-fr4e7h"),Y(_,"transform",`translate(${s(y)??""},${s(o).options.marginTop??""})`),At(_,s(R).style),Y(_,"y1",s(N)),Y(_,"y2",s(C))}),z(k,_)};$(A,k=>{dr(s(p),a)&&k(x)})}z(v,S)}),H(m),z(h,m)},$$slots:{default:!0}})),Nt()}var c8=dt("<line></line>"),s8=dt('<g class="grid-y"></g>');function f8(t,e){Ct(e,!0);let n=B(e,"data",19,()=>[]),r=B(e,"automatic",3,!1),a=Ce(e,["$$slots","$$events","$$legacy","data","automatic"]);const{getPlotState:i}=Rt("svelteplot"),o=T(i),c=T(()=>Math.max(2,Math.round(s(o).facetHeight/s(o).options.y.tickSpacing))),f=T(()=>n().length>0?n():Ro(s(o).scales.y.type,s(o).options.y.ticks,s(o).options.y.interval,s(o).scales.y.domain,s(o).scales.y.fn,s(c))),l=T(()=>n().length?n().map(d=>({[ce]:d})):[]);var u=T(()=>({...a,y:ce}));Gn(t,on({type:"gridY",get data(){return s(l)},channels:["x1","x2","y","stroke","strokeOpacity"]},()=>s(u),{get automatic(){return r()},children:(h,b)=>{let g=()=>b==null?void 0:b().usedScales;var m=s8();Ut(m,21,()=>s(f),Qt,(v,p)=>{var S=St(),A=at(S);{var x=k=>{var _=c8();const y=T(()=>s(o).scales.y.fn(s(p))+(s(o).scales.y.type==="band"?s(o).scales.y.fn.bandwidth()*.5:0)),M=T(()=>re("x1",s(p),a)),w=T(()=>re("x2",s(p),a)),N=T(()=>e.x1!=null?s(o).scales.x.fn(s(M)):0),C=T(()=>e.x2!=null?s(o).scales.x.fn(s(w)):s(o).facetWidth),R=T(()=>{const[L,P]=Xe(s(o),{datum:{[ce]:s(p)}},a,"stroke",g(),!0);return{style:L,styleClass:P}});et(()=>{At(_,s(R).style),It(_,0,ye(s(R).styleClass),"svelte-fr4e7h"),Y(_,"transform",`translate(${s(o).options.marginLeft??""},${s(y)??""})`),Y(_,"x1",s(N)),Y(_,"x2",s(C))}),z(k,_)};$(A,k=>{dr(s(p),a)&&k(x)})}z(v,S)}),H(m),z(h,m)},$$slots:{default:!0}})),Nt()}var l8=ct('<div class="item svelte-4zaffs"><div class="swatch svelte-4zaffs"><svg width="15" height="15"><path transform="translate(7.5,7.5)" class="svelte-4zaffs"></path></svg></div> <span class="item-label svelte-4zaffs"> </span></div>'),u8=ct('<div class="symbol-legend svelte-4zaffs"></div>');function d8(t,e){Ct(e,!0);const{getPlotState:n}=Rt("svelteplot");let r=T(n);var a=St(),i=at(a);{var o=c=>{var f=u8();Ut(f,20,()=>s(r).scales.color.domain,l=>l,(l,u)=>{var d=l8();const h=T(()=>s(r).scales.symbol.fn(u)),b=T(()=>Ao(s(h))),g=T(()=>s(r).colorSymbolRedundant?s(r).scales.color.fn(u):"currentColor");var m=X(d),v=X(m),p=X(v);let S;H(v),H(m);var A=V(m,2),x=X(A,!0);H(A),H(d),et(k=>{Y(p,"d",k),S=At(p,"",S,{fill:s(r).hasFilledDotMarks?s(g):"none",stroke:s(r).hasFilledDotMarks?null:s(g)}),Ht(x,u)},[()=>Mo(s(b),40)()]),z(l,d)}),H(f),z(c,f)};$(i,c=>{s(r).scales.color.manualActiveMarks>0&&c(o)})}z(t,a),Nt()}var h8=dt("<g><!></g>"),b8=dt("<g><!></g>"),g8=dt("<!><!>",1);function m8(t,e){Ct(e,!0);const{getPlotState:n}=Rt("svelteplot"),r=T(n),a=T(()=>s(r).scales.fx.domain.length>0),i=T(()=>s(r).scales.fy.domain.length>0),o=T(()=>s(a)?s(r).scales.fx.domain:[!0]),c=T(()=>s(i)?s(r).scales.fy.domain:[!0]),f=T(()=>sr().paddingInner(.1).domain(s(o)).rangeRound([0,s(r).plotWidth])),l=T(()=>sr().paddingInner(.1).domain(s(c)).rangeRound([0,s(r).plotHeight]));var u=g8(),d=at(u);{var h=m=>{var v=h8(),p=X(v);const S=T(()=>s(r).options.fx.axisOptions||{});f1(p,on({get scaleFn(){return s(f)},scaleType:"band",get ticks(){return s(o)},tickFormat:A=>A,tickSize:0,tickPadding:5,get anchor(){return s(r).options.fx.axis},get options(){return s(S)}},()=>s(r).options.fx.axisProps||{},{get height(){return s(r).plotHeight},get marginTop(){return s(r).options.marginTop},get plot(){return s(r)}})),H(v),et(()=>Y(v,"transform",`translate(${s(r).options.marginLeft??""}, 0)`)),z(m,v)};$(d,m=>{s(o).length>1&&s(r).options.fx.axis&&m(h)})}var b=V(d);{var g=m=>{var v=b8(),p=X(v);const S=T(()=>s(r).options.fy.axisOptions||{});u1(p,on({get scaleFn(){return s(l)},scaleType:"band",get ticks(){return s(c)},tickFormat:A=>A,tickSize:0,tickPadding:5,get anchor(){return s(r).options.fy.axis},lineAnchor:"center",get options(){return s(S)}},()=>s(r).options.fy.axisProps||{},{get width(){return s(r).plotWidth},get marginLeft(){return s(r).options.marginLeft},get plot(){return s(r)}})),H(v),et(()=>Y(v,"transform",`translate(0, ${s(r).options.marginTop??""})`)),z(m,v)};$(b,m=>{s(c).length>1&&s(r).options.fy.axis&&m(g)})}z(t,u),Nt()}function pt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const v8=pt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),p8=pt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),y8=pt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),_8=pt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),x8=pt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),w8=pt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),k8=pt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),M8=pt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),S8=pt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),T8=pt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ot=t=>Mp(t[t.length-1]);var h1=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(pt);const b1=Ot(h1);var g1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(pt);const m1=Ot(g1);var v1=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(pt);const p1=Ot(v1);var y1=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(pt);const _1=Ot(y1);var ms=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(pt);const eo=Ot(ms);var x1=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(pt);const w1=Ot(x1);var vs=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(pt);const no=Ot(vs);var k1=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(pt);const M1=Ot(k1);var S1=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(pt);const T1=Ot(S1);var A1=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(pt);const C1=Ot(A1);var N1=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(pt);const E1=Ot(N1);var P1=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(pt);const R1=Ot(P1);var L1=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(pt);const F1=Ot(L1);var z1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(pt);const O1=Ot(z1);var q1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(pt);const D1=Ot(q1);var j1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(pt);const I1=Ot(j1);var B1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(pt);const U1=Ot(B1);var Y1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(pt);const W1=Ot(Y1);var H1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(pt);const X1=Ot(H1);var G1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(pt);const V1=Ot(G1);var Z1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(pt);const K1=Ot(Z1);var Q1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(pt);const J1=Ot(Q1);var $1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(pt);const tb=Ot($1);var ps=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(pt);const ro=Ot(ps);var eb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(pt);const nb=Ot(eb);var rb=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(pt);const ab=Ot(rb);var ib=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(pt);const ob=Ot(ib);function cb(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const sb=Ws(cn(300,.5,0),cn(-240,.5,1));var fb=Ws(cn(-100,.75,.35),cn(80,1.5,.8)),lb=Ws(cn(260,.75,.35),cn(80,1.5,.8)),gi=cn();function ub(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return gi.h=360*t-100,gi.s=1.5-1.5*e,gi.l=.8-.9*e,gi+""}var mi=Aa(),A8=Math.PI/3,C8=Math.PI*2/3;function db(t){var e;return t=(.5-t)*Math.PI,mi.r=255*(e=Math.sin(t))*e,mi.g=255*(e=Math.sin(t+A8))*e,mi.b=255*(e=Math.sin(t+C8))*e,mi+""}function hb(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Lo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const bb=Lo(pt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var gb=Lo(pt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mb=Lo(pt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),vb=Lo(pt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const N8=["#4269d0","#efb118","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e","#9498a0"],pb=new Map([["accent",p8],["category10",v8],["dark2",y8],["observable10",N8],["paired",_8],["pastel1",x8],["pastel2",w8],["set1",k8],["set2",M8],["set3",S8],["tableau10",T8]]);function E8(t){return t!=null&&pb.has(`${t}`.toLowerCase())}const ys=new Map([["brbg",bn(h1,b1)],["prgn",bn(g1,m1)],["piyg",bn(v1,p1)],["puor",bn(y1,_1)],["rdbu",bn(ms,eo)],["rdgy",bn(x1,w1)],["rdylbu",bn(vs,no)],["rdylgn",bn(k1,M1)],["spectral",bn(S1,T1)],["burd",Cu(ms,eo)],["buylrd",Cu(vs,no)],["blues",Kt(Q1,J1)],["greens",Kt($1,tb)],["grays",Kt(ps,ro)],["greys",Kt(ps,ro)],["oranges",Kt(ib,ob)],["purples",Kt(eb,nb)],["reds",Kt(rb,ab)],["turbo",gn(hb)],["viridis",gn(bb)],["magma",gn(gb)],["inferno",gn(mb)],["plasma",gn(vb)],["cividis",gn(cb)],["cubehelix",gn(sb)],["warm",gn(fb)],["cool",gn(lb)],["bugn",Kt(A1,C1)],["bupu",Kt(N1,E1)],["gnbu",Kt(P1,R1)],["orrd",Kt(L1,F1)],["pubu",Kt(q1,D1)],["pubugn",Kt(z1,O1)],["purd",Kt(j1,I1)],["rdpu",Kt(B1,U1)],["ylgn",Kt(H1,X1)],["ylgnbu",Kt(Y1,W1)],["ylorbr",Kt(G1,V1)],["ylorrd",Kt(Z1,K1)],["rainbow",Nu(ub)],["sinebow",Nu(db)]]);function P8(t){return ys.has(`${t}`.toLowerCase())}function Kt(t,e){return n=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Xa(e,n):t[n])}function bn(t,e){return n=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Xa(e,n):t[n])}function Cu(t,e){return n=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Xa(r=>e(1-r),n):t[n].slice().reverse())}function gn(t){return e=>Xa(t,Math.max(2,Math.floor(e)))}function Nu(t){return e=>Xa(t,Math.floor(e)+1).slice(0,-1)}function Eu(t){const e=`${t}`.toLowerCase();if(!ys.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return ys.get(e)}const _s=new Map([["brbg",b1],["prgn",m1],["piyg",p1],["puor",_1],["rdbu",eo],["rdgy",w1],["rdylbu",no],["rdylgn",M1],["spectral",T1],["burd",t=>eo(1-t)],["buylrd",t=>no(1-t)],["blues",J1],["greens",tb],["grays",ro],["greys",ro],["purples",nb],["reds",ab],["oranges",ob],["turbo",hb],["viridis",bb],["magma",gb],["inferno",mb],["plasma",vb],["cividis",cb],["cubehelix",sb],["warm",fb],["cool",lb],["bugn",C1],["bupu",E1],["gnbu",R1],["orrd",F1],["pubugn",O1],["pubu",D1],["purd",I1],["rdpu",U1],["ylgnbu",W1],["ylgn",X1],["ylorbr",V1],["ylorrd",K1],["rainbow",ub],["sinebow",db]]);function R8(t){return _s.has(String(t).toLowerCase())}function Pu(t){const e=`${t}`.toLowerCase();if(!_s.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return _s.get(e)}const L8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function F8(t){return t!=null&&L8.has(`${t}`.toLowerCase())}function yb(t,e,n={}){const r=t(...e);for(const[a,i]of Object.entries(n)){if(typeof r[a]!="function")throw new Error(`function ${a} does not exist`);r[a](i)}return r}function xs(t,e=6){const n=t[0]<0&&t[1]<0;n&&(t=[t[0]*-1,t[1]*-1]);const r=t[1]<t[0];if(r&&(t=t.slice(0).reverse()),t[0]<0||t[1]<0)return[];if(t[0]===0)return Ma(t[0],t[1],e-2);let a=1;e+=2;let i=Ru(t,a);if(i[0].num>e)for(;i[0].num>e;)a*=10,i=Ru(t,a);else if(i[i.length-1].num<e){const c=Ma(t[0],t[1],e-2);return r&&c.reverse(),c}e-=2;const o=i.map(c=>({...c,ticks:c.ticks.filter(f=>f>=t[0]&&f<=t[1])})).map(c=>({...c,diff:Math.abs(c.ticks.length-e)})).sort((c,f)=>c.diff-f.diff)[0].ticks;return r&&o.reverse(),n?o.map(c=>c*-1):o}const z8=[[10],[5,4,5],[3,10/3],[2,2.5,2],[1.5,2,5/3,2]];function Ru(t,e=1){return z8.map(n=>{let r=Math.pow(10,Math.floor(Math.log10(t[0]))),a=0;const i=[r];for(;r<t[1]&&i.length<50;)r*=n[a]*e,i.push(r),a=(a+1)%n.length;return{ticks:i,num:i.length}})}const O8={point:np,band:sr,linear:Fi,time:uy,sqrt:a5,pow:Qs,log:Vs,symlog:bd,ordinal:ho,sequential:tf,diverging:nf},Nc={linear:tf,log:Od,symlog:qd,pow:ef,sqrt:dy,"quantile-cont":Dd},Ec={diverging:nf,"diverging-log":jd,"diverging-symlog":Id,"diverging-pow":rf,"diverging-sqrt":hy},Lu={threshold:vd,quantize:md,quantile:gd};function q8({name:t,type:e,domain:n,scaleOptions:r,plotOptions:a,plotWidth:i,plotHeight:o,plotHasFilledDotMarks:c,plotDefaults:f}){let l,u;u=(r==null?void 0:r.range)||j8(t,r,a,i,o,c),r.reverse&&u.reverse();const d=t==="x"||t==="y"?Math.round(Math.abs(u[0]-u[1])/r.tickSpacing):void 0,h={domain:n,range:u,...(e==="linear"||e==="log")&&r.nice?{nice:r.nice?d:!0}:{},...e==="linear"?{clamp:r.clamp,...r.round?{interpolate:mo}:{}}:{},...e==="log"?{base:r.base||10}:{},...e==="symlog"?{constant:r.constant||1}:{},...e==="band"||e==="point"?{align:r.align,padding:E3(C3(r.padding,a.padding,.15))}:{}};if(l=yb(O8[e],[],h),(e==="band"||e==="point")&&(l.ticks=()=>n),e==="log")l.ticks=b=>xs(n,b);else if(e==="symlog"){const b=Math.max(Math.abs(n[0]),Math.abs(n[1]));l.ticks=g=>{const m=xs([h.constant+1,b],g/2);return[...m.map(v=>-v).reverse(),0,...m]}}return l}function D8({type:t,domain:e,scaleOptions:n,plotOptions:r,plotWidth:a,plotHeight:i,plotHasFilledDotMarks:o,plotDefaults:c}){let f,l;const{scheme:u,interpolate:d,pivot:h,n:b=t==="threshold"?e.length+1:9,unknown:g=c.unknown}=n;if(t==="categorical"||t==="ordinal"){let m=u||c.categoricalColorScheme;if(bs(m)){const v=Object.values(m),p=Object.keys(m);for(const S of e)m[S]==null&&(p.push(S),v.push(g));e=p,m=v}l=Array.isArray(m)?m:E8(m)?pb.get(m):Eu(m)(e.length),f=ho().domain(e).range(l)}else if(Lu[t]){const m=u||c.colorScheme;if(l=Array.isArray(m)&&(n.n==null||n.n===m.length)?m.slice(0):Array.isArray(m)?qn(b).map(v=>v/(b-1)).map(Fi(m.map((v,p)=>p/(m.length-1)),m).interpolate(kl)):d?qn(b).map(v=>d(v/(b-1))):P8(m)?Eu(m)(b):null,l==null)throw new Error("unknown ordinal scheme "+m);n.reverse&&(l=l.toReversed()),f=Lu[t]().domain(e).range(l)}else if(Nc[t]||Ec[t]){const m=Nc[t]||Ec[t],v=u||c.colorScheme;if(d)f=m(e,d);else if(Array.isArray(v)){const p=1/(v.length-1);f=m(e,(t==="linear"?Fi:Vs)(qn(0,1+p/2,p),v).interpolate(kl))}else if(Ec[t]||n.type==="auto"&&F8(v)){const p=Math.max(Math.abs(e[0]),Math.abs(e[1])),S=h!=null?[e[0],h,e[1]]:[-p,0,p];f=m(S,Pu(v))}else(Nc[t]||n.type==="auto"&&R8(v))&&(f=m(e,Pu(v)));t==="log"&&(f.ticks=p=>xs(e,p))}return f||(console.warn("color problem",t),f=()=>"red",f.range=()=>["red"]),f}function j8(t,e,n,r,a,i){const{marginTop:o,marginLeft:c,inset:f}=n,{insetLeft:l,insetRight:u,insetTop:d,insetBottom:h}=e;return t==="opacity"?[0,1]:t==="length"?[0,20]:t==="x"?[c+(l||f||0),c+r-(u||f||0)]:t==="y"?[a+o-(h||f||0),o+(d||f||0)]:t==="r"?[0,10]:t==="symbol"?i?["circle","cross","diamond","square","star","triangle","wye"]:["circle","plus","times","triangle2","asterisk","square2","diamond2"]:[]}const I8=df({stream:t=>t}),B8=df({...ds({point(t,e){this.stream.point(t,-e)}}),invert(t,e){return[t,-e]}}),_b=Math.PI,mn=2*_b;function U8(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Be(m6,.7463,.4673);case"albers":return vi(Yh,.7463,.4673);case"azimuthal-equal-area":return Be(v6,4,4);case"azimuthal-equidistant":return Be(p6,mn,mn);case"conic-conformal":return vi(x6,mn,mn);case"conic-equal-area":return vi(Qi,6.1702,2.9781);case"conic-equidistant":return vi(M6,7.312,3.6282);case"equal-earth":return Be(T6,5.4133,2.6347);case"equirectangular":return Be(w6,mn,_b);case"gnomonic":return Be(A6,3.4641,3.4641);case"identity":return{type:I8};case"reflect-y":return{type:B8};case"mercator":return Be(y6,mn,mn);case"orthographic":return Be(C6,2,2);case"stereographic":return Be(N6,2,2);case"transverse-mercator":return Be(E6,mn,mn);default:throw new Error(`unknown projection type: ${t}`)}}function Be(t,e,n){return{type:({width:r,height:a,rotate:i,precision:o=.15,clip:c})=>{var l,u,d;const f=t();return o!=null&&((l=f.precision)==null||l.call(f,o)),i!=null&&((u=f.rotate)==null||u.call(f,i)),typeof c=="number"&&((d=f.clipAngle)==null||d.call(f,c)),f.scale(Math.min(r/e,a/n)),f.translate([r/2,a/2]),f},aspectRatio:n/e}}function vi(t,e,n){const{type:r,aspectRatio:a}=Be(t,e,n);return{type:i=>{const{parallels:o,domain:c,width:f,height:l}=i,u=r(i);return o!=null&&(u.parallels(o),c===void 0&&u.fitSize([f,l],{type:"Sphere"})),u},aspectRatio:a}}var Y8=ct("<h2> </h2>"),W8=ct("<h3> </h3>"),H8=ct("<!> <!> <!> <!> <!>",1),X8=ct("<div> </div>"),G8=ct("<!> <!>",1),V8=ct('<div class="error svelte-10jwb7w"> </div>'),Z8=dt('<tspan x="0"> </tspan>'),K8=dt('<text class="error svelte-10jwb7w" transform="translate(10,10)"></text>'),Q8=ct("<!> <!>",1),J8=ct("<!> <!>",1),$8=ct("<!> <!> <!> <!> <!> <!>",1);function pa(t,e){Ct(e,!0);const n=l=>{var u=H8(),d=at(u);{var h=k=>{var _=Y8(),y=X(_,!0);H(_),et(()=>Ht(y,e.title)),z(k,_)};$(d,k=>{e.title&&k(h)})}var b=V(d,2);{var g=k=>{var _=W8(),y=X(_,!0);H(_),et(()=>Ht(y,e.subtitle)),z(k,_)};$(b,k=>{e.subtitle&&k(g)})}var m=V(b,2);{var v=k=>{var _=St(),y=at(_);le(y,()=>e.header??Ye),z(k,_)};$(m,k=>{e.header&&k(v)})}var p=V(m,2);{var S=k=>{t8(k,{})};$(p,k=>{var _;(_=e.color)!=null&&_.legend&&k(S)})}var A=V(p,2);{var x=k=>{d8(k,{})};$(A,k=>{var _;(_=e.symbol)!=null&&_.legend&&k(x)})}z(l,u)},r=l=>{var u=G8(),d=at(u);{var h=m=>{var v=X8(),p=X(v,!0);H(v),et(()=>Ht(p,e.caption)),z(m,v)};$(d,m=>{e.caption&&m(h)})}var b=V(d,2);{var g=m=>{var v=St(),p=at(v);le(p,()=>e.footer??Ye),z(m,v)};$(b,m=>{e.footer&&m(g)})}z(l,u)};let a=Ce(e,["$$slots","$$events","$$legacy","header","footer","overlay","underlay","children","testid","facet","projection"]);const i=T(()=>{var l;if(e.projection&&typeof e.projection!="function"&&typeof((l=e.projection)==null?void 0:l.type)!="function"){const{type:u,aspectRatio:d}=U8(Zc(e.projection)?e.projection.type:e.projection);return{...Zc(e.projection)?e.projection:{},type:u,aspectRatio:d}}return e.projection}),o=T(()=>Object.fromEntries(["x","y","r","color","opacity","symbol","length","fx","fy"].map(l=>{const u=a[l]||{},d=u.scale||(l==="color"?D8:q8);return[l,{...u,scale:d}]})));var c=St(),f=at(c);Df(f,{failed:(u,d=Ye)=>{var h=V8(),b=X(h);H(h),et(()=>Ht(b,`Error: ${d().message??""}`)),z(u,h)}},u=>{const d=T(()=>{var b,g;return e.header||e.title||e.subtitle||(b=e.color)!=null&&b.legend||(g=e.symbol)!=null&&g.legend?n:null}),h=T(()=>e.footer||e!=null&&e.caption?r:null);Q6(u,on({get overlay(){return e.overlay},get underlay(){return e.underlay}},()=>a,{get header(){return s(d)},get footer(){return s(h)},get projection(){return s(i)},implicitScales:!0},()=>s(o),{children:(m,v)=>{let p=()=>v==null?void 0:v().hasProjection,S=()=>v==null?void 0:v().hasExplicitAxisX,A=()=>v==null?void 0:v().hasExplicitAxisY,x=()=>v==null?void 0:v().hasExplicitGridX,k=()=>v==null?void 0:v().hasExplicitGridY,_=()=>v==null?void 0:v().options,y=()=>v==null?void 0:v().scales,M=()=>s2(v==null?void 0:v(),["hasProjection","hasExplicitAxisX","hasExplicitAxisY","hasExplicitGridX","hasExplicitGridY","options","scales"]);var w=St(),N=at(w);Df(N,{onerror:R=>console.warn(R),failed:(R,L=Ye,P=Ye)=>{var E=K8();Ut(E,21,()=>L().message.split(`
`),Qt,(F,j,D)=>{var q=Z8();Y(q,"dy",D?14:0);var K=X(q,!0);H(q),et(()=>Ht(K,s(j))),z(F,q)}),H(E),z(R,E)}},R=>{var L=$8(),P=at(L);{var E=W=>{var G=Q8(),_t=at(G);{var I=O=>{to(O,{anchor:"top",automatic:!0})};$(_t,O=>{_().axes&&(_().x.axis==="top"||_().x.axis==="both")&&O(I)})}var Z=V(_t,2);{var tt=O=>{to(O,{anchor:"bottom",automatic:!0})};$(Z,O=>{_().axes&&(_().x.axis==="bottom"||_().x.axis==="both")&&O(tt)})}z(W,G)};$(P,W=>{!p()&&!S()&&W(E)})}var F=V(P,2);{var j=W=>{var G=J8(),_t=at(G);{var I=O=>{Tu(O,{anchor:"left",automatic:!0})};$(_t,O=>{_().axes&&(_().y.axis==="left"||_().y.axis==="both")&&O(I)})}var Z=V(_t,2);{var tt=O=>{Tu(O,{anchor:"right",automatic:!0})};$(Z,O=>{_().axes&&(_().y.axis==="right"||_().y.axis==="both")&&O(tt)})}z(W,G)};$(F,W=>{!p()&&!A()&&W(j)})}var D=V(F,2);{var q=W=>{o8(W,{automatic:!0})};$(D,W=>{!x()&&(_().grid||_().x.grid)&&W(q)})}var K=V(D,2);{var Q=W=>{f8(W,{automatic:!0})};$(K,W=>{!k()&&(_().grid||_().y.grid)&&W(Q)})}var it=V(K,2);{var st=W=>{gs(W,{automatic:!0})};$(it,W=>{_().frame&&W(st)})}var ft=V(it,2),bt=Tr(()=>({options:_(),scales:y(),...M()}));le(ft,()=>e.children??Ye,()=>s(bt)),z(R,L)}),z(m,w)},facetAxes:m=>{m8(m,{})},$$slots:{default:!0,facetAxes:!0}}))}),z(t,c),Nt()}var t4=dt("<g><!></g>");function xb(t,e){let n=B(e,"length",3,1),r=B(e,"class",3,null),a=Ce(e,["$$slots","$$events","$$legacy","length","children","class"]);var i=St(),o=at(i);{var c=l=>{var u=t4();Cs(u,()=>({class:r(),...a}));var d=X(u);le(d,()=>e.children),H(u),z(l,u)},f=l=>{var u=St(),d=at(u);le(d,()=>e.children),z(l,u)};$(o,l=>{n()>1||r()?l(c):l(f,!1)})}z(t,i)}const e4=new Map([["basis",Xy],["basis-closed",Gy],["basis-open",Vy],["bundle",Zy],["bump-x",Sy],["bump-y",Ty],["cardinal",Ky],["cardinal-closed",Qy],["cardinal-open",Jy],["catmull-rom",$y],["catmull-rom-closed",t3],["catmull-rom-open",e3],["linear",of],["linear-closed",n3],["monotone-x",r3],["monotone-y",a3],["natural",i3],["step",o3],["step-after",s3],["step-before",c3]]);function n4(t=of,e){if(typeof t=="function")return t;const n=e4.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}var Ia,Ba,ws,zu;const en=new(zu=class{constructor(){ie(this,Ba);ie(this,Ia,Ke(window.devicePixelRatio));$n(this,Ba,ws).call(this)}get current(){return s(vt(this,Ia)),window.devicePixelRatio}},Ia=new WeakMap,Ba=new WeakSet,ws=function(){const e=Ku(window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),"change",()=>{rt(vt(this,Ia),window.devicePixelRatio),e(),$n(this,Ba,ws).call(this)})},zu);var r4=ct("<canvas></canvas>"),a4=dt('<foreignObject x="0" y="0" class="svelte-109hb1m"><!></foreignObject>');function wb(t,e){Ct(e,!0);const n=new zv("prefers-color-scheme: dark");let r=jt(void 0);const a=u=>{const d=u.ownerDocument.documentElement,h=new MutationObserver(()=>{rt(r,getComputedStyle(d).colorScheme,!0)});return h.observe(d,{attributes:!0}),()=>{h.disconnect()}};let i=Ce(e,["$$slots","$$events","$$legacy"]);const{getPlotState:o}=Rt("svelteplot"),c=T(o);var f=a4(),l=X(f);_2(l,()=>[s(r),n.current],u=>{var d=r4();Cs(d,()=>({xmlns:"http://www.w3.org/1999/xhtml",...i,width:s(c).width*(en.current??1),height:s(c).height*(en.current??1),style:`width: ${s(c).width??""}px; height: ${s(c).height??""}px;`}),void 0,"svelte-109hb1m"),z(u,d)}),H(f),$u(f,()=>a),et(()=>{Y(f,"width",s(c).width),Y(f,"height",s(c).height)}),z(t,f),Nt()}function Oa(t,e){var n;if(`${t}`.toLowerCase()==="currentcolor"&&(t=getComputedStyle((n=e==null?void 0:e.parentElement)==null?void 0:n.parentElement).getPropertyValue("color")),Bd.test(t)&&(t=getComputedStyle(e).getPropertyValue(t.slice(4,-1))),Ud.test(t)){const a=t.match(/^url\((#[^\)]+)\)/)[1],i=e.ownerDocument.querySelector(a);if(i&&i.nodeName.toLowerCase()==="lineargradient"){const o=+i.getAttribute("x1"),c=+i.getAttribute("x2"),f=+i.getAttribute("y1"),l=+i.getAttribute("y2"),u=e.getContext("2d").createLinearGradient(o,f,c,l);for(const d of i.querySelectorAll("stop")){const h=+d.getAttribute("offset"),b=Oa(d.getAttribute("stop-color"),e);u.addColorStop(Math.min(1,Math.max(0,h)),b)}return u}}return t}const pi=Symbol("group"),Pc=Symbol("group"),Fu={order:null,offset:null,reverse:!1},i4={none:La,sum:v3,appearance:fh,"inside-out":p3},o4={none:null,diverging:h3,wiggle:g3,center:b3,normalize:d3};function c4(t,e,n,r){const a=[n.fx!=null?"fx":null,n.fy!=null?"fy":null].filter(l=>l!==null),i=n.z?"z":n.fill?"fill":n.stroke?"stroke":!0,o=n.y1!=null?"y1":"y",c=`${t}1`,f=`${t}2`;if(n[t]!=null&&n[`${c}`]===void 0&&n[`${f}`]===void 0){const l=e.map(h=>({...jn(h)?h:{__orig:h},[`__${o}`]:re(o,h,n),[pi]:i===!0?"G":re(i,h,n),[Pc]:a.length>0?a.map(b=>String(re(b,h,n))).join("---"):"F",[`__${t}`]:re(t,h,n)})),u=[],d=Uv(l,h=>h[Pc]);for(const[,h]of d){const b=Yv(h,p=>p[`__${o}`],p=>p[pi]),g=p=>{const S=i4[r.order||"none"];return r.reverse?S(p).reverse():S(p)},v=u3().order(g).offset(o4[r.offset]).keys(ep(h.map(p=>p[pi]))).value(([,p],S)=>p.get(S)?p.get(S)[`__${t}`]:0)(b).map(p=>{const S=p.key;return p.filter(A=>A.data[1].get(S)).map(A=>{const x=A.data[1].get(S);return delete x[pi],delete x[Pc],{...x,[`__${c}`]:A[0],[`__${f}`]:A[1]}})}).flat(1);u.push(v)}return{data:u.flat(1),...n,[t]:void 0,...typeof n[t]=="string"&&!n[`__${t}_origField`]?{[`__${t}_origField`]:n[t]}:{},[c]:`__${c}`,[f]:`__${f}`}}return{data:e,...n}}function s4({data:t,...e},n={}){return c4("x",t,e,f4(n))}function f4(t){return t.offset==="wiggle"&&t.order===void 0?{...Fu,order:"inside-out",...t}:{...Fu,...t}}function l4(t,e){Ct(e,!0);let n=B(e,"data",19,()=>[{}]),r=B(e,"class",3,null),a=Ce(e,["$$slots","$$events","$$legacy","data","class","stack"]);const{getPlotState:i}=Rt("svelteplot"),o=T(i),c=T(()=>s4(P4(xf(A3({data:n(),sort:{channel:"y"},...a})),{plot:s(o)}),e.stack));Gn(t,on({type:"barX",requiredScales:{y:["band"]},channels:["x1","x2","y","fill","stroke","opacity","fillOpacity","strokeOpacity"]},()=>s(c),{children:(l,u)=>{let d=()=>u==null?void 0:u().usedScales,h=()=>u==null?void 0:u().scaledData;xb(l,{class:"bar-x",get length(){return h().length},children:(b,g)=>{var m=St(),v=at(m);Ut(v,17,h,Qt,(p,S)=>{var A=St();const x=T(()=>s(o).scales.y.fn.bandwidth()),k=T(()=>Math.min(s(S).x1,s(S).x2)),_=T(()=>Math.max(s(S).x1,s(S).x2));var y=at(A);{var M=w=>{const N=T(()=>s(S).y-s(x)*.5),C=T(()=>s(_)-s(k));d1(w,{get usedScales(){return d()},get class(){return r()},get options(){return a},get datum(){return s(S)},get x(){return s(k)},useInsetAsFallbackHorizontally:!1,get y(){return s(N)},get width(){return s(C)},get height(){return s(x)}})};$(y,w=>{s(S).valid&&w(M)})}z(p,A)}),z(b,m)},$$slots:{default:!0}})},$$slots:{default:!0}})),Nt()}function u4(t,e){Ct(e,!0);const{getPlotState:n}=Rt("svelteplot"),r=T(n);function a(c,f,l){return Mo(Ao(c),f).context(l)()}let i=ve(e.mark.options);const o=c=>{const f=c.getContext("2d");oe(()=>{if(f){f.resetTransform(),f.scale(en.current??1,en.current??1);for(const l of e.data)if(l.valid){let{fill:u,stroke:d}=l;if(u=Oa(u,c),d=Oa(d,c),d&&d!=="none"){const v=Pt(i.strokeWidth,l.datum,1.6);f.lineWidth=v}f.fillStyle=u||"none",f.strokeStyle=d||"none",f.translate(l.x,l.y);const h=l.r*l.r*Math.PI;f.beginPath(),a(l.symbol,h,f),f.closePath();const{opacity:b=1,fillOpacity:g=1,strokeOpacity:m=1}=l;b!=null&&(f.globalAlpha=b??1),g!=null&&(f.globalAlpha=(b??1)*g),u&&u!=="none"&&f.fill(),m!=null&&(f.globalAlpha=(b??1)*m),d&&d!=="none"&&f.stroke(),f.translate(-l.x,-l.y)}}return()=>{f==null||f.clearRect(0,0,s(r).width*(en.current??1),s(r).height*(en.current??1))}})};wb(t,{[Qu()]:o}),Nt()}var d4=dt("<path></path>"),h4=dt("<g><!></g>");function b4(t,e){Ct(e,!0);let n=B(e,"data",19,()=>[{}]),r=B(e,"canvas",3,!1),a=B(e,"class",3,""),i=B(e,"dotClass",3,null),o=Ce(e,["$$slots","$$events","$$legacy","data","canvas","class","dotClass"]);const{getPlotState:c}=Rt("svelteplot"),f=T(c);function l(b,g){return Mo(Ao(b),g)()}const{getTestFacet:u}=Rt("svelteplot/facet"),{dotRadius:d}=Rt("svelteplot/_defaults"),h=T(()=>xf(hh({data:n(),...e.r?{sort:{channel:"-r"}}:{},...o,...e.fill===!0?{fill:"currentColor"}:{}})));Gn(t,on({type:"dot",required:["x","y"],channels:["x","y","r","symbol","fill","opacity","stroke","fillOpacity","strokeOpacity"],defaults:{r:d,symbol:"circle"}},()=>s(h),{children:(g,m)=>{let v=()=>m==null?void 0:m().mark,p=()=>m==null?void 0:m().usedScales,S=()=>m==null?void 0:m().scaledData;var A=h4(),x=X(A);{var k=y=>{u4(y,{get data(){return S()},get mark(){return v()}})},_=y=>{var M=St(),w=at(M);Ut(w,17,S,Qt,(N,C)=>{var R=St(),L=at(R);{var P=E=>{var F=d4();const j=T(()=>{const[D,q]=Xe(s(f),s(C),{strokeWidth:1.6,...s(h)},"stroke",p());return{style:D,styleClass:q}});wa(F,(D,q)=>ge==null?void 0:ge(D,q),()=>({getPlotState:c,options:s(h),datum:s(C).datum})),et((D,q)=>{Y(F,"transform",`translate(${s(C).x??""}, ${s(C).y??""})`),Y(F,"d",D),It(F,0,q),At(F,s(j).style)},[()=>l(s(C).symbol,s(C).r**2*Math.PI),()=>ye([i()?Pt(i(),s(C).datum,null):null,s(j).styleClass])]),z(E,F)};$(L,E=>{s(C).valid&&Pe(s(C).r)&&E(P)})}z(N,R)}),z(y,M)};$(x,y=>{r()?y(k):y(_,!1)})}H(A),et(()=>It(A,0,`dots ${(a()||"")??""}`)),z(g,A)},$$slots:{default:!0}})),Nt()}var g4=dt("<circle></circle>"),m4=dt("<path></path>"),v4=dt("<marker><!></marker>");function p4(t,e){Ct(e,!0);const n=u=>({viewBox:"-3 -3 6 6",path:"M0,-3v6",width:6,height:6,orient:u,color:"stroke"}),r={circle:{width:6.67,height:6.67,orient:0,color:"fill",bg:"stroke"},dot:{width:6.67,height:6.67,orient:0,color:"fill"},"circle-stroke":{width:6.67,height:6.67,orient:0,color:"stroke",bg:"fill"},tick:n("auto"),"tick-x":n(90),"tick-y":n(0),arrow:{path:"M-1.5,-3l3,3l-3,3",width:6.67,height:6.67,orient:"auto",color:"stroke"},"arrow-reverse":{path:"M1.5,-3l-3,3l3,3",width:6.67,height:6.67,orient:"auto",color:"stroke"}},a=Rt("svelteplot/_defaults").markerDotRadius,i=T(()=>({fill:"none",[r[e.shape].color]:e.color,...r[e.shape].bg?{[r[e.shape].bg]:"var(--svelteplot-bg)"}:{}}));var o=v4();Cs(o,()=>({id:e.id,viewBox:r[e.shape].viewBox||"-5 -5 10 10",markerWidth:r[e.shape].width,orient:r[e.shape].orient,markerHeight:r[e.shape].height,"stroke-width":"1.5",...s(i)}));var c=X(o);{var f=u=>{var d=g4();Y(d,"r",a),z(u,d)},l=u=>{var d=m4();et(()=>Y(d,"d",r[e.shape].path)),z(u,d)};$(c,u=>{e.shape==="dot"||e.shape==="circle"||e.shape==="circle-stroke"?u(f):u(l,!1)})}H(o),z(t,o),Nt()}var y4=dt("<path></path>"),_4=dt('<path stroke="none" fill="none"></path><text dy="-3"><textPath> </textPath></text>',1),x4=dt("<g><!><!><path></path><!></g>");function w4(t,e){Ct(e,!0);let n=B(e,"class",3,null),r=B(e,"textStyleClass",3,null);const a=uf(),{getPlotState:i}=Rt("svelteplot"),o=T(()=>e.text&&e.d!=null?e.d.split(/[LMC]/).slice(1):[]),c=T(()=>s(o).length>0),f=T(()=>e.text&&s(c)?s(o).at(0).split(",").map(Number):[]),l=T(()=>e.text&&s(c)?s(o).at(-1).split(",").map(Number):[]),u=T(()=>e.text&&s(c)?s(f)[0]<s(l).at(-2):!0),d=T(()=>!e.text||s(u)?e.d:e.dInv),h=T(()=>Pt(e.strokeWidth,e.datum,1.4));var b=x4(),g=X(b);Ut(g,17,()=>Object.entries({start:e.markerStart,mid:e.markerMid,end:e.markerEnd,all:e.marker}),([x,k])=>x,(x,k,_,y)=>{var M=T(()=>Vu(s(k),2));let w=()=>s(M)[0],N=()=>s(M)[1];var C=St();const R=T(()=>`marker-${w()==="all"?"":`${w()}-`}${a}`);var L=at(C);{var P=F=>{var j=St(),D=at(j);le(D,N,()=>s(R),()=>e.color),z(F,j)},E=(F,j)=>{{var D=q=>{const K=T(()=>N()===!0?"circle":Pt(N(),e.datum));p4(q,{get id(){return s(R)},get shape(){return s(K)},get color(){return e.color}})};$(F,q=>{N()&&q(D)},j)}};$(L,F=>{N3(N())?F(P):F(E,!1)})}z(x,C)});var m=V(g);{var v=x=>{var k=y4();et(()=>{Y(k,"d",e.d),At(k,`fill:none;stroke-width: ${(e.strokeWidth||1)+10}; stroke: transparent; stroke-opacity:0`)}),z(x,k)};$(m,x=>{(e.mark.options.onmouseenter||e.mark.options.onclick)&&x(v)})}var p=V(m);wa(p,(x,k)=>ge==null?void 0:ge(x,k),()=>({getPlotState:i,options:e.mark.options,datum:e.datum}));var S=V(p);{var A=x=>{var k=_4(),_=at(k);Y(_,"id",a);var y=V(_),M=X(y);Y(M,"href",`#${a??""}`);var w=X(M,!0);H(M),H(y),et(()=>{Y(_,"d",s(d)),At(y,e.textStyle),It(y,0,ye(r()),"svelte-fins8s"),Y(M,"startOffset",e.startOffset),Ht(w,e.text)}),z(x,k)};$(S,x=>{e.text&&x(A)})}H(b),wa(b,(x,k)=>ge==null?void 0:ge(x,k),()=>({getPlotState:i,options:e.mark.options,datum:e.datum})),et(()=>{Y(b,"transform",e.transform),It(b,0,ye(n())),Y(b,"stroke-width",s(h)),Y(p,"marker-start",e.markerStart||e.marker?`url(#marker-${e.markerStart?"start-":""}${a})`:null),Y(p,"marker-mid",e.markerMid||e.marker?`url(#marker-${e.markerMid?"mid-":""}${a})`:null),Y(p,"marker-end",e.markerEnd||e.marker?`url(#marker-${e.markerEnd?"end-":""}${a})`:null),Y(p,"d",e.d),At(p,e.style)}),z(t,b),Nt()}function k4(t,e){Ct(e,!0);const{getPlotState:n}=Rt("svelteplot"),r=T(n);function a(o){return o==null?1:+o}const i=o=>{const c=o.getContext("2d");oe(()=>{if(c){e.linePath.context(c),c.resetTransform(),c.scale(en.current??1,en.current??1),c.lineJoin="round",c.lineCap="round";for(const f of e.groupedLineData){if(f.length<2)continue;const l=f[0];if(!l||!l.valid)continue;let{stroke:u,...d}=ph(l.datum,e.mark.options,e.usedScales,s(r),"stroke");const h=a(d.opacity),b=a(d["stroke-opacity"]),g=Pt(e.mark.options.strokeWidth,l.datum,1.4);if(e.mark.options.outlineStroke){const m=Oa(e.mark.options.outlineStroke,o),v=e.mark.options.outlineStrokeWidth??g+2,p=e.mark.options.outlineStrokeOpacity??1;c.lineWidth=v,c.strokeStyle=m,c.globalAlpha=h*p,c.beginPath(),e.linePath(f),c.stroke()}u=Oa(u,o),u&&u!=="none"&&(c.lineWidth=g??1.4),c.strokeStyle=u||"currentColor",c.globalAlpha=h*b,c.beginPath(),e.linePath(f),c.stroke()}e.linePath.context(null)}return()=>{c==null||c.clearRect(0,0,s(r).width*(en.current??1),s(r).height*(en.current??1))}})};wb(t,{[Qu()]:i}),Nt()}const wr=Symbol("sortKey");function xf({data:t,...e},n={}){if(!Array.isArray(t))return{data:t,...e};if(e.sort){const{sort:r}=e;return jn(r)&&typeof r.channel=="string"&&r.channel.charAt(0)==="-"&&(r.channel=r.channel.substring(1),r.order="descending"),{data:t.map(a=>({...a,[wr]:re("sort",a,{...e,sort:r})})).toSorted((a,i)=>(a[wr]>i[wr]?1:a[wr]<i[wr]?-1:0)*(n.reverse||jn(r)&&(r==null?void 0:r.order)==="descending"?-1:1)).map(({[wr]:a,...i})=>i),...e,sort:null}}return{data:t,...e}}var M4=dt("<path></path>"),S4=dt("<!><!>",1),T4=dt("<g></g>"),A4=ct("; <!>",1);function C4(t,e){Ct(e,!0);let n=B(e,"data",19,()=>[{}]),r=B(e,"curve",3,"auto"),a=B(e,"tension",3,0),i=B(e,"canvas",3,!1),o=B(e,"class",3,null),c=B(e,"lineClass",3,null),f=Ce(e,["$$slots","$$events","$$legacy","data","curve","tension","text","canvas","class","lineClass"]);const l=T(()=>xf(hh({data:n(),...f})));function u(v,p){if(!p)return[v];let S=[];const A=[S];let x;for(const k of v){const _=Pt(p,k.datum);_===x?S.push(k):(S=[k],A.push(S),x=_)}return A}const d=T(()=>s(l).z||s(l).stroke),{getPlotState:h}=Rt("svelteplot"),b=T(h),g=T(()=>s(b).scales.projection&&r()==="auto"?m(s(b).scales.projection):yb(My,[],{curve:n4(r()==="auto"?"linear":r(),a()),x:v=>v.x,y:v=>v.y,defined:v=>Pe(v.x)&&Pe(v.y)}));function m(v){const p=Dh(v),S=A=>{let x=[];const k=[x];for(const{x:_,y}of A)!Pe(_)||!Pe(y)?(x=[],k.push(x)):x.push([_,y]);return p({type:"MultiLineString",coordinates:k})};return S.context=p.context,S}Gn(t,on({type:"line",channels:["x","y","opacity","stroke","strokeOpacity"],required:["x","y"]},()=>s(l),{children:(p,S)=>{let A=()=>S==null?void 0:S().mark,x=()=>S==null?void 0:S().usedScales,k=()=>S==null?void 0:S().scaledData;var _=St(),y=at(_);{var M=w=>{var N=A4();const C=T(()=>u(k(),s(d)));var R=V(at(N));{var L=E=>{k4(E,{get groupedLineData(){return s(C)},get mark(){return A()},get usedScales(){return x()},get linePath(){return s(g)},get groupByKey(){return s(d)}})},P=E=>{var F=T4();Ut(F,21,()=>s(C),Qt,(j,D)=>{var q=St();const K=T(()=>s(g)(s(D)));var Q=at(q);{var it=st=>{const ft=T(()=>Pt(c(),s(D)[0]));xb(st,{get class(){return s(ft)},children:(bt,W)=>{var G=S4();const _t=T(()=>{const[ot,ut]=Xe(s(b),s(D)[0],{strokeWidth:1.4,strokeLinejoin:"round",...s(l),stroke:s(D)[0].stroke},"stroke",x());return{style:ot,styleClass:ut}}),I=T(()=>{const[ot,ut]=Xe(s(b),s(D)[0],{textAnchor:"middle",...s1(s(l),["fontSize","fontWeight","fontStyle","textAnchor"]),strokeWidth:s(l).textStrokeWidth?s(l).textStrokeWidth:s(l).textStroke?2:0,fill:s(l).textFill||s(l).stroke,stroke:s(l).textStroke},"fill",x(),!0);return{textStyle:ot,textStyleClass:ut}});var Z=at(G);{var tt=ot=>{var ut=M4();const te=T(()=>{const[se,fe]=Xe(s(b),{...s(D)[0],stroke:e.outlineStroke},{strokeLinejoin:"round",...s(l),stroke:e.outlineStroke,strokeOpacity:e.outlineStrokeOpacity??1,strokeWidth:e.outlineStrokeWidth||Pt(e.strokeWidth,s(D)[0].datum,1.4)+2},"stroke",x());return{outlineStyle:se,outlineStyleClass:fe}});et(()=>{Y(ut,"d",s(K)),At(ut,s(te).outlineStyle),It(ut,0,ye(["is-outline",s(te).outlineStyleClass]))}),z(ot,ut)};$(Z,ot=>{e.outlineStroke&&ot(tt)})}var O=V(Z);const Ft=T(()=>e.text?s(g)(s(D).toReversed()):null),wt=T(()=>s(D)[0].stroke||"currentColor"),Xt=T(()=>e.text?Pt(e.text,s(D)[0]):null),nt=T(()=>Pt(s(l).textStartOffset,s(D)[0],"50%"));w4(O,{get mark(){return A()},get scales(){return s(b).scales},get markerStart(){return s(l).markerStart},get markerMid(){return s(l).markerMid},get markerEnd(){return s(l).markerEnd},get marker(){return s(l).marker},get strokeWidth(){return s(l).strokeWidth},get datum(){return s(D)[0]},get d(){return s(K)},get dInv(){return s(Ft)},get color(){return s(wt)},get style(){return s(_t).style},get class(){return s(_t).styleClass},get text(){return s(Xt)},get startOffset(){return s(nt)},get textStyle(){return s(I).textStyle},get textStyleClass(){return s(I).textStyleClass}}),z(bt,G)},$$slots:{default:!0}})};$(Q,st=>{s(K)&&st(it)})}z(j,q)}),H(F),et(()=>It(F,0,ye(["lines",o()]))),z(E,F)};$(R,E=>{i()?E(L):E(P,!1)})}z(w,N)};$(y,w=>{k().length>0&&w(M)})}z(p,_)},$$slots:{default:!0}})),Nt()}const N4={count:t=>Array.from(t).length,min:Bc,max:Sa,mode:$v,sum:tp,mean:Kv,median:Qv,identity:t=>t,variance:B0,deviation:Iv,first:t=>t[0],last:t=>t.at(-1),difference:t=>t.at(-1)-t[0],ratio:t=>t.at(-1)/t[0]};new Proxy(N4,{get(t,e){if(String(e).charAt(0)==="p"&&String(e).length===3){const n=+String(e).slice(1)/100;return E4(n)}return Reflect.get(t,e)},has(t,e){return String(e).charAt(0)==="p"&&String(e).length===3?!0:Reflect.has(t,e)}});function E4(t){return(e,n)=>Is(e,t,n)}function P4(t,{plot:e}){return R4("x",e,t)}function R4(t,e,{data:n,...r}){if(r.interval&&r[t]&&r[`${t}1`]==null&&r[`${t}2`]==null){const a=_f(r.interval,e.scales[t].type);return{data:n.map(o=>{const c=re(t,o,r);return{...o,[`__${t}1`]:a.floor(c),[`__${t}2`]:a.offset(a.floor(c))}}),insetRight:1,...r,[`${t}1`]:`__${t}1`,[`${t}2`]:`__${t}2`}}return{data:n,...r}}var L4=ct("<h2>Line Plot</h2> <!> <h2>Stacked Bar Chart</h2> <!> <h2>Scatter Plot</h2> <!>",1);function F4(t,e){Ct(e,!1);let n=B(e,"colors",24,()=>["red","green","blue"]),r=On([]),a=On([]),i=On([]);const o=["A","B","C","D"];function c(h,b){return Math.floor(Math.random()*(b-h+1))+h}Xu(()=>ki(n()),()=>{rt(r,n().map(h=>Array.from({length:10},(b,g)=>({x:g,y:c(10,100)})))),rt(a,n().flatMap(h=>o.map(b=>({category:b,value:c(10,100),color:h})))),rt(i,n().flatMap(h=>Array.from({length:30},()=>({x:Math.random()*100,y:Math.random()*100,color:h}))))}),Gu(),oo();var f=L4(),l=V(at(f),2);pa(l,{grid:!0,children:(h,b)=>{var g=St(),m=at(g);Ut(m,1,n,Qt,(v,p,S)=>{C4(v,{x:"x",y:"y",get data(){return s(r)[S]},get stroke(){return s(p)}})}),z(h,g)},$$slots:{default:!0}});var u=V(l,4);pa(u,{children:(h,b)=>{l4(h,{get data(){return s(a)},x:"value",y:"category",fill:"color"})},$$slots:{default:!0}});var d=V(u,4);pa(d,{grid:!0,children:(h,b)=>{b4(h,{get data(){return s(i)},x:"x",y:"y",fill:"color"})},$$slots:{default:!0}}),z(t,f),Nt()}var z4=ct('<div class="color-input-row svelte-1b6kqr"><!> <button class="svelte-1b6kqr">Remove</button></div>'),O4=ct('<main class="svelte-1b6kqr"><h1 class="svelte-1b6kqr">APCA Color Palette Chooser</h1> <section class="color-selection svelte-1b6kqr"><h2 class="svelte-1b6kqr">1. Select Your Colors</h2> <div class="color-array-input svelte-1b6kqr"><h3 class="svelte-1b6kqr">Set Colors from Text Array</h3> <textarea placeholder="Enter hex colors, one per line or separated by commas (e.g., #FF0000, #00FF00)" rows="8" class="svelte-1b6kqr"></textarea> <br/> <button class="load-button svelte-1b6kqr">Load Colors from Text</button> <p class="input-tip svelte-1b6kqr">(Only valid hex codes will be loaded. Example: `#007bff`, `28a745`, `#F00`)</p></div> <div class="individual-color-inputs svelte-1b6kqr"><h3 class="svelte-1b6kqr">Individual Color Adjustments</h3> <div class="color-inputs-list svelte-1b6kqr"><!> <button class="svelte-1b6kqr">Add New Color</button></div></div> <div class="white-color-input svelte-1b6kqr"><h3 class="svelte-1b6kqr">Background for Contrast</h3> <!></div></section> <section class="contrast-analysis svelte-1b6kqr"><h2 class="svelte-1b6kqr">2. Contrast Analysis (APCA)</h2> <!></section> <section class="chart-preview-section svelte-1b6kqr"><h2 class="svelte-1b6kqr">3. Chart Previews</h2> <!></section></main>');function G4(t,e){Ct(e,!1);let n=On(["#007bff","#27A0CC","#871A5B","#A8BD3A","#F66068","#003C57"]),r=On("#FFFFFF"),a=On(s(n).join(`
`));const i=/^#?([0-9A-Fa-f]{3}){1,2}$|^#?([0-9A-Fa-f]{4})$|^#?([0-9A-Fa-f]{8})$/;function o(N){return i.test(N.trim())}function c(N,C){Ef(n,s(n)[C]=N),rt(n,[...s(n)]),rt(a,s(n).join(`
`))}function f(){rt(n,[...s(n),"#cccccc"]),rt(a,s(n).join(`
`))}function l(N){s(n).splice(N,1),rt(n,[...s(n)]),rt(a,s(n).join(`
`))}function u(){const N=s(a).split(/[\n,;\s]+/).map(C=>C.trim()).filter(C=>C&&o(C));N.length>0?rt(n,N):alert("No valid colors found in the input. Please enter hex codes (e.g., #RRGGBB) separated by newlines, commas, or spaces."),rt(a,s(n).join(`
`))}oo();var d=O4(),h=V(X(d),2),b=V(X(h),2),g=V(X(b),2);v2(g);var m=V(g,4);fo(2),H(b);var v=V(b,2),p=V(X(v),2),S=X(p);Ut(S,1,()=>s(n),Qt,(N,C,R)=>{var L=z4(),P=X(L);Gf(P,{get color(){return s(n)[R]},set color(F){Ef(n,s(n)[R]=F)},$$events:{change:F=>c(F.detail,R)},$$legacy:!0});var E=V(P,2);H(L),et(()=>E.disabled=s(n).length<=1),Le("click",E,()=>l(R)),z(N,L)});var A=V(S,2);H(p),H(v);var x=V(v,2),k=V(X(x),2);Gf(k,{get color(){return s(r)},set color(N){rt(r,N)},$$legacy:!0}),H(x),H(h);var _=V(h,2),y=V(X(_),2);Pv(y,{get colors(){return s(n)},get white(){return s(r)}}),H(_);var M=V(_,2),w=V(X(M),2);F4(w,{get colors(){return s(n)}}),H(M),H(d),et(()=>At(M,`background-color:${s(r)??""};`)),a0(g,()=>s(a),N=>rt(a,N)),Le("blur",g,u),Le("click",m,u),Le("click",A,f),z(t,d),Nt()}export{G4 as component};
